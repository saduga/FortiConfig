!function(a){"use strict";var b=Object.create(null);a.fweb_define=function(a,c,d,e){b[a]={dependencies:c,export_path:d,definition:e}},a.fweb_define.DEFINITIONS=b}(window),fweb_define("ftnt_shared",["jquery","flot"],null,function(){var a=void 0,b={exports:{}},c={};return function(d){if("object"==typeof c&&"undefined"!=typeof b)b.exports=d();else if("function"==typeof a&&a.amd)a([],d);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ftnt_shared=d()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";a("./chart"),a("./add-empty-placeholders"),a("./jquery"),a("./detect-antialiasing-disabled"),window.ftnt_shared=b.exports={browser:a("./browser"),clipboard:a("./clipboard"),enhanceFileInput:a("./enhance-file-input"),IpMask:a("./ip-mask"),MultiInput:a("./multi-input"),highlighter:a("./highlighter"),nonBlockingSort:a("./sort"),notify:a("./notify"),Tooltip:a("./tooltip"),TooltipKey:a("./select/tooltip-key"),Omniselect:a("./select/select"),Sliderin:a("./slide/slide"),slideUtil:a("./slide/slide-util"),MuTable:a("./table/table"),util:a("./util"),shortcuts:a("./shortcuts"),formatters:a("./formatters"),SetSequence:a("./set-sequence"),MapSequence:a("./map-sequence"),animation:a("./animation"),lang:a("./lang"),log:a("./log"),dom:a("./dom")}},{"./add-empty-placeholders":2,"./animation":3,"./browser":4,"./chart":5,"./clipboard":6,"./detect-antialiasing-disabled":7,"./dom":9,"./enhance-file-input":10,"./formatters":11,"./highlighter":12,"./ip-mask":13,"./jquery":17,"./lang":23,"./log":24,"./map-sequence":25,"./multi-input":27,"./notify":28,"./select/select":34,"./select/tooltip-key":37,"./set-sequence":41,"./shortcuts":42,"./slide/slide":44,"./slide/slide-util":43,"./sort":45,"./table/table":69,"./tooltip":71,"./util":75}],2:[function(a,b,c){window.fixAllPlaceholders=function(){"use strict";function a(){function b(a){for(var b=0;b<a.length;++b)a[b].getAttribute("placeholder")||a[b].setAttribute("placeholder"," ")}window.removeEventListener("load",a),document.removeEventListener("DOMContentLoaded",a),b(document.getElementsByTagName("input")),b(document.getElementsByTagName("textarea"))}return window.addEventListener("load",a),document.addEventListener("DOMContentLoaded",a),a}()},{}],3:[function(a,b,c){"use strict";var d=b.exports={},e=a("./util"),f=a("./browser");d.DIMENSIONS={HEIGHT:"offsetHeight",WIDTH:"offsetWidth"},d.CROSS_BROWSER_ANIMATION_END="animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",d.CROSS_BROWSER_TRANSITION_END="transtionend webkitTransitionEnd msTransitionEnd oTransitionEnd",d.triggerReflow=function(a){return a.offsetHeight},d.ieForceRedraw=function(a){f.isIE()&&(a.style.opacity="0.999999",requestAnimationFrame(function(){a.style.opacity=""}))};var g="vertical-expand-shrink",h="vertical-expand-shrink-flex";d.SLIDE_SHRINK_MARGIN_ANIMATE_CLASS={left:"slide-in-left-animate",right:"slide-in-right-animate"};var i="no-animation-transition";d.animateCssPropertyGrowToAuto=function(a,b,c,e,f,g){return new Promise(function(h){if(a.classList.contains(i))return a.classList.remove(e),a.style[c]="",void h();g=g?-1:1;var j,k=function(){a.style[c]=null,a.classList.remove(e),a.removeEventListener("transitionend",k),d.ieForceRedraw(a),h()};return a.classList.add(e),a.offsetParent?(a.classList.add(i),a.style[c]="",j=a[b]*g,a.style[c]=f+"px",d.triggerReflow(a),a.classList.remove(i),a.style[c]=j+"px",a.addEventListener("transitionend",k),void d.ieForceRedraw(a)):(a.classList.remove(e),void h())})},d.animateCssPropertyShrinkFromAuto=function(a,b,c,e,f,g){return new Promise(function(h){if(a.classList.contains(i))return void h();g=g?-1:1;var j=a[b]*g,k=function(){a.style[c]=null,a.classList.remove(e),a.removeEventListener("transitionend",k),h()};return a.classList.add(e),a.offsetParent?(a.classList.add(i),a.style[c]=j+"px",d.triggerReflow(a),a.classList.remove(i),a.style[c]=f+"px",void a.addEventListener("transitionend",k)):(a.classList.remove(e),void h())})},d.slideInAnimate=function(a,b){return d.animateCssPropertyShrinkFromAuto(a,d.DIMENSIONS.WIDTH,"margin-"+b,d.SLIDE_SHRINK_MARGIN_ANIMATE_CLASS[b],0,!0)},d.slideOutAnimate=function(a,b){return d.animateCssPropertyGrowToAuto(a,d.DIMENSIONS.WIDTH,"margin-"+b,d.SLIDE_SHRINK_MARGIN_ANIMATE_CLASS[b],0,!0)},d.toAutoHeightVerticalExpand=function(a,b){var c=e.elementIsFlex(a),f=c?h:g;return d.animateCssPropertyGrowToAuto(a,d.DIMENSIONS.HEIGHT,"height",f,b)},d.fromAutoHeightVerticalShrink=function(a,b){var c=e.elementIsFlex(a),f=c?h:g;return d.animateCssPropertyShrinkFromAuto(a,d.DIMENSIONS.HEIGHT,"height",f,b)},d.noAnimate=function(a,b){var c=a.classList.contains(i);a.classList.add(i),b(),c||a.classList.remove(i)}},{"./browser":4,"./util":75}],4:[function(a,b,c){"use strict";var d=a("./util"),e="updateResponsiveState",f="requestResponsiveState",g=window===top,h=null,i=a("./responsive.json"),j=b.exports.responsive={SCREEN:i.screen,isLarge:function(){return top.window.matchMedia("only screen and (min-width: "+i.screen.medium+"px)").matches},isMedium:function(){return top.window.matchMedia("only screen and (min-width: "+i.screen.small+"px)").matches},isMediumOnly:function(){return top.window.matchMedia("only screen and (min-width: "+i.screen.small+"px) and (max-width: "+(i.screen.medium-1)+"px)").matches},isSmall:function(){return top.window.matchMedia("only screen and (max-width: "+(i.screen.small-1)+"px)").matches},isSmallOnly:function(){return top.window.matchMedia("only screen and (min-width: "+i.screen.mini+"px) and (max-width: "+(i.screen.small-1)+"px)").matches},isMini:function(){return top.window.matchMedia("only screen and (max-width: "+(i.screen.mini-1)+"px)").matches}},k=b.exports.isFortiExploreriOS=function(){var a;return function(){return null==a&&(a=0===navigator.userAgent.indexOf("FortiExplorer/iOS/")),a}}(),l=b.exports.isMobile=function(){var a;return function(){return null==a&&(a=k()||/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|Windows Phone/i.test(navigator.userAgent)),a}}();b.exports.isIE=function(){var a;return function(){return null==a&&(a=!!/(msie [\w.]+|Trident\/[567]\.|Edge\/1\d\.)/i.exec(navigator.userAgent)),a}}(),b.exports.isiOS=function(){var a;return function(){return null==a&&(a=navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)),a}}();var m=function(){var a=h||{mini:j.isMini(),small:j.isSmall(),"small-only":j.isSmallOnly(),medium:j.isMedium(),"medium-only":j.isMediumOnly(),large:j.isLarge(),mobile:l()};return{classes:a}},n=function(a){Object.keys(a).forEach(function(b){a[b]?document.body.classList.add(b):document.body.classList.remove(b)})},o=function(a){var b=m(),c=function(a){for(var f=a.document.getElementsByTagName("iframe"),g=0;g<f.length;g++)try{var h=f[g].contentWindow;if(h.postMessage){var i=d.getOrigin(h);window.location.origin===i&&(h.postMessage({messageType:e,state:b},i),c(h))}}catch(a){}};n(b.classes),a&&c(window)};b.exports.startResponsiveListener=function(){g?(o(),window.addEventListener("resize",d.debounce(200,function(){h=null,o(!0)})),window.addEventListener("message",function(a){a.data&&d.isTrustedOrigin(a.origin)&&a.data.messageType===f&&o(!0)})):(window.addEventListener("message",function(a){a.data&&d.isTrustedOrigin(a.origin)&&a.data.messageType===e&&n(a.data.state.classes)}),top.postMessage({messageType:f},d.getOrigin(window)))}},{"./responsive.json":30,"./util":75}],5:[function(a,b,c){"use strict";var d=a("./util"),e=a("./tooltip");window.Chart=function(a){function b(b){this.id=k++,this.$graph=a('<div class="chart"></div>'),this.$element=b.element.addClass("chart-container "+i.CHART_LOADING).empty().append(this.$graph).append('<div class="chart-mask">'+f+g+"</div>"),this.dimensions={},this.update(b)}var c=/rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)/,f='<f-icon class="fa-loading icon-xxl chart-loading-icon"></f-icon>',g='<div class="empty-placeholder"></div>',h=25,i={CHART_EMPTY:"chart-empty",CHART_LOADING:"chart-loading",CHART_LOADING_RESIZING:"chart-loading-resizing"},j="No data",k=1;return b.prototype.COLORS={BLUE:"rgb(33, 150, 243)",AMBER:"rgb(255, 193, 7)",PINK:"rgb(233, 30, 99)",GREEN:"rgb(76, 175, 80)",RED:"rgb(244, 67, 54)",PURPLE:"rgb(156, 39, 176)",DEEP_PURPLE:"rgb(103, 58, 183)",INDIGO:"rgb(63, 81, 181)",LIGHT_BLUE:"rgb(3, 169, 244)",CYAN:"rgb(0, 188, 212)",TEAL:"rgb(0, 150, 136)",LIGHT_GREEN:"rgb(139, 195, 74)",LIME:"rgb(205, 220, 57)",YELLOW:"rgb(255, 235, 59)",ORANGE:"rgb(255, 152, 0)",DEEP_ORANGE:"rgb(255, 87, 34)",BROWN:"rgb(121, 85, 72)",GREY:"rgb(158, 158, 158)",BLUE_GREY:"rgb(96, 125, 139)"},b.prototype.DEFAULT_COLORS=Object.keys(b.prototype.COLORS).map(function(a){return b.prototype.COLORS[a]}),b.prototype.update=function(b,c){var d={data:void 0,options:{},tooltips:!1,tooltip_formatter:function(a,b,c){return a+": "+c},events:{},legend_container:void 0,empty_chart_text:j};if(Object.keys(d).forEach(function(a){this[a]=null!=b[a]?b[a]:d[a]}.bind(this)),b.options&&!this.options.colors&&(this.options.colors=this.DEFAULT_COLORS),this.plot=a.Deferred(),b.legend_container){var e=a(b.legend_container);e.addClass("flot-legend").empty(),this.options.legend={show:!1},a.when(this.plot).then(function(b){b.getData().forEach(function(b){var c=a("<span>").addClass("legend-series-color").css("background-color",b.color),d=a("<div>").addClass("legend-series").text(b.label);d.prepend(c),e.append(d)})})}c&&!this._resizing&&this.render()},b.prototype.render=function(){var b=this._previousRender||(this._previousRender={}),c=b.plot,d=!c||b.placeholder!==this.$graph||b.options!==this.options,e=function(a){var b=a.getData();return!Array.isArray(b)||!b.length||Number.isNaN(b[0].percent)||b[0].label&&!b[0].data},f=function(f){var g=this._get_dimensions(),h=this._check_dimensions_validity(g);if(h){this.$graph.off(),this.is_loading=!1,this.$element.removeClass([i.CHART_EMPTY,i.CHART_LOADING,i.CHART_LOADING_RESIZING].join(" ")),this.tooltips&&!this.events.plothover&&this._setup_tooltips(),d?(c=a.plot(this.$graph,f,this.options),b.placeholder=this.$graph,b.options=this.options,b.plot=c):(g.width===this.dimensions.width&&g.height===this.dimensions.height||c.resize(),c.setData(f),c.setupGrid(),c.draw()),this.plot.resolve(c),Object.keys(this.events).forEach(function(a){this.$graph.on(a,this.events[a])}.bind(this)),this.dimensions=g,this._dimensionsChanged=!1,this._resizing=!1;var j=this.options.grid;j&&j.clickable&&this.$graph.on("plothover",function(a,b,c){this.$graph.toggleClass("clickable",!!c)}.bind(this)),e(c)&&(this.$element.addClass(i.CHART_EMPTY),this.$element.find(".empty-placeholder").html(this.empty_chart_text))}return h}.bind(this);this.data&&(this.is_loading=!0,this.$element.addClass(i.CHART_LOADING),("function"==typeof this.data.then?this.data:a.when(this.data)).then(function(a){f(a)||this.check_needs_redraw()}.bind(this)))},b.prototype._debounced_redraw=d.debounce(500,function(){var a=this._get_dimensions();this._dimensionsChanged&&this._check_dimensions_validity(a)&&this.render()}),b.prototype.check_needs_redraw=function(){if(!this._resizing){if(!this._dimensionsChanged){var a=this._get_dimensions(),b=a.width!==this.dimensions.width,c=a.height!==this.dimensions.height;this._dimensionsChanged=b||c}this._debounced_redraw()}},b.prototype.toggle_resizing=function(a){var b=this._resizing;this._resizing=a,a?this.$element.addClass(i.CHART_LOADING_RESIZING):b&&this.render()},b.prototype.redraw_on_window_resize=function(b){var c="resize.flot_chart"+this.id;b?a(window).on(c,function(){this.check_needs_redraw()}.bind(this)):a(window).off(c)},b.prototype._get_dimensions=function(){return{width:this.$element.width(),height:this.$element.height(),visible:this.$element.is(":visible")}},b.prototype._check_dimensions_validity=function(a){return a.visible&&a.width&&a.height>h},b.prototype._get_tooltip=function(){return this.tooltip||(this.tooltip=new e({class:"chart-tooltip",followCursor:!1,padContent:!1,transition:!1})),this.tooltip},b.prototype._setup_tooltips=function(){var b=this._get_tooltip();this.options.grid=this.options.grid||{},this.options.grid.hoverable=!0,this.$graph.on("plothover",function(d,e,f){var g,h,i=a("<div></div>");if(f){if(g=this.tooltip_formatter(f.series.label,f.datapoint[0],f.series.data[f.dataIndex][1],f),!c.test(f.series.color))throw new Error("Series colors must be in rgb form");h=f.series.color.slice(0,-1).replace("rgb","rgba")+",0.7)",i.css("background-color",h).html(g),b.show(i[0],e.pageX,e.pageY)}else b.hide()}.bind(this))},b}(jQuery)},{"./tooltip":71,"./util":75}],6:[function(a,b,c){"use strict";function d(a){if("function"==typeof a.select)return a.select(),document.execCommand("copy");throw new Error("Copy not implemented for "+a.tagName)}var e="queryCommandSupported"in document;b.exports={canCopy:e&&document.queryCommandSupported("copy"),canCut:e&&document.queryCommandSupported("cut"),copyContent:d,cutContent:function(a){if("INPUT"===a.tagName)return a.select(),document.execCommand("cut");throw new Error("Cut not implemented for "+a.tagName)},copyText:function(a){var b,c=document.createElement("textarea");return c.value=a,document.body.appendChild(c),b=d(c),c.parentNode.removeChild(c),b}}},{}],7:[function(a,b,c){"use strict";function d(){function a(a){a.textBaseline="top",a.fillStyle="white",a.fillRect(0,0,c.width,c.height),a.fillStyle="black",a.font=d+"px Arial, monospace",a.fillText(".",-5.5,Math.round(d*-.65)+.5)}function b(a){for(var b=0;b<a.length;b+=4){if(a[b]<255&&a[b]>0){var c={r:a[b],g:a[b+1],b:a[b+2]};return c.r!==c.g||c.r!==c.b||c.b!==c.g?f.SUBPIXEL:f.GRAYSCALE}h=a[b]>h?a[b]:h}return 0===h&&null}if(document){var c=document.createElement("canvas"),d=100;c.width=.2*d,c.height=.3*d;var e=c.getContext("2d",{alpha:!1});a(e);var g=e.getImageData(0,0,c.width,c.height),h=0;return b(g.data)}return null}function e(){if(!document.body)return void setTimeout(e);var a=d();a===!1&&(document.body.className+=(document.body.className?" ":"")+g)}var f={SUBPIXEL:{toString:function(){return"cleartype"}},GRAYSCALE:{toString:function(){return"greyscale"}}},g="text-antialiasing-disabled";b.exports={detectTextAntialiasing:d,ANTIALIASING:f,TEXT_ANTIALIASING_DISABLED_CLASSNAME:g},/\bWindows\b/.test(navigator.userAgent)&&e()},{}],8:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d;return c=c||{},d=a instanceof HTMLElement?a:document.createElement(a),b&&Object.keys(b).forEach(function(a){var c=b[a];"object"==typeof c?Object.assign(d[a],c):d[a]=c}),c.attributes&&Object.keys(c.attributes).forEach(function(a){d.setAttribute(a,c.attributes[a])}),c.events&&Object.keys(c.events).forEach(function(a){d.addEventListener(a,c.events[a])}),Array.isArray(c.children)&&c.children.forEach(function(a){d.appendChild(a)}),d}},{}],9:[function(a,b,c){"use strict";b.exports.elem=a("./element"),b.exports.getElementOffset=function(a){var b=a.getBoundingClientRect(),c=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft;return{top:b.top+c,left:b.left+d}};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","\\":"&bsol;"},e=/[&<>"'\\]/g,f=function(a){return d[a]};b.exports.escapeHTML=function(a){return e.test(a)?a.replace(e,f):a}},{"./element":8}],10:[function(a,b,c){"use strict";var d=a("./browser");b.exports=function(a,b){function c(a){if(k){var b=Array.prototype.slice.call(a.target.files),c=b.map(function(a){return a.name});c.length?k.innerHTML=c.join("<br>"):k.innerHTML=g}}function e(b){function c(a){return function(b){return b!==a}}function d(a){return"files"===a.toLowerCase()}var e=a.className.replace(/ *\bdrop-support\b/g,""),f=b.dataTransfer&&b.dataTransfer.types&&Array.prototype.slice.call(b.dataTransfer.types),g="input"===b.target.tagName.toLowerCase()&&"file"===b.target.type;if("dragover"===b.type){if(b.target===m){var h={width:m.offsetWidth/2,height:m.offsetHeight/2},i={width:h.width*j,height:h.height*j};a.style.top=m.offsetTop+h.height-i.height+"px",a.style.left=m.offsetLeft+h.width-i.width+"px",a.style.width=m.offsetWidth*j+"px",a.style.height=m.offsetHeight*j+"px"}!f.some(d)||g&&!o||b.preventDefault()}else"dragenter"===b.type?(n.push(b.target),(!f||f.some(d)&&!o)&&(a.className=e+" drop-support")):"dragleave"===b.type?n=n.filter(c(b.target)):(n=[],!f.some(d)||g&&!o||b.preventDefault());0===n.length&&(a.className=e)}function f(a,b){var c={};for(var d in b)c[d]=d in a?a[d]:b[d];return c}var g,h={fileNameLabelTextSelector:"span"},i=["dragenter","dragleave","drop","dragover"],j=1.5,k=null,l=a.ownerDocument,m=l.querySelectorAll('[for="'+a.id+'"]')[0],n=[],o=d.isIE();if(b=f(b||{},h),"string"==typeof b.fileNameLabelTextSelector){var p='[for="'+a.id+'"] '+b.fileNameLabelTextSelector;k=l.querySelectorAll(p)[0],g=k.innerHTML}return i.forEach(function(a){l.body.addEventListener(a,e)}),a.addEventListener("change",c),function(){i.forEach(function(a){l.body.removeEventListener(a,e)}),a.removeEventListener("change",c),k&&(k.innerHTML=g)}}},{"./browser":4}],11:[function(a,b,c){"use strict";var d={},e=1e3,f=1024,g=[{label:"B",decimal_places:0},"kB","MB","GB","TB","PB"],h=[{label:"B",decimal_places:0},"KiB","MiB","GiB","TiB","PiB"],i=[{label:"bps",decimal_places:0},"kbps","Mbps","Gbps","Tbps","Pbps"],j=[{label:"B/s",decimal_places:0},"kB/s","MB/s","GB/s","TB/s","PB/s"],k=function(a){return parseInt(a,10)===a},l=function(a,b){return function(c,d,e){c=Number(c),d=null==d?2:d,isNaN(c)&&(c=0);for(var f,g,h,i,j=a.length,l=0;l<j&&(f=a[l],i=c,c>=b&&l!==j-1);l++)if(c/=b,e&&!k(c)){c=i;break}return"object"==typeof f?(g=f.label,d=f.decimalPlaces):g=f,h=g?" "+g:"",c.toFixed(d)+h}};d.metricBytes=l(g,e),d.binaryBytes=l(h,f),d.metricBytesPerSecond=l(j,e),d.metricBitsPerSecond=l(i,e),d.COMPARE_BAR_COLOR={OCEAN_GREEN:"rgb(74,148,113)",BLUE:"rgb(165,194,254)",GREEN:"rgb(151,207,180)",RED:"rgb(230,166,165)",BRIGHT_RED:"rgb(159,21,20)"};var m={BASE:"base",MID:"mid",LIMIT:"limit"},n=function(a){var b;return b=a>=-31?1:a>=-40?.9:a>=-46?.8:a>=-52?.7:a>=-61?.6:a>=-70?.5:a>=-76?.4:a>=-82?.3:a>=-88?.2:.1},o=function(a,b){return b===m.BASE?Math.max(1-2*a,0):b===m.MID?a<.5?2*a:2*(1-a):Math.max((a-.5)/.5,0)};d.signalStrengthBar=function(a,b,c,d){if(null==a)return"";var e=b||"";e+=d?" reverse":"";var f=n(a),g=(100*f).toString()+"%",h={base:{opacity:o(f,m.BASE),width:g},mid:{opacity:o(f,m.MID),width:g},limit:{opacity:o(f,m.LIMIT),width:g}};c=c||""+a+" dBm";var i='<div class="signal-strength-bar '+e+'" title="'+c+'"><div class="signal-strength-bar-background"><div class="signal-strength-bar-base" style="width: '+h.base.width+"; opacity: "+h.base.opacity+';"></div><div class="signal-strength-bar-mid" style="width: '+h.mid.width+"; opacity: "+h.mid.opacity+';"></div><div class="signal-strength-bar-limit" style="width: '+h.limit.width+"; opacity: "+h.limit.opacity+';"></div></div><div class="signal-strength-bar-scales">'+'<div class="signal-strength-bar-scale"></div>'.repeat(10)+"</div></div>";return i},b.exports=d},{}],12:[function(a,b,c){"use strict";var d=a("./util"),e=b.exports.highlightMatchesInElement=function(a,b,c){var e=new RegExp(d.preRegexEscape(b),c?"i":void 0),f=!1,g=function(a){for(var c,d,g,h,i,j=0,k=a.nodeValue,l=!1;;){if(c=k.substr(j),d=c.search(e),d<0){if(!l)break;c&&(g=document.createTextNode(c),a.parentNode.insertBefore(g,a)),a.parentNode.removeChild(a);break}d>0&&(i=c.substr(0,d),g=document.createTextNode(i),a.parentNode.insertBefore(g,a)),i=c.substr(d,b.length),h=document.createElement("mark"),h.appendChild(document.createTextNode(i)),a.parentNode.insertBefore(h,a),j+=d+b.length,l=!0,f=!0}},h=function(a){var b;a&&(b=Array.prototype.slice.call(a.childNodes),b.forEach(function(a){a.nodeType===Node.TEXT_NODE?g(a):a.nodeType===Node.ELEMENT_NODE&&h(a)}))};return h(a),f};b.exports.highlightMatchesInHTML=function(a,b,c){var d=document.createElement("div");return d.innerHTML=a,e(d,b,c),d.innerHTML}},{"./util":75}],13:[function(a,b,c){"use strict";function d(a,b){"string"==typeof a&&(a=d.toDotted(a)),"string"==typeof b&&(b=d.toDotted(b)),this.addr=a,this.netmask=b}b.exports=d,d.IPV4_SUBNET_EXPR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])([\/ ]{1}((((254|252|248|240|224|192|128|0)\.0\.0\.0)|(255\.(254|252|248|240|224|192|128|0)\.0\.0)|(255\.255\.(254|252|248|240|224|192|128|0)\.0)|(255\.255\.255\.(255|254|252|248|240|224|192|128|0))|(3[0-2]|2[0-9]|1[0-9]|[0-9]))))?$/,d.IPV4_AND_SUBNET_EXPR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])[\/ ]{1}((((254|252|248|240|224|192|128|0)\.0\.0\.0)|(255\.(254|252|248|240|224|192|128|0)\.0\.0)|(255\.255\.(254|252|248|240|224|192|128|0)\.0)|(255\.255\.255\.(255|254|252|248|240|224|192|128|0))|(3[0-2]|2[0-9]|1[0-9]|[0-9])))$/,d.IPV4_ADDR_EXPR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,d.prototype={clone:function(){return new d(this.addr.slice(),this.netmask.slice())},contains:function(a){return a>=this.numbered(d.RANGE_LOW)&&a<=this.numbered(d.RANGE_HIGH)},numbered:function(a){var b,c;switch(a){case d.RANGE_LOW:return this.numbered(d.NETWORK)+1;case d.RANGE_HIGH:return this.numbered(d.BROADCAST)-1;case d.NETWORK:return b=d.toNumber(this.addr),c=d.toNumber(this.netmask),(b&c)>>>0;case d.BROADCAST:return b=d.toNumber(this.addr),c=d.toNumber(this.netmask),b&=c,b+~c>>>0;default:return d.toNumber(this.addr)}},prefixLength:function(){d._prefixMap||d.buildNetmaskPrefixMap();var a=this.netmask.join(".");return d._prefixMap[a]||0},fullNetwork:function(){var a=this,b=d.toDotted(a.numbered(d.NETWORK)).join("."),c=a.prefixLength();return b+"/"+c},overlaps:function(a){var b=d.parse(a),c=Math.min(d.toNumber(b.netmask),d.toNumber(this.netmask)),e=b.numbered(),f=this.numbered(),g=f&c,h=e&c;return!(!g||!h||g!==h)},toString:function(a){return a=a||"/",[this.addr.join("."),this.netmask.join(".")].join(a)}},d.IP_LEN=4,d.BROADCAST=1,d.NETWORK=2,d.RANGE_HIGH=3,d.RANGE_LOW=4,d.parse=function(a){if(!d.IPV4_SUBNET_EXPR.test(a))return null;var b,c=a.split("/"),e=0,f=[];if(1===c.length&&(c=a.split(" ")),1===c.length&&c.push("32"),/\./.test(c[1]))f=c[1].split(".");else for(e=~((1<<32-c[1])-1),b=0;b<4;++b)f.unshift(255&e),e>>=8;return new d(c[0].split(".").map(Number),f.map(Number))},d.toDotted=function(a){if("string"==typeof a)return a.split(".").map(Number);var b,c=[];for(b=0;b<d.IP_LEN;++b)c.unshift(255&a),a>>=8;return c},d.toNumber=function(a){for(var b=0,c=0;c<d.IP_LEN;++c)b=b<<8|a[c];return b>>>0},d.buildNetmaskPrefixMap=function(){var a,b={},c=1<<31>>>0;for(a=0;a<32;a++){var e=d.toDotted(c).join(".");b[e]=a+1,c=(c|c>>1)>>>0}return d._prefixMap=b,d._prefixMap},d.isPublic=function(a){if(d.IPV4_ADDR_EXPR.test(a)){var b=d.toDotted(a);return 0!==b[0]&&(10!==b[0]&&(127!==b[0]&&((169!==b[0]||254!==b[1])&&(!(172===b[0]&&b[1]>=16&&b[1]<=32)&&((192!==b[0]||0!==b[1]||0!==b[2])&&((192!==b[0]||0!==b[1]||2!==b[2])&&((192!==b[0]||168!==b[1])&&!(b[0]>=224&&b[0]<=239))))))))}return!1},d.buildDhcpRanges=function(a){var b=a.numbered(),c=a.numbered(d.RANGE_LOW),e=a.numbered(d.RANGE_HIGH),f=[];return c>=e?[]:(b===c?f.push([c+1,e]):b===e?f.push([c,e-1]):b>c&&b<e&&(f.push([c,b-1]),f.push([b+1,e])),f.map(function(a){return{"start-ip":d.toDotted(a[0]).join("."),"end-ip":d.toDotted(a[1]).join(".")}}))}},{}],14:[function(a,b,c){"use strict";var d=jQuery,e={DISPOSE:"dispose"},f=a("../enhance-file-input");b.exports=d.fn.fEnhanceFileInput=function(a){var b="fEnhanceFileInputDispose";return a===e.DISPOSE?void this.each(function(a,c){var e=d(c).data(b);e&&"function"==typeof e&&e()}):void this.each(function(a,c){if("input"===c.tagName.toLowerCase()&&"file"===c.type){var e=f(c);d(c).data(b,e)}})},d.fn.fEnhanceFileInput.COMMANDS=e},{"../enhance-file-input":10}],15:[function(a,b,c){"use strict";function d(a,b,c){var d=a.indexOf(b),e=d>-1;return e&&c?a.splice(d,1):e||c||a.push(b),e}var e=jQuery,f=[],g=[];b.exports=e.fn.fixDialogLabelWidth=function(a){function b(a,b,c){var d,e=a.map(function(a){var c,d={};for(c in b)d[c]=a.style[c],a.style[c]=b[c];return{old:d,element:a}});return d=c(),e.forEach(function(a){var c;for(c in b)a.element.style[c]=a.old[c]}),d}var c=[],h={};void 0!==a&&a!==!0||(a=0),this.each(function(a,b){var d=e(this).closest("section")[0],f=c.indexOf(d);f===-1&&(f=c.length,c.push(d)),h[f]=h[f]||[],h[f].push(b)}),c.forEach(function(c){var h=e(c);if(a!==!1){var i=d(g,c);if(i)return void d(f,c);setTimeout(function(){d(g,c,!0),d(f,c,!0)&&h.fixDialogLabelWidth(a)},a)}var j=h.outerHeight();b([c],{"min-height":j+"px"},function(){var a=h.addClass("specify-label-width").find(".field").filter(":visible").addClass("specify-label-width").children("label:first-child").filter(":visible"),c=a.toArray(),d={"min-width":"",position:"absolute"},e=b(c,d,function(){return c.reduce(function(a,b){return Math.max(a,b.offsetWidth)},0)});a.css("min-width",e)})})}},{}],16:[function(a,b,c){"use strict";var d=jQuery,e=3e3,f=500,g="background-highlight",h="swing-extra-subtle";b.exports=d.fn.highlight=function(a){this.each(function(b,c){var i=d(c),j=i.closest(".content"),k=i.offset();a=isNaN(a)?e:+a,k.top-=20,k.left-=20,j.animate({scrollTop:k.top,scrollLeft:k.left}),i.addClass(g).addClass(h);var l=function(){i.removeClass(h),i.removeClass(g,{duration:f})};setTimeout(l,a-f)})}},{}],17:[function(a,b,c){"use strict";a("./pin-top"),a("./fix-dialog-label-width"),a("./select"),a("./tabs"),a("./enhance-file-input"),a("./highlight"),a("./tooltip")},{"./enhance-file-input":14,"./fix-dialog-label-width":15,"./highlight":16,"./pin-top":18,"./select":19,"./tabs":20,"./tooltip":21}],18:[function(a,b,c){"use strict";function d(a){function b(a){var b=g(a.elem);c(b,function(){a.top=b.offset().top})}function c(a,b){a.removeClass(k).addClass(l),a.css({width:"",top:""}),b(),a.removeClass(l)}function d(a){var b={};return a.forEach(function(a){b[a.pinClass]=a.fullHeight}),Object.keys(b).reduce(function(a,c){return b[c]+a},0)}function e(a){return function(b){return!a(b)}}function h(a){return function(b){return a!==b}}function n(a){return function(b){return b.pinClass===a}}function p(a,b){return a.top-b.top}var q=[];o.forEach(function(k,l){if(k.nodeType!==Node.DOCUMENT_NODE){"tab-selected"===a.type&&f[l].forEach(b);var o=g(k),r=o.offset(),s=r?r.top:0,t=f[l].slice().sort(p);t.forEach(function(a){var b=g(a.elem);if(c(b,function(){a.top=b.offset().top,a.fullHeight=b.outerHeight(!0),a.height=b.outerHeight(),a.bottom=a.top+a.height,a.width=b.width()}),b.is(":visible")&&!b.closest(".tab-hidden").length){var f=a.top-s,l=q.filter(n(a.pinClass)).filter(h(a)),p=q.filter(e(n(a.pinClass))),r=d(p,a);f<r?(b.css({width:a.width,top:o.offset().top+r}),a.$placeholder=a.$placeholder||g("<div>",{addClass:m}),a.$placeholder.height(a.fullHeight),b.after(a.$placeholder),b.addClass(i),q.push(a)):a.$placeholder&&a.$placeholder.remove();var t=l[l.length-1];if(t&&f<t.height+r){var u=a.top-s+k.scrollTop;l.slice().reverse().forEach(function(a){var b=k.scrollTop+a.$absParent.offset().top;g(a.elem).addClass(j).css("top",u-b),u-=a.fullHeight})}}})}})}function e(a){return g(a).parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))}).first()}var f,g=jQuery,h="pin-top",i="pinned",j="pinned-out",k="pinned-out pinned",l="pin-measure",m="pinned-placeholder",n=a("./ui-shims"),o=[];b.exports=g.fn.pinTop=function(a){return this.each(function(b,c){var i=g(c);if(i.hasClass(h))return!0;i.addClass(h),f||(f=[],g(window).resize(d));var j=n.scrollParent(i),k=o.indexOf(j[0]);if(k===-1&&(k=o.length,f[k]=[],o.push(j[0]),j.scroll(d),j.on("pin-top tab-selected",d)),f[k].indexOf(c)===-1){var l=c.getAttribute("data-pin-class");f[k].push({elem:c,pinClass:l||a,$absParent:e(c)})}}),this}},{"./ui-shims":22}],19:[function(a,b,c){"use strict";var d=jQuery,e="select-instance",f="data-select-widget",g={ENABLE:"enable",DISABLE:"disable",RELOAD:"reload",REPROCESS:"reprocess",GET_INSTANCE:"getInstance"};d.fn.omniselect=function(a){if("string"==typeof a&&0===this.length)throw new Error("Cannot send omniselect commands to an empty jQuery collection");var b;return this.each(function(c,h){var i,j,k=d(h),l=k.val(),m=k.data(e),n=function(){var a=k.closest("form").data("validator");a&&a.element(k[0])};if(m&&"string"==typeof a){if(a===g.ENABLE)m.disable(!1);else if(a===g.DISABLE)m.disable(!0);else if(a===g.RELOAD)m.update({reload:!0});else if(a===g.REPROCESS)m.update({reProcess:!0});else if(a===g.GET_INSTANCE){if(c>0)throw new Error(g.GET_INSTANCE+" command is not valid when the jQuery collection contains more than one element");b=m}}else j=a,l||(l=j.singleSelect?"null":"[]",k.val(l)),i=JSON.parse(l),m?m.update({settings:j,selected:i}):(k.removeAttr("maxLength"),m=new Omniselect({includeInput:!0,settings:j,selected:i,changeCallback:function(a){l=JSON.stringify(a),k.val(l).change(),d.fn.validate&&n()}}),k.prop("disabled")&&m.disable(!0),k.data(e,m).attr(f,"true").addClass("hidden"),m.$element.insertBefore(k))}),b||this}},{}],20:[function(a,b,c){"use strict";var d=jQuery;b.exports=d.fn.fTabs=function(){function a(){function c(a){return a.getAttribute("data-tab-content")}var e,f=null;if(this){var g=d(this);f=g,g.addClass("selected");var h=b.not(this).filter(".selected");h.removeClass("selected"),e=h.toArray().map(c).join(",")}var i=b.filter(".selected").toArray().map(c).join(",");e=e||b.not(".selected").toArray().map(c).join(",");var j="focus.tab-content invalid.tab-content";d(e).toggleClass("tab-hidden",!0).off(".tab-content").on(j,"input, select, button",function(e,f){for(var g=0;g<b.length;++g){var h=b[g];if(d(this).parents(c(h)).length){if("invalid"===e.type&&(d(h).toggleClass("error",f!==!1),f===!1))continue;a.call(h);break}}}),d(i).toggleClass("tab-hidden",!1).off(".tab-content"),f&&f.trigger("tab-selected")}var b=this.find("[data-tab-content]").click(a),c=b.filter(".selected");return c.length||b.first().addClass("selected"),a(),{valid:function(){b.removeClass("error")}}}},{}],21:[function(a,b,c){"use strict";var d=jQuery,e="tooltip-instance",f={},g={HIDE:"hide",GET_INSTANCE:"getInstance"};d.fn.ftip=function(a){var b=this,c=function(b){var c,d=a&&a.content;return d||(c=b.getAttribute("title"),c&&(d=c,b.removeAttribute("title"),b.setAttribute("original-title",c))),d&&d instanceof jQuery&&(d=d[0]),d},h=function(){return Object.assign({},f,a&&a.options)};if("string"==typeof a&&0===this.length)throw new Error("Cannot send tooltip commands to an empty jQuery collection.");return this.each(function(f,i){var j=d(i),k=j.data(e);if("string"==typeof a){if(k)if(a===g.HIDE)k.hide(!0);else{if(a!==g.GET_INSTANCE)throw new Error('Unknown tooltip command: "'+a+'".');if(f>0)throw new Error('Tooltip "'+g.GET_INSTANCE+'" command is not valid when the jQuery collection contains more than one element');b=k}}else k?(k.setContent(c(i)),a&&a.options&&k.setDisplayOptions(h())):(k=Tooltip.addToElement(i,c(i),h(),a&&a.manualCleanup),j.data(e,k)),a&&("function"==typeof a.onShow&&k.onShow(a.onShow),"function"==typeof a.onHide&&k.onShow(a.onHide))}),b}},{}],22:[function(a,b,c){"use strict";function d(a){var b,c=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());return b=c&&/(static|relative)/.test(a.css("position"))||/absolute/.test(a.css("position"))?a.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):a.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(a.css("position"))||!b.length?e(document):b}b.exports={scrollParent:d
};var e=jQuery},{}],23:[function(a,b,c){"use strict";function d(){this._langFunction=null}d.prototype.translate=function(a,b,c){return this._langFunction(a,b,c)},d.prototype.configureTranslationFunction=function(a){this._langFunction=a},d.prototype.stringInterpolate=function(a,b){return String(a).replace(/\{(\d+)\}/g,function(a,c){return String(b[c])})};var e=new d;e.configureTranslationFunction(function(a,b){var c=a;return b&&(c=e.stringInterpolate(c,b)),c}),b.exports=e},{}],24:[function(a,b,c){"use strict";var d="font-weight: normal; padding: 0 5px; color: #0d0d0d;",e={ERROR:1,WARN:2,INFO:3},f={};f[e.INFO]="background: #dbf0fe; "+d,f[e.WARN]="background: #fff3b2; "+d;var g=e.ERROR,h=function(a,b){var c,d,h,i=window.console;i&&g>=a&&(h=/chrom(e|ium)/.test(navigator.userAgent.toLowerCase()),a===e.ERROR&&"function"==typeof i.error?i.error.apply(i,b):h&&"function"==typeof i.groupCollapsed?(c=Array.prototype.slice.call(b).join(" "),i.groupCollapsed("%c "+c,f[a]),d=new Error,d.stack&&i.log(d.stack.split("\n").slice(1).join("\n")),i.groupEnd()):"function"==typeof i.log&&i.log.apply(i,b))},i=b.exports=function(){h(e.INFO,arguments)};i.info=i,i.LOG_LEVEL=e,i.warn=function(){h(e.WARN,arguments)},i.error=function(){h(e.ERROR,arguments)},i.setLogLevel=function(a){g=a}},{}],25:[function(a,b,c){"use strict";function d(a){var b=new Map(a);return Object.setPrototypeOf(b,d.prototype),b}b.exports=d;var e=a("./sequence");Object.setPrototypeOf(d,Map),d.prototype=Object.create(Map.prototype,{constructor:{value:d}}),Object.assign(d.prototype,{sequence:function(){return new e(this.entries())},map:function(a,b){function c(c){return a(c[1],c[0],b)}var d=this.sequence();return d.sizeHint=this.size,d.map(c,b)}})},{"./sequence":40}],26:[function(a,b,c){"use strict";function d(a,b){this._className=a,this._visibleFor={},this._extraClasses={},this.updateTarget(b)}var e=jQuery,f="base-mask",g=["click","contextemenu"];d.prototype._getMask=function(){return this._$mask||(this._$mask=e("<div></div>").addClass(f+" "+this._className).on(g.join(" "),function(a){a.stopPropagation()})),this._$mask},d.prototype._getClickEventString=function(a){return g.map(function(b){return b+"."+a}).join(" ")},d.prototype.updateTarget=function(a){this._target=a||"body",Object.keys(this._visibleFor).length>0&&this._$mask.detach().appendTo(this._target)},d.prototype.display=function(a,b){var c=this._getMask();c.parent().length||(c.appendTo(this._target),b&&(c.addClass(b),this._extraClasses[b]?this._extraClasses[b].push(a):this._extraClasses[b]=[a])),this._visibleFor[a]=b||!0},d.prototype.displayAndListen=function(a,b,c){var d=this._getMask(),e=this._getClickEventString(a);this.display(a,c),d.off(e).on(e,function(){this.hide(a),b()}.bind(this))},d.prototype.hide=function(a){var b,c,d=this._visibleFor[a];null!=d&&(b=this._getMask(),b.off(this._getClickEventString(a)),"string"==typeof d&&(c=this._extraClasses[d],1===c.length?(delete this._extraClasses[d],b.removeClass(d)):c.splice(c.indexOf(a),1)),delete this._visibleFor[a],0===Object.keys(this._visibleFor).length&&b.remove())},b.exports=d},{}],27:[function(a,b,c){"use strict";function d(a,b){function c(){g(),a.callbackFn&&"function"==typeof a.callbackFn&&a.callbackFn()}function d(b){var d=document.createElement("div");d.className="field multi-input-field";var e=document.createElement("label"),g=document.createElement("div");g.className="wrappable";var i=document.createElement("input");i.value=b||null,i.className="multi-input-field-input "+(a.classList&&a.classList.join(" ")),i.placeholder=a.placeholder||"",i.required=!!a.required;var j;l.size?(j=l.values().next().value,l.delete(j)):j=k.size+1,k.add(j),i.name=(a.name||"multi_input")+"."+j,i.dataset.id=j;var m=document.createElement("button");m.type="button",m.addEventListener("click",function(){var a=d.getElementsByTagName("input")[0].dataset.id;k.delete(a),l.add(a),h.removeChild(d),h.querySelectorAll(".multi-input-field").length||f(),c()});var n=document.createElement("f-icon");return n.className="fa-times",m.appendChild(n),g.appendChild(i),g.appendChild(m),d.appendChild(e),d.appendChild(g),d}function e(){var a=document.createElement("div");a.className="field multi-input-add";var b=document.createElement("label"),d=document.createElement("div");d.className="multi-input-add-button";var e=document.createElement("button");e.type="button",e.addEventListener("click",function(){f(),c()});var g=document.createElement("f-icon");return g.className="fa-plus-circle",e.appendChild(g),d.appendChild(e),a.appendChild(b),a.appendChild(d),a}function f(){h.insertBefore(d(),j)}function g(){var b=h.querySelectorAll(".multi-input-field"),c=b.length===a.max;j.querySelector(".multi-input-add-button").getElementsByTagName("button")[0].disabled=c,b[0].getElementsByTagName("label")[0].innerText=a.label||""}var h=document.querySelector(a.selector),i=document.createDocumentFragment(),j=e();if(!a||!h)return void console.error("multiInput config was not provided or a an invalid CSS selector was provided.");var k=new Set,l=new Set;b&&b.length?b.map(a.valueFn).map(d).forEach(function(a){i.appendChild(a)}):i.appendChild(d()),i.appendChild(j),h.appendChild(i),c(),this.multiInput=h}d.prototype.getValues=function(){var a=[];return Array.from(this.multiInput.querySelectorAll(".multi-input-field")).forEach(function(b){a.push(b.getElementsByTagName("input")[0].value)}),a},b.exports=d},{}],28:[function(a,b,c){"use strict";var d=a("./animation"),e=jQuery,f=b.exports.LEVEL={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},g={};g[f.INFO]=5e3,g[f.SUCCESS]=3e3,g[f.WARNING]=0,g[f.ERROR]=0;var h=function(){var a,b;return function(){return a||(a=e("body")),b||(b=e('<div class="notify-messages"></div>').appendTo(a)),b}}();b.exports.post=function(a,b,c,i){var j,k,l={clickToDismiss:!0,beforeDisplay:null},m=function(a){a&&"function"==typeof a.stopPropagation&&a.stopPropagation(),j.parent().length&&j.addClass("fade-out").one(d.CROSS_BROWSER_ANIMATION_END,function(){j.remove()})};b=b||f.INFO,c="number"==typeof c?c:g[b],i=e.extend({},l,i),j=e('<div class="'+b+'-notify-message"></div>'),e('<div class="notify-message-container"></div>').append('<f-icon class="fa-'+b+'"></f-icon>').append('<div class="notify-message-content">'+a+"</div>").appendTo(j),k=e('<div class="notify-button-container"></div>').appendTo(j),e('<button type="button" class="bare"><f-icon class="fa-dismiss"></f-icon></button').on("click",m).appendTo(k),i.clickToDismiss&&j.on("click",m),"function"==typeof i.beforeDisplay&&i.beforeDisplay(j),h().prepend(j),c&&setTimeout(m,c)},b.exports.clearAll=function(){h().empty()}},{"./animation":3}],29:[function(a,b,c){"use strict";function d(){e.apply(this,arguments)}var e=a("./tooltip"),f=a("./dom"),g=a("./lang"),h={fixed:!0,fixedPeriod:0,hideOnScroll:!1,mask:!0,maskClass:"pop-up-menu-tooltip-mask",padContent:!1,placementLocation:"bottomRight",placementLocationChangeOnceVisible:!1};d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.setDisplayOptions=function(a){a=Object.assign({class:""},a,h),a.class+=" pop-up-menu-tooltip",e.prototype.setDisplayOptions.call(this,a)},d.createMenuButton=function(a){var b,c,d,e,h,i;return c=a.label?a.label:"object"==typeof a.lang?g.translate(a.lang.key,a.lang.interpolate):g.translate(a.lang),i=[],null!=a.icon&&(h=f.elem("f-icon",{className:a.icon||""}),i.push(h)),i.push(f.elem("span",{textContent:c})),e="button",a.buttonClass&&(e+=" "+a.buttonClass),d=f.elem("button",{className:e},{children:i,events:{click:function(){a.onClick(b,d,h)}}}),a.buttonAttributes&&Object.keys(a.buttonAttributes).forEach(function(b){d.setAttribute(b,a.buttonAttributes[b])}),b=f.elem("div",{className:"menu-item"},{children:[d]})},d.createRadioButtons=function(a,b,c){var d=f.elem("div",{className:"radio-buttons"}),e=f.elem("div",null,{children:[f.elem("div",{className:"menu-item"},{children:[d]})]}),h=a.map(function(a){var e,i=[];return a.icon&&i.push(f.elem("f-icon",{className:a.icon})),a.text?i.push(f.elem("span",{textContent:a.text})):a.langKey&&i.push(f.elem("span",{textContent:g.translate(a.langKey)})),e=f.elem("button",{className:"button radio-button"},{children:[f.elem("div",{className:"flex-button-content"},{children:i})]}),a.id===b&&e.classList.add("selected"),e.addEventListener("click",function(){h.forEach(function(a){a.classList.remove("selected")}),e.classList.add("selected"),c(a.id)}),d.appendChild(f.elem("div",{className:"menu-item"},{children:[e]})),e}.bind(this));return e},b.exports=d},{"./dom":9,"./lang":23,"./tooltip":71}],30:[function(a,b,c){b.exports={screen:{mini:550,small:700,medium:1e3}}},{}],31:[function(a,b,c){"use strict";function d(){this._$body=e("body")}var e=jQuery,f="selectEntryDragStart",g="selectEntryDragEnd",h="select-entry";d.prototype.notifyStart=function(a){this._entry=a,e("body").trigger(f)},d.prototype.notifyEnd=function(){e("body").trigger(g)},d.prototype.setData=function(a,b){try{a.setData(h,b)}catch(c){a.setData("text",b)}},d.prototype.supportedType=function(a){var b=!0;try{b=a.types.indexOf(h)>=0}catch(a){}return b},d.prototype.onDrag=function(a,b,c){var d=e("body");d.on(f+"."+a,function(){b(this._entry)}.bind(this)),d.on(g+"."+a,c)},d.prototype.off=function(a){var b=e("body");b.off(f+"."+a),b.off(g+"."+a)},b.exports=new d},{}],32:[function(a,b,c){"use strict";function d(a,b,c){i.call(this,a,b,c),this._id=f.uniqueID(),this._searchInput=new j(a),this._create(),this.isOpen=!1}var e=jQuery,f=a("../util"),g=a("./util"),h=a("../mask"),i=a("./virtual-results"),j=a("./search-input"),k=a("../slide/slide"),l="resize.selectionDropdown",m="scroll.selectionDropdown",n=/firefox/i.test(navigator.userAgent);d.prototype=Object.create(i.prototype),d.prototype.constructor=d,d.prototype.open=function(){var a,b,c,d,g=this._select.$element,h=g.offset(),i=n?2:1;if(this._select._settings.insideSlide){if(d=k.getLast(),!d)throw new Error('"insideSlide" specified but no slide could be found');a=d._$element,d.addDestructible(this._select)}else a=this._select.TARGET_CONTAINER;b=e(a).offset(),c=this._getMask(a),this._$element.width(g[0].clientWidth),this._$element.css({top:h.top-b.top+g[0].offsetHeight-i,left:h.left-b.left}),this._select._chooserTakenFocus(),this._$element.appendTo(a),this._sourcesLoaded?this._entries?this.renderResults():this.updateResults():(this._calculateScrollingDimensions(),this.loadAndProcessSources(function(){this.updateResults()}.bind(this))),this.isOpen=!0,c.displayAndListen(this._id,function(){this.close(!0)}.bind(this)),e(window).on(l+this._id,f.debounce(300,function(){this._sourcesLoaded&&this.resizeResults(),this._updateScrollableParent()}.bind(this))),this._updateScrollableParent()},d.prototype.close=function(a){var b=this._getMask();b&&b.hide(this._id),e(window).off(l+this._id),this._$firstScrollableParent&&(this._$firstScrollableParent.off(m+this._id),this._$firstScrollableParent=null),this._select._chooserRestoredFocus(a),this.isOpen=!1,this._overflowAdjusted=!1,this._$element.detach()},d.prototype.toggleInputs=function(a){this._$createNew.attr("disabled",!a),this._$sourceSelection&&this._$sourceSelection.find("input").attr("disabled",!a),a?focus?this._searchInput.enableAndFocus():this._searchInput.enable():this._searchInput.disable()},d.prototype.destroy=function(){i.prototype.destroy.call(this),this.close(),this._$element.empty().remove()},d.prototype._updateScrollableParent=function(){var a;this._$firstScrollableParent&&(this._$firstScrollableParent.off(m+this._id),this._$firstScrollableParent=null),a=g.firstScrollableParent(this._select.$element[0],this._select.TARGET_CONTAINER),a&&(this._$firstScrollableParent=e(a),setTimeout(function(){this._$firstScrollableParent.on(m+this._id,function(){this.close(!0)}.bind(this))}.bind(this),0))},d.prototype._getMask=function(a){var b=this._mask;return b||(this._mask=b=new h("selection-dropdown-mask",a)),b},d.prototype._create=function(){var a=this._sources.getGrouping(),b=Object.keys(a),c=e('<div class="select-widget-search-container"></div>');if(this._$element=e('<div class="selection-dropdown"></div>'),this._select._settings.insideSlide&&this._$element.addClass("inside-slide"),this._$createNew=e('<button type="button" class="create-new hidden" title="'+this._select.CREATE_NEW_TEXT+'"><f-icon class="fa-plus"></f-icon></button>'),this.setGroup(b[0]),this._$sourceSelection=null,b.length>1){this._$sourceSelection=e('<div class="radio-group"></div>'),b.forEach(function(a,b){var c=a+this._id,d="selectionDropdown"+this._id,f=e('<input type="radio" id="'+c+'" name="'+d+'" value="'+a+'">').attr("disabled","disabled");0===b&&f.prop("checked",!0),this._$sourceSelection.append(f),this._$sourceSelection.append('<label for="'+c+'">'+a+"</label>")}.bind(this)),this._$sourceSelection.appendTo(this._$element);var d=this;this._$sourceSelection.find("input").on("change",function(){d.setGroup(this.value),d._$createNew.toggleClass("hidden",0===a[this.value].createNewSupported.length),d.updateResults()})}c.append(this._searchInput.$element).append(this._$createNew),this._$element.append(c),a[b[0]].createNewSupported.length&&this._$createNew.removeClass("hidden"),this._$createNew.on("click",function(){this._$createNew.attr("disabled",!0),this.createNew().catch(function(){this._$createNew.attr("disabled",!1)}.bind(this))}.bind(this)),this._searchInput.onChange(function(a){this.setSearchValue(a),this.updateResults()}.bind(this)),this._searchInput.onTabbedOut(function(){this.close(!0)}.bind(this)),this._element=this._$element[0],this._$element.append(this.resultsElement),this.setupKeyboardShortcuts(this._$element[0])},d.prototype._afterAdd=function(){this._tooltip&&this._tooltip.hide(),this.close(!0)},d.prototype._clearSearchInput=function(){var a=!1;return this._searchInput.getValue()&&(this._searchInput.clear(),a=!0),a},d.prototype._afterChunkRendered=function(a){this._$createNew.toggleClass("primary",a)},b.exports=d},{"../mask":26,"../slide/slide":44,"../util":75,"./search-input":33,"./util":38,"./virtual-results":39}],33:[function(a,b,c){"use strict";function d(a){this._$search=e('<input disabled="disabled" type="text">').attr("placeholder",a.SEARCH_PLACEHOLDER),this._$clearSearch=e('<f-icon class="fa-dismiss clear-search hidden"></f-icon>').attr("title",a.CLEAR_SEARCH_TITLE).on("click",function(){this.clear()}.bind(this)),this.$element=e('<div class="select-widget-search"></div>').append(this._$search).append('<f-icon class="fa-search no-mini-touch-resize search-indicator"></f-icon>').append(this._$clearSearch),this._previousValue=""}var e=jQuery,f=a("../util"),g=500;d.prototype.onChange=function(a){this._changeCallback=a,this._$search[0].oninput=f.debounce(g,function(){var b=this.getValue();b!==this._previousValue&&(this._$clearSearch.toggleClass("hidden",!b),a(b),this._previousValue=b)}.bind(this))},d.prototype.onTabbedOut=function(a){this._$search.on("keydown",function(b){9===b.which&&(b.preventDefault(),a())})},d.prototype.getValue=function(){return this._$search.val()},d.prototype.enable=function(){[this._$search,this._$clearSearch].forEach(function(a){a.attr("disabled",!1).toggleClass("disabled",!1)})},d.prototype.enableAndFocus=function(){this.enable(),this._$search.focus()},d.prototype.clear=function(){this._$clearSearch.is(".disabled")||(this._$search.val(""),this._changeCallback(""),this._$clearSearch.addClass("hidden"),this._previousValue="")},d.prototype.disable=function(){[this._$search,this._$clearSearch].forEach(function(a){a.attr("disabled",!0).toggleClass("disabled",!0)})},b.exports=d},{"../util":75}],34:[function(a,b,c){"use strict";function d(a){this._id=i.uniqueID(),this._includeInput=a.includeInput,this._onChangeCallback=a.changeCallback,this._onPreprocessComplete=a.onPreprocessComplete,this._includeInput&&this._createElement(),this.update(a),this._setupSourceChangeListener()}var e=jQuery,f=a("./sources"),g=a("./selection-pane"),h=a("./dropdown"),i=a("../util"),j=a("./drag"),k=a("../tooltip"),l=a("../slide/slide");d.drag=j,d.prototype.ENTRY_ID_KEY=null,d.prototype.ENTRY_SOURCE_ID_FUNCTION=function(a){return String(a)},d.prototype.SOLITARY_KEY="solitaryEntry",d.prototype.PANE_TITLE="Select Entries",d.prototype.SEARCH_PLACEHOLDER="Search",d.prototype.CLEAR_SEARCH_TITLE="Clear Search",d.prototype.NO_ENTRIES_TEXT="No entries",d.prototype.PROCESSING_TEXT="Processing",d.prototype.CLOSE_TEXT="Close",d.prototype.OK_TEXT="OK",d.prototype.CANCEL_TEXT="Cancel",d.prototype.CREATE_NEW_TEXT="Create New",d.prototype.EDIT_TEXT="Edit entry",d.prototype.RETURN_TITLE="Return",d.prototype.MIN_SINGLE_SELECT_RESULTS_HEIGHT=60,d.prototype.MAX_SINGLE_SELECT_RESULTS_HEIGHT=300,d.prototype.MAX_SYNCHRONOUS_PROCESSING_LENGTH=1e4,d.NOTIFY_SOURCE_CHANGED_IFRAMES=!1,d.NOTIFY_SOURCE_CHANGED_MESSAGE="selectSourceChanged",d.prototype.SOLITARY_LEVEL={SOURCE:"source",GROUP:"group",ALL:"all"},d.prototype.DEFAULT_SETTINGS={allSolitary:!1,compactWidget:!1,createNew:!0,createNewFunction:null,collapsibleCategories:!0,dragAndDrop:!0,extraEntries:null,extraData:null,filterFunction:null,formatFunction:null,inlineEdit:!0,insideSlide:!1,max:null,meta:null,preProcessSelected:null,requiredEntries:null,singleSelect:!1,solitaryLevel:d.prototype.SOLITARY_LEVEL.GROUP,sortCategories:!1,sortCreateNew:!0,sortFunction:null,sortResults:!0,sortWidget:!0,subcategories:null,subcategoryValueFunction:null,subcategoryFormatFunction:null,subcategorySortFunction:null,tooltips:!0,tooltipHeaderFormatFunction:null,suppressIdValueTooltip:!1,validateFunction:null,valueFunction:null},d.prototype.DEFAULT_VALUE_FUNCTION=function(a){return String(a)},d.prototype.DEFAULT_FORMAT_FUNCTION=function(a,b){return b},d.prototype.DEFAULT_CATEGORY_FORMAT_FUNCTION=function(a,b){return a+" ("+b.toLocaleString()+")"},d.prototype.DEFAULT_SOURCE_SORT_FUNCTION=i.fastLocaleCompare,d.prototype.DEFAULT_SUBCATEGORY_VALUE_FUNCTION=function(){return"Unknown Subcategory"},d.prototype.DEFAULT_SUBCATEGORY_FORMAT_FUNCTION=function(a,b){return a+" ("+b.toLocaleString()+")"},d.prototype.DEFAULT_SUBCATEGORY_SORT_FUNCTION=i.fastLocaleCompare,d.prototype.DEFAULT_CREATE_NEW_FUNCTION=function(){},d.prototype.DEFAULT_INLINE_EDIT_FUNCTION=function(){},d.prototype.SOURCES={},d.prototype.TARGET_WINDOW=window,d.prototype.TARGET_CONTAINER=null,d.notifySourceChanged=function(a){var b=function(c){var e,f,g=i.getOrigin(c);if(c.postMessage({messageType:d.NOTIFY_SOURCE_CHANGED_MESSAGE,sourceID:a},g),d.NOTIFY_SOURCE_CHANGED_IFRAMES)for(f=c.document.getElementsByTagName("iframe"),e=0;e<f.length;e++)try{b(f[e].contentWindow)}catch(a){}},c=window;d.NOTIFY_SOURCE_CHANGED_IFRAMES&&top!==window&&(c=top),b(c)},d._SHARED_INSTANCE_CACHE={},d.invalidateCache=function(){Object.keys(d._SHARED_INSTANCE_CACHE).forEach(function(a){d._SHARED_INSTANCE_CACHE[a].destroy()}),d._SHARED_INSTANCE_CACHE={},f.invalidateCache()},d.invalidateCacheForSource=function(a){d._SHARED_INSTANCE_CACHE[a]&&(d._SHARED_INSTANCE_CACHE[a].destroy(),delete d._SHARED_INSTANCE_CACHE[a]),f.invalidateCacheForSource(a)},d._getCachedInstanceForSource=function(a){var b,c=d.prototype.SOURCES[a];if(!c)throw new Error('Source "'+a+'" is not configured');return b=d._SHARED_INSTANCE_CACHE[a]?d._SHARED_INSTANCE_CACHE[a]:d._SHARED_INSTANCE_CACHE[a]=new d({settings:{sources:a},selected:[],sharedInstance:!0})},d._getEntryIDAndSourceIDForEntry=function(a,b){var c=a[d.prototype.ENTRY_ID_KEY];if(null==c)throw new Error("Could not determine entry ID");if(b=b||d.prototype.ENTRY_SOURCE_ID_FUNCTION(a),!b)throw new Error("Could not determine source for entry");return{entryID:c,sourceID:b}},d.getSourceData=function(a){var b=d._getCachedInstanceForSource(a);return b._loadSources().then(function(){return b.getSourceResults(a)})},d.getSourceDataSync=function(a){var b=d._getCachedInstanceForSource(a);return b.getSourceResults(a)},d.getSourceMetaData=function(a){var b=d._getCachedInstanceForSource(a);return b._loadSources().then(function(){return b.getSourceMetaData(a)})},d.getSourceMetaDataSync=function(a){var b=d._getCachedInstanceForSource(a);return b.getSourceMetaData(a)},d.processedGetEntryValue=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a,b),e=d._getCachedInstanceForSource(c.sourceID);return e.processedGetEntryValue(a)},d.processedGetEntryValueSync=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a,b),e=d._getCachedInstanceForSource(c.sourceID);return e.processedGetEntryValueSync(a)},d.formatEntry=function(a,b){var c,e=d._getEntryIDAndSourceIDForEntry(a,b);return c=d._getCachedInstanceForSource(e.sourceID),c.formatEntry(a)},d.processedFormatEntry=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a,b),e=d._getCachedInstanceForSource(c.sourceID);return e.processedFormatEntry(a)},d.processedFormatEntrySync=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a,b),e=d._getCachedInstanceForSource(c.sourceID);return e.processedFormatEntrySync(a)},d.processedFormatEntryTooltip=function(a,b,c){var e=d._getEntryIDAndSourceIDForEntry(a,b),f=d._getCachedInstanceForSource(e.sourceID);return f.processedFormatEntryTooltip(a,c)},d.processedFormatEntryTooltipSync=function(a,b,c){var e=d._getEntryIDAndSourceIDForEntry(a,b),f=d._getCachedInstanceForSource(e.sourceID);return f.processedFormatEntryTooltipSync(a,c)},d.queryMatchesEntrySync=function(a,b,c){var e=d._getEntryIDAndSourceIDForEntry(b,c),f=d._getCachedInstanceForSource(e.sourceID),g=f.getSourceResults(e.sourceID).mapping,h=g[e.entryID],j=f._sources.getSearchMatchChecker(e.sourceID),k=new RegExp(i.preRegexEscape(a),"i"),l=j(h,k,a);return l.matchType!==f._sources.SEARCH_MATCH_TYPE.NONE?l:null},d.inlineEdit=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a,b),e=d._getCachedInstanceForSource(c.sourceID);return e.inlineEdit(a)},d.prototype.update=function(a){a=a||{};var b,c=void 0!==a.selected,d=function(a){return Array.isArray(a)?a.slice():a};b=d(c?a.selected:this._selected),this.removeAll(),this._selected=Array.isArray(b)?[]:null,this._sharedInstance=a.sharedInstance,a.settings?(this._settings=e.extend({},this.DEFAULT_SETTINGS,a.settings),this._sources&&this._sources.destroy(),this._sources=new f(this),this._selectionChooser&&this._selectionChooser.destroy(),this._settings.insideSlide?(this.TARGET_WINDOW=l.TARGET_WINDOW,this.TARGET_CONTAINER=this.TARGET_WINDOW.document.body):this.TARGET_CONTAINER||(this.TARGET_CONTAINER=this.TARGET_WINDOW.document.body),b=this._updateRequiredEntryIDs(this._settings.requiredEntries,b),this._createSelectionChooser(b),this._includeInput&&this.configurationDependentSetup()):this._selectionChooser&&(this._selectionChooser.updateSelected(b,a.reProcess,a.reload),this._selectionChooser.isOpen?a.reProcess||a.reload?this._selectionChooser.updateResults():this._selectionChooser.renderResults():this._selectionChooser._entries=null),this._updateAddPlaceholderVisibility(),this._invalidateTooltipContentCache()},d.prototype._updateRequiredEntryIDs=function(a,b){function c(a){return function(b){return!a.has(b)}}var d,e,f,g;if(null!==a){if(this._settings.singleSelect)throw new Error('Incompatible settings. "singleSelect" and "requiredEntries" cannot be specified at the same time');Array.isArray(a)||(a=[a]),d=this._sources.uniqueEntryID.bind(this._sources),e=(a||[]).map(d),this._requiredEntryIDs=new Set(e),g=new Set(b.map(d)),f=a.filter(c(g)),f.length&&(b=b.concat(f))}else this._requiredEntryIDs=new Set;return b},d.prototype.getSelected=function(){return Array.isArray(this._selected)?this._selected.slice():this._selected},d.prototype.canAdd=function(a){return this._selectionChooser.canAdd(a)},d.prototype.add=function(a){this._selectionChooser.add(a)},d.prototype.remove=function(a){this._selectionChooser.remove(a)},d.prototype.removeAll=function(a){var b;if(this._detachChangeListener(),Array.isArray(this._selected))for(b=this._selected.length-1;b>=0;b--)this.remove(this._selected[b]);else this._selected&&this.remove(this._selected);this._selectedElements=[],this._updateAddPlaceholderVisibility(),this._attachChangeListener(),a&&this._notifyChange()},d.prototype.reRender=function(){if(Array.isArray(this._selected))for(var a=0,b=this._selected.length;a<b;++a)this._selectedElements[a].children(".entry-value").html(this._sources.formatEntry(this._selected[a]));else this.selectedElements[0].children(".entry-value").html(this._sources.formatEntry(this._selected))},d.prototype.openChooser=function(a){return new Promise(function(b,c){a&&((a.originalEvent||a).selectID=this._id),this._selectionChooser.isOpen?c():this._selectionChooser.open(function(a){var d=this._selected,e=this._originallySelected;Array.isArray(d)||(d=[d]),Array.isArray(e)||(e=[e]);var f=d.length!==e.length||d.some(function(a,b){return!this._sources.isSameEntry(a,e[b])}.bind(this));a&&f?(b(this._selected),this._storeOriginallySelected()):f?(this._selected=e,this.update(),c()):c()}.bind(this))}.bind(this))},d.prototype.closeChooser=function(){this._selectionChooser.isOpen&&this._selectionChooser.close()},d.prototype.getSourceResults=function(a){var b=this._sources._sourceMap[a];if(!b||!b.results)throw new Error('No source results exist for source ID "'+a+'"');return b.results},d.prototype.getSourceMetaData=function(a){var b=this._sources._sourceMap[a].id,c=this._sources.sourceMetaData[b];if(!c)throw new Error('No source meta data results exist for source ID "'+a+'"');return c},d.prototype.getSourceLifeCycleData=function(a){var b=this._sources._sourceMap[a].id;return this._sources._sourceLifeCycleData[b]},d.prototype.getSource=function(a){var b=this._sources._sourceMap[a].id,c=this._sources.getSource(b);return c},d.prototype.formatEntry=function(a){return this._sources.formatEntry(a)},d.prototype.processedGetEntryValue=function(a){var b=d._getEntryIDAndSourceIDForEntry(a);return this._processedFormat(b,"getEntryValue")},d.prototype.processedGetEntryValueSync=function(a){var b=d._getEntryIDAndSourceIDForEntry(a);return this._processedFormatSync(b,"getEntryValue")},d.prototype.processedFormatEntry=function(a){var b=d._getEntryIDAndSourceIDForEntry(a);return this._processedFormat(b,"formatEntry")},d.prototype.processedFormatEntrySync=function(a){var b=d._getEntryIDAndSourceIDForEntry(a);return this._processedFormatSync(b,"formatEntry")},d.prototype.processedFormatEntryTooltip=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a),e=[b];return this._processedFormat(c,"formatEntryTooltip",e)},d.prototype.processedFormatEntryTooltipSync=function(a,b){var c=d._getEntryIDAndSourceIDForEntry(a),e=[b];return this._processedFormatSync(c,"formatEntryTooltip",e)},d.prototype.inlineEdit=function(a){return this._selectionChooser.inlineEdit(a)},d.prototype.inlineEditSupported=function(){var a=this._sources._sourceMap;return this._settings.inlineEdit&&Object.keys(a).some(function(b){return a[b].inlineEdit})},d.prototype.disable=function(a){this._includeInput&&(this._disabled=!!a,this.$element.toggleClass("disabled",this._disabled),this._disabled?(this.$element.removeAttr("tabindex"),this._selectionChooser.isOpen&&this._selectionChooser.close()):this.$element.attr("tabindex","0"))},d.prototype.destroy=function(){j.off(this._id),this._sources&&this._sources.destroy(),this._selectionChooser&&this._selectionChooser.destroy(),this._tooltip&&this._tooltip.destroy(),this._removeSourceChangeListener()},d.prototype._loadSources=function(){return this._sources.load(this._selectionChooser._hardLoadSources).then(function(){this._selectionChooser._hardLoadSources=!1}.bind(this))},d.prototype._processedFormat=function(a,b,c){return this._loadSources().then(function(){var e,f,g,h=c&&c[0],i=this.getSourceResults(a.sourceID).mapping,j=i[a.entryID];try{if(!j)throw new Error("Could not match entry.");f=[j],h&&(g=d.queryMatchesEntrySync(h,j,a.sourceID),g&&(f=f.concat([h,g.matchType,g.matchedSearchKeys]))),e=this._sources[b].apply(this._sources,f)}catch(a){e=Promise.reject(a)}return e}.bind(this))},d.prototype._processedFormatSync=function(a,b,c){var e,f,g=c&&c[0],h=this.getSourceResults(a.sourceID).mapping,i=h[a.entryID];if(i)return e=[i],g&&(f=d.queryMatchesEntrySync(g,i,a.sourceID),f&&(e=e.concat([g,f.matchType,f.matchedSearchKeys]))),this._sources[b].apply(this._sources,e);throw new Error("Could not match entry.")},d.prototype._setupSourceChangeListener=function(){this._sourceChangeEvent="message.select"+this._id,e(window).on(this._sourceChangeEvent,function(a){var b,c,e=a.originalEvent,g=e.data,h=i.isTrustedOrigin(e.origin);h&&g.messageType===d.NOTIFY_SOURCE_CHANGED_MESSAGE&&(b=g.sourceID,Array.isArray(b)||(b=[b]),b.forEach(function(a){f.invalidateCacheForSource(a)}),c=b.some(function(a){return this._sources.getSource(a)}.bind(this)),c&&(this._invalidateTooltipContentCache(),this._shouldQueueSourceChangeReloads?this._sourceChangeReloadQueued=!0:this._triggerSourceChangeReload()))}.bind(this))},d.prototype._removeSourceChangeListener=function(){e(window).off(this._sourceChangeEvent)},d.prototype._queueSourceChangeReloads=function(a){this._shouldQueueSourceChangeReloads=!0,this._highlightNew=a},d.prototype._dequeueSourceChangeReloads=function(){this._shouldQueueSourceChangeReloads=!1,this._sourceChangeReloadQueued&&this._triggerSourceChangeReload()},d.prototype._triggerSourceChangeReload=function(){this._sourceChangeReloadQueued=!1,this._selectionChooser.markSourcesForReload(!0),this._selectionChooser.isOpen&&this._selectionChooser.loadAndProcessSources(function(){this._highlightNew&&this._selectionChooser.highlightNewNextRender(),this._highlightNew=null,this._selectionChooser.updateResults()}.bind(this))},d.prototype._storeOriginallySelected=function(){this._originallySelected=Array.isArray(this._selected)?this._selected.slice():this._selected},d.prototype._chooserTakenFocus=function(){this._includeInput&&this.$element.toggleClass("focus")},d.prototype._chooserRestoredFocus=function(a){this._includeInput&&(this.$element.removeClass("focus"),a&&this.$element.focus())},d.prototype._notifyChange=function(){function a(a,b){return this._previousNotifySel[b]===a}var b,c,d;"function"==typeof this._onChangeCallback&&(c=Array.isArray(this._selected),b=c?this._selected.slice():this._selected,d=!this._previousNotifySel||(c?b.length!==this._previousNotifySel.length||!b.every(a,this):this._previousNotifySel!==b),d&&(this._previousNotifySel=b,window.setTimeout(function(){this._onChangeCallback(b)}.bind(this))))},d.prototype._detachChangeListener=function(){this._detachedOnChangeCallback=this._onChangeCallback,this._onChangeCallback=null},d.prototype._attachChangeListener=function(){this._onChangeCallback=this._detachedOnChangeCallback,this._detachedOnChangeCallback=null},d.prototype._batchChange=function(a){var b=this._detachedOnChangeCallback;b||this._detachChangeListener(),a(),b||(this._attachChangeListener(),this._notifyChange())},d.prototype._addedViaChooser=function(a){var b,c,d,e,f=Array.isArray(this._selected);f?(this._settings.sortWidget?(c=this._sources.globalSort.bind(this._sources),b=i.binaryInsertIndex(this._selected,a,c)):b=this._selected.length,this._selected.splice(b,0,a)):(this._selected=a,b=this._selected.length),e=b>0?this._selectedElements[b-1]:null,this._includeInput&&(d=this._addEntryElement(a,e),this._selectedElements.splice(b,0,d)),this._updateAddPlaceholderVisibility(),this._notifyChange()},d.prototype._removedViaChooser=function(a){var b,c=this._sources.uniqueEntryID(a);if(Array.isArray(this._selected)?(b=this._indexInSelected(a),this._selected.splice(b,1)):(b=0,this._selected=null),this._includeInput){var d=this._selectedElements.splice(b,1);d[0].remove()}this._updateAddPlaceholderVisibility(),this._invalidateTooltipContentCacheForEntry(c),this._notifyChange()},d.prototype._indexInSelected=function(a){var b,c=-1;for(b=0;b<this._selected.length;b++)if(this._sources.isSameEntry(a,this._selected[b])){c=b;break}return c},d.prototype._updateAddPlaceholderVisibility=function(){var a,b,c;this._includeInput&&this._settings&&this._$addIndicator&&(b=Array.isArray(this._selected)?this._selected.length:this._selected?1:0,c=this._settings.max&&b>=this._settings.max,a=!this._loading&&this._includeInput&&!c,this._$addIndicator.toggleClass("hidden",!a));
},d.prototype._toggleLoading=function(a){this._includeInput&&(this._loading=a,a?(this.$element.removeAttr("tabindex"),this._$loadingIndicator=e('<div class="loading-container"></div>').append('<f-icon class="fa-loading"></f-icon>').appendTo(this.$element)):(this._disabled||this.$element.attr("tabindex","0"),this._$loadingIndicator.remove()),this._updateAddPlaceholderVisibility())},d.prototype._initializeTooltip=function(){this._settings.tooltips&&(this._$tooltipContent=e("<div></div>"),this._tooltip=new k({class:"select-tooltip",padContent:!1,showDelay:!0},this.TARGET_WINDOW,this.TARGET_CONTAINER),this._tooltip.setContent(this._$tooltipContent[0]))},d.prototype._invalidateTooltipContentCache=function(){this._entryTooltipPromises={},this._entryTooltipRendered={}},d.prototype._invalidateTooltipContentCacheForEntry=function(a){delete this._entryTooltipPromises[a],delete this._entryTooltipRendered[a]},d.prototype._addEntryElement=function(a,b){var c,d,f='<f-icon class="fa-loading select-tooltip-loading"></f-icon>',g=this._sources.formatEntry(a),h=e('<div class="selected-entry"></div>'),i=e('<span class="entry-value">'+g+"</span>"),j=this._sources.uniqueEntryID(a),k=this._requiredEntryIDs.has(j);return h.toggleClass("required",k),h.append(i),this._settings.tooltips&&(i.on("mouseenter",function(b){var c;this._tooltip.hide(),this._tooltipVisibleFor=j,this._entryTooltipRendered[j]||(d=f,c=this._entryTooltipPromises[j]||this.processedFormatEntryTooltip(a),c.then(function(a){d=a,this._entryTooltipRendered[j]=!0,this._tooltipVisibleFor===j&&this._$tooltipContent.html(d)}.bind(this)),this._entryTooltipPromises[j]=c),this._$tooltipContent.html(d),this._tooltip.show(null,b.pageX,b.pageY)}.bind(this)),i.on("mouseleave",function(){this._tooltipVisibleFor=null,this._tooltip.hide()}.bind(this))),this._settings.singleSelect||k||(c=e('<f-icon class="remove-selected-entry fa-dismiss"></f-icon>'),c.on("click",function(b){b.originalEvent.selectID=this._id,this._disabled||this.remove(a)}.bind(this)).appendTo(h)),b?h.insertAfter(b):this._$selected.prepend(h),h},d.prototype._createElement=function(){this.$element=e('<div class="select-widget" tabindex="0"></div>');var a=function(a){this._loading||this._disabled||(a&&a.originalEvent&&(a.originalEvent.selectID=this._id),this._selectionChooser.isOpen||this._selectionChooser.open())}.bind(this);this.$element.on("click",a),this.$element.on("keydown",function(b){32===b.which&&(b.preventDefault(),a()),this._selectionChooser.isOpen&&9===b.which&&this._selectionChooser.close()}.bind(this)),this._$selected=e('<div class="selected-entries"></div>').appendTo(this.$element)},d.prototype.configurationDependentSetup=function(){var a,b,c,d=this._settings.singleSelect,f=this._settings.compactWidget;this.$element.toggleClass("single-select",!!d),this.$element.toggleClass("compact",!!f),this.$element.find(".add-placeholder").remove(),a=d?"fa-caret-down":"fa-plus icon-sm",this._$addIndicator=e('<div class="add-placeholder"></div>').append('<f-icon class="'+a+'"></f-icon>').appendTo(this.$element),this._settings.dragAndDrop&&!this._settings.singleSelect?(j.onDrag(this._id,function(a){c=this._selectionChooser.canAdd(a),b=a,c&&this.$element.addClass("drop-support")}.bind(this),function(){this.$element.removeClass("drop-support")}.bind(this)),this.$element.on("dragenter",function(a){var b=j.supportedType(a.originalEvent.dataTransfer);b&&c&&a.preventDefault()}),this.$element.on("dragover",function(a){c&&a.preventDefault()}),this.$element.on("drop",function(a){this.add(b),a.preventDefault()}.bind(this))):(j.off(this._id),this.$element.off("dragenter dragover drop dragleave")),this._initializeTooltip()},d.prototype._createSelectionChooser=function(a){var b;b=this._settings.singleSelect&&this._includeInput?h:g,this._selectionChooser=new b(this,this._sources,a)},b.exports=window.Omniselect=d},{"../slide/slide":44,"../tooltip":71,"../util":75,"./drag":31,"./dropdown":32,"./selection-pane":35,"./sources":36}],35:[function(a,b,c){"use strict";function d(a,b,c){i.call(this,a,b,c),this._id=g.uniqueID(),this._searchInput=new j(a),this._create(),this.isOpen=!1}var e=jQuery,f=a("../animation"),g=a("../util"),h=a("./util"),i=a("./virtual-results"),j=a("./search-input"),k=a("../slide/slide"),l="slide-out",m="click.selectionPane",n="resize.selectionPane";d.prototype=Object.create(i.prototype),d.prototype.constructor=d,d.prototype.open=function(a){var b,c,d=e(".view-container");if(this._select._settings.insideSlide){if(c=k.getLast(),!c)throw new Error('"insideSlide" specified but no slide could be found');b=this._$clickTarget=c._$element,c.addDestructible(this._select)}else d.length?(b=d,this._$clickTarget=e("body")):b=this._$clickTarget=e("body");this._closeCallback=a,this._select._chooserTakenFocus(),this.clearResults(),b.append(this._$element),this._$element.removeClass(l).one(f.CROSS_BROWSER_ANIMATION_END,function(a){a.target===this._$element[0]&&(this._sourcesLoaded?this._entries?this.renderResults():this.updateResults():this.loadAndProcessSources(function(){this.updateResults()}.bind(this)))}.bind(this)),this.isOpen=!0,this._$clickTarget.on(m+this._id,function(a){var b=(a.originalEvent||{}).selectID,c=b&&b===this._select._id;c||h.eventInsideElement(a,this._$element[0])||(this._shouldUpdate=!0,this.close())}.bind(this)),e(window).on(n+this._id,g.debounce(300,function(){this._sourcesLoaded&&this.resizeResults()}.bind(this)))},d.prototype.close=function(a){var b,c=this._shouldUpdate,d=this._select._settings.validateFunction;if("function"==typeof this._closeCallback){if(c&&"function"==typeof d&&(b=d.call(this._select,this._select._selected,this._select._settings.meta)))return void this._showError(b);this._close(a),this._closeCallback(c),c||this._removeError()}else this._close(a)},d.prototype._close=function(a){this._$clickTarget&&this._$clickTarget.off(m+this._id),e(window).off(n+this._id),this._select._chooserRestoredFocus(a),this.isOpen=!1,this._$element.addClass(l).on(f.CROSS_BROWSER_ANIMATION_END,function(){this.isOpen||this._$element.off(f.CROSS_BROWSER_ANIMATION_END).removeClass(l).detach()}.bind(this)),this._shouldUpdate=!1},d.prototype.toggleInputs=function(a,b){this._$createNew.attr("disabled",!a),this._$sourceSelection&&this._$sourceSelection.find("input").attr("disabled",!a),a?b?this._searchInput.enableAndFocus():this._searchInput.enable():this._searchInput.disable()},d.prototype.destroy=function(){i.prototype.destroy.call(this),this.close(),this._$element.empty().remove()},d.prototype._showError=function(a){this._removeError(),this._$error=e('<div class="error-message">'+a+"</div>"),this._$error.insertBefore(this.resultsElement)},d.prototype._removeError=function(){this._$error&&(this._$error.remove(),this._$error=null)},d.prototype._afterAdd=function(){this._removeError()},d.prototype._afterChunkRendered=function(a){this._$createNew.toggleClass("primary",a)},d.prototype._create=function(){var a,b=this._select._includeInput,c=this._sources.getGrouping(),d=Object.keys(c),f=e('<div class="title-bar"></div>'),g=e('<button class="bare" type="button"><f-icon class="fa-dismiss"></f-icon></button>'),h=e('<div class="select-widget-search-container"></div>'),i=e('<div class="footer"></div>'),j=e('<button type="button">'+(b?this._select.CLOSE_TEXT:this._select.OK_TEXT)+"</button>");if(this._$element=e('<div class="selection-pane"></div>'),this._element=this._$element,this._$createNew=e('<button type="button" class="create-new hidden" title="'+this._select.CREATE_NEW_TEXT+'"><f-icon class="fa-plus"></f-icon></button>'),this._$dialog=e('<div class="dialog"></div>').appendTo(this._$element).append(f),f.append("<h1>"+this._select.PANE_TITLE+"</h1>").append(g),g.on("click",function(){this._shouldUpdate=!1,this.close(!0)}.bind(this)),this.setGroup(d[0]),this._$sourceSelection=null,d.length>1){this._$sourceSelection=e('<div class="radio-group"></div>'),d.forEach(function(a,b){var c=a+this._id,d="selectionPane"+this._id,f=e('<input type="radio" id="'+c+'" name="'+d+'" value="'+a+'">').attr("disabled","disabled");0===b&&f.prop("checked",!0),this._$sourceSelection.append(f),this._$sourceSelection.append('<label for="'+c+'">'+a+"</label>")}.bind(this)),this._$sourceSelection.appendTo(this._$dialog);var k=this;this._$sourceSelection.find("input").on("change",function(){k.setGroup(this.value),k._$createNew.toggleClass("hidden",0===c[this.value].createNewSupported.length),k.updateResults()})}h.append(this._searchInput.$element).append(this._$createNew),this._$dialog.append(h),c[d[0]].createNewSupported.length&&this._$createNew.removeClass("hidden"),this._$createNew.on("click",function(){this._$createNew.attr("disabled",!0),this.createNew().catch(function(){this._$createNew.attr("disabled",!1)}.bind(this))}.bind(this)),this._searchInput.onChange(function(){this.setSearchValue(this._searchInput.getValue()),this.updateResults()}.bind(this)),this._searchInput.onTabbedOut(function(){this._shouldUpdate=!0,this.close(!0)}.bind(this)),this._$dialog.append(this.resultsElement),j.on("click",function(){this._shouldUpdate=!0,this.close(!0)}.bind(this)),i.append(j),b||(j.addClass("primary"),a=e('<button type="button">'+this._select.CANCEL_TEXT+"</button>").on("click",function(){this._shouldUpdate=!1,this.close(!0)}.bind(this)).appendTo(i)),this._$dialog.append(i),this.setupKeyboardShortcuts(this._$element[0])},d.prototype._clearSearchInput=function(){var a=!1;return this._searchInput.getValue()&&(this._searchInput.clear(),a=!0),a},b.exports=d},{"../animation":3,"../slide/slide":44,"../util":75,"./search-input":33,"./util":38,"./virtual-results":39}],36:[function(a,b,c){"use strict";function d(a){var b,c=function(a){return e.extend(!0,{},a)};this._select=a,this._settings=a._settings,b=this._settings.sources,b=Array.isArray(b)?{DUMMY_GROUP:b}:"string"==typeof b?{DUMMY_GROUP:[b]}:c(b),this.preProcessSelected=!1,this._sourceMap={},this._sourceLifeCycleData={},this._sourceGroupMap={},this._sourceIndexMap={},Object.keys(b).forEach(function(a,d){var e,f,g,i,j,k=[];for(k.createNewSupported=[],Array.isArray(b[a])||(b[a]=[b[a]]),e=0;e<b[a].length;e++){if(f=b[a][e],!(f in this._select.SOURCES))throw new Error('Source "'+f+"\" doesn't exist");g=c(this._select.SOURCES[f]),g.id=f,this._normalizeSource(g),this._sourceMap[f]=g,this._sourceGroupMap[f]=a,this._sourceIndexMap[f]=d+"-"+e,g.aliasFor&&(i=g.aliasFor,Array.isArray(i)||(i=[i]),g.aliases=i,i.forEach(function(a){this._sourceMap[a]=g,this._sourceIndexMap[a]=d+"-"+e}.bind(this))),this._settings.createNew&&g.createNew&&k.createNewSupported.push(g),g.preProcessSelected&&(this.preProcessSelected=!0),k.push(g),j=this._sourceLifeCycleData[g.id]={},"function"==typeof g.onSourceInitialization&&g.onSourceInitialization(j)}b[a]=k,this._settings.sortCreateNew&&k.createNewSupported.sort(function(a,b){return h(a.name,b.name)})}.bind(this)),this._sources=b}var e=jQuery,f=a("../sort"),g=a("./tooltip-key"),h=a("../util").fastLocaleCompare,i=a("../highlighter");d._CACHE={},d._METADATA_CACHE={},d.invalidateCache=function(){d._CACHE={},d._METADATA_CACHE={}},d.invalidateCacheForSource=function(a){delete d._CACHE[a],delete d._METADATA_CACHE[a]},d.prototype._normalizeSource=function(a){var b=["name","createNew","inlineEdit"];b.forEach(function(b){"function"==typeof a[b]&&(a[b]=a[b]())})},d.prototype.getSource=function(a){return this._sourceMap[a]},d.prototype.getGrouping=function(){return this._sources},d.prototype.load=function(b){var c=[],f=[],g=this._sourcesPromise,h=this._select._settings;return g&&!b||(this.sourceMetaData={},Object.keys(this._sources).forEach(function(a){var g=this._select.ENTRY_ID_KEY;this._sources[a].forEach(function(a){var i,j=a.dontCache||h.extraEntries&&h.extraEntries[a.id];!d._CACHE[a.id]||b||j?(i=a.data.call(this._select,h.meta,a.id),j||(d._CACHE[a.id]=i)):i=d._CACHE[a.id],i.then(function(b){var c=[],d={},f=h.extraEntries&&h.extraEntries[a.id];f&&(b=b.concat(f)),b.forEach(function(a){"object"==typeof a&&(a=e.extend({},a)),c.push(a),d[a[g]]=a}),c.mapping=d,a.results=c}),c.push(i),"function"==typeof a.metaData&&(d._METADATA_CACHE[a.id]&&!b?i=d._METADATA_CACHE[a.id]:(i=a.metaData.call(this._select,h.meta,a.id),a.dontCache||(d._METADATA_CACHE[a.id]=i)),i.then(function(b){this.sourceMetaData[a.id]=b}.bind(this)),c.push(i)),f.push(a)}.bind(this))}.bind(this)),"function"==typeof h.extraData&&c.push(h.extraData(h.meta).then(function(a){this.extraData=a}.bind(this))),g=this._sourcesPromise=Promise.all(c).then(function(){var b,c;if(!this._select._sharedInstance)return b=a("./select"),c=f.filter(function(a){return!a.dontCache}).map(function(a){return b.getSourceData(a.id)}),Promise.all(c)}.bind(this))),g},d.prototype.loadAndProcess=function(a,b,c){var d=this._select._settings,e={},g=function(a,b){var c={id:a,entry:b};return e[a]=c,c}.bind(this),h=function(a,b,c){var e,h,i=this.getFilterFunction(b.id),j=this._select.MAX_SYNCHRONOUS_PROCESSING_LENGTH,k=0,l=b.results.length,m=[],n=function(a){var c=function(a,e,f){var h,n,o,p;for(h=a;h<=e;h++)n=b.results[h],o=this.uniqueEntryID(n),p=i(n,d.meta,this.extraData),p&&(m.push(g(o,n)),k++),this._loadCount>1&&!this._previousEntries[o]&&(this.newEntryIndexMap[o]=p?k:-1),this._previousEntries[o]=!0;e===l-1?f():setTimeout(function(){c(e+1,Math.min(e+j,l-1),f)})}.bind(this);c(0,Math.min(j-1,l-1),a)}.bind(this),o=function(){n(function(){a[b.id]=m,this._sourceData[b.id]=b.results,b.aliases&&b.aliases.forEach(function(a){this._sourceData[a]=b.results}.bind(this)),c()}.bind(this))}.bind(this);d.sortResults?(e=this.getSourceSortFunction(b.id),h=this.getValueFunction(b.id),f(b.results,function(a,b){var c=h(a),d=h(b);return e(c,d,a,b)},o)):o()}.bind(this),i=function(a,b,c,d){var e=-1,f=a[b]={},g=function(){e++,e===c.length?d():h(f,c[e],g)};g()};this._loadCount=this._loadCount?this._loadCount+1:1,this._previousEntries=this._previousEntries||{},this.load(c).then(function(){var c=-1,d={},f=Object.keys(this._sources),g=function(){var b;c++,c===f.length?a(d,e):(b=f[c],i(d,b,this._sources[b],g))}.bind(this);"function"==typeof b&&b(),this.newEntryIndexMap={},this._sourceData={},g()}.bind(this))},d.prototype.getSourceData=function(a){return this._sourceData[a]},d.prototype.destroy=function(){Object.keys(this._sources).forEach(function(a){this._sources[a].forEach(function(a){var b=this._sourceLifeCycleData[a.id];"function"==typeof a.onSourceDestroy&&a.onSourceDestroy(b)}.bind(this))}.bind(this))},d.prototype.getEntryValue=function(a){var b=this.getSourceID(a),c=this.getValueFunction(b);return c(a)},d.prototype.formatEntry=function(a,b,c,d){var e,f,g,h,j;return"object"==typeof a&&(g=this.getSourceID(a)),f=this.getValueFunction(g),e=this.getFormatFunction(g),h=e.call(this._select,a,f(a)),j='<span class="select-formatted-content">'+h+"</span>",!b||c!==this.SEARCH_MATCH_TYPE.VALUE&&c!==this.SEARCH_MATCH_TYPE.BOTH||(j=i.highlightMatchesInHTML(j,b,!0)),c===this.SEARCH_MATCH_TYPE.SEARCH_KEYS&&(j+='<f-icon class="fa-help-info"></f-icon>'),d&&this.doesEntrySupportInlineEdit(a)&&(j+='<f-icon class="fa-pencil inline-edit-icon" title="'+this._select.EDIT_TEXT+'"></f-icon>'),j},d.prototype.formatCategory=function(a,b){var c=this._select.DEFAULT_CATEGORY_FORMAT_FUNCTION;return c(a,b)},d.prototype.formatSubcategory=function(a,b,c){var d=this.getSubcategoryFormatFunction(c);return d(a,b)},d.prototype.getValueFunction=function(a){return this._getSpecifiedFunction("valueFunction","DEFAULT_VALUE_FUNCTION",a)},d.prototype.getFormatFunction=function(a){return this._getSpecifiedFunction("formatFunction","DEFAULT_FORMAT_FUNCTION",a)},d.prototype.getCreateNewFunction=function(a){return this._getSpecifiedFunction("createNewFunction","DEFAULT_CREATE_NEW_FUNCTION",a)},d.prototype.getInlineEditFunction=function(a){return this._getSpecifiedFunction("inlineEditFunction","DEFAULT_INLINE_EDIT_FUNCTION",a)},d.prototype.getSourceSortFunction=function(a){return this._getSpecifiedFunction("sortFunction","DEFAULT_SOURCE_SORT_FUNCTION",a)},d.prototype.getSubcategoryValueFunction=function(a){return this._getSpecifiedFunction("subcategoryValueFunction","DEFAULT_SUBCATEGORY_VALUE_FUNCTION",a)},d.prototype.getSubcategoryFormatFunction=function(a){return this._getSpecifiedFunction("subcategoryFormatFunction","DEFAULT_SUBCATEGORY_FORMAT_FUNCTION",a)},d.prototype.getSubcategorySortFunction=function(a){return this._getSpecifiedFunction("subcategorySortFunction","DEFAULT_SUBCATEGORY_SORT_FUNCTION",a)},d.prototype.getTooltipHeaderFormatFunction=function(a){return this._getSpecifiedFunction("tooltipHeaderFormatFunction",null,a)},d.prototype.getFilterFunction=function(a){var b,c,d=this._select._settings,e=[];return b=this.getSource(a).filterFunction,b&&e.push(b),c=d.filterFunction,"function"==typeof c?e.push(c):null!=c&&"function"==typeof c[a]&&e.push(c[a]),function(a){return e.every(function(b){return b.apply(this._select,[a,d.meta,this.extraData])}.bind(this))}.bind(this)},d.prototype._getSpecifiedFunction=function(a,b,c){var d,e=this._select._settings,f=b?this._select[b]:null;return d="function"==typeof e[a]?e[a]:c?(e[a]||{})[c]||this.getSource(c)[a]||f:f},d.prototype.globalSort=function(a,b){var c,d,e,f,g=this.getSourceID(a),i=this.getSourceID(b),j=this.getSource(g),k=this.getSource(i);return j?k?g===i?(e=this.getValueFunction(g),f=this.getSourceSortFunction(g),c=e(a),d=e(b),f(c,d,a,b)):this._settings.sortCategories?(c=this.getSource(g).name,c=this.getSource(i).name,h(c,d)):(c=this.getSourceIndexString(g),d=this.getSourceIndexString(i),h(c,d)):1:-1},d.prototype.SEARCH_MATCH_TYPE={NONE:0,VALUE:1,SEARCH_KEYS:2,BOTH:3},d.prototype.getSearchMatchChecker=function(a){var b=this.getSource(a).searchKeys||{},c=this.getValueFunction(a),d=Object.keys(b),e=function(a,b){return null!=a&&(Array.isArray(a)?a.some(function(a){return e(a,b)}):"object"==typeof a?Object.keys(a).some(function(c){return e(a[c],b)}):b.test(a))};return function(a,f,g){var h,i=c(a),j=!1,k=!1,l={};return e(i,f)&&(j=!0),d.forEach(function(c){var d;d="function"==typeof b[c]?b[c].call(this._select,a,g,f):e(a[c],f),d&&(k=!0,l[c]=!0)}.bind(this)),h=j&&k?this.SEARCH_MATCH_TYPE.BOTH:j?this.SEARCH_MATCH_TYPE.VALUE:k?this.SEARCH_MATCH_TYPE.SEARCH_KEYS:this.SEARCH_MATCH_TYPE.NONE,{matchType:h,matchedSearchKeys:l}}.bind(this)},d.prototype.formatEntryTooltip=function(a,b,c,d){function f(a){return d[a]}var h=this._select.ENTRY_ID_KEY,j=[this.SEARCH_MATCH_TYPE.VALUE,this.SEARCH_MATCH_TYPE.BOTH],k=[this.SEARCH_MATCH_TYPE.SEARCH_KEYS,this.SEARCH_MATCH_TYPE.BOTH],l=document.createElement("div"),m=this.getSourceID(a),n=this.getSource(m),o=n.tooltipNameLabel||n.name,p=b&&d,q=this.getTooltipHeaderFormatFunction(m),r=q&&q.call(this._select,a,n.id);if(r){p&&n.headerSearchKeys&&n.headerSearchKeys.some(f)&&(r=i.highlightMatchesInHTML(r,b,!0));var s=document.createElement("div");s.className="select-tooltip-header",s.innerHTML=r,l.appendChild(s)}var t=document.createElement("table");t.className="table slightly-condensed key-value select-tooltip-table",l.appendChild(t);var u=document.createElement("tbody");t.appendChild(u);var v;this._settings.suppressIdValueTooltip!==!0&&n.suppressIdValueTooltip!==!0?(v={},v[h]=!0,v=e.extend(v,n.tooltipKeys||{}),v[h]=new g(o,function(a){return this.formatEntry(a)}.bind(this))):v=n.tooltipKeys||{};var w=!1;return Object.keys(v).forEach(function(e){var f,g,l,m,n=v[e],o=!n.present||n.present.call(this._select,a);if(o&&(f=n.label,g=n.formatter?n.formatter.call(this._select,a,e):a[e],l=n.isExtra,g)){m=p&&(e===h&&j.indexOf(c)>=0||d[e]&&k.indexOf(c)>=0),m&&"string"==typeof g&&(g=i.highlightMatchesInHTML(g,b,!0));var q=document.createElement("tr");!w&&l&&(q.className="divider");var r=document.createElement("td");r.innerHTML=f,q.appendChild(r);var s=document.createElement("td");"object"==typeof g?s.appendChild(g):s.innerHTML=g,q.appendChild(s),u.appendChild(q),w=l}}.bind(this)),l},d.prototype.getSourceID=function(a){var b,c="object"==typeof a;return c&&(b=this._select.ENTRY_SOURCE_ID_FUNCTION(a)),c&&b||(b=this._sources[Object.keys(this._sources)[0]][0].id),b},d.prototype.getSourceIndexString=function(a){return this._sourceIndexMap[a]},d.prototype.getSourceGroup=function(a){return this._sourceGroupMap[a]},d.prototype.uniqueEntryID=function(a){var b,c=this.getSourceID(a);return b="object"==typeof a?a[this._select.ENTRY_ID_KEY]:a,b+"#"+c},d.prototype.isSameEntry=function(a,b){return this.uniqueEntryID(a)===this.uniqueEntryID(b)},d.prototype.isSolitaryEntry=function(a){var b,c=this._select._settings,d=this.getSourceID(a),e=c.solitaryEntries||this.getSource(d).solitaryEntries||[];return!c.singleSelect&&(!!c.allSolitary||(b="object"==typeof a?a[this._select.ENTRY_ID_KEY]:a,a[this._select.SOLITARY_KEY]||e[b]))},d.prototype.supportedEntry=function(a){var b=this.getSourceID(a),c=this.getSourceIndexString(b),d=c?this.getFilterFunction(b):null;return c&&d(a,this._select._settings.meta,this.extraData)},d.prototype.doesEntrySupportInlineEdit=function(a){var b=this.getSourceID(a),c=this.getSource(b);return this._select._settings.inlineEdit&&c.inlineEdit},b.exports=d},{"../highlighter":12,"../sort":45,"../util":75,"./select":34,"./tooltip-key":37}],37:[function(a,b,c){"use strict";function d(a,b,c,d){this.label=a,b&&(this.formatter=b),c&&(this.present=c),this.isExtra=!!d}d.prototype={label:null,isExtra:!1,formatter:null,present:null},b.exports=d},{}],38:[function(a,b,c){"use strict";var d=jQuery;b.exports.PREVENT_LOCKUP_TIMEOUT=75,b.exports.eventInsideElement=function(a,b){return a.target===b||d.contains(b,a.target)},b.exports.firstScrollableParent=function(a,b){var c=function(a){return a?a.scrollHeight-a.clientHeight>0?a:b&&a===b?null:c(a.parentNode):null};return c(a.parentElement)}},{}],39:[function(a,b,c){"use strict";function d(){this.element=document.createElement("div"),this.element.className="scroller"}function e(a,b,c){this._element=null,this._select=a,this._sources=b,this.resultsElement=document.createElement("div"),this.resultsElement.className="virtual-results",this.resultsElement.tabIndex=1e3,this._scroller=new d,this.resultsElement.appendChild(this._scroller.element),this._loadingElement=document.createElement("div"),this._loadingElement.className="loading-container",this._loadingElement.innerHTML='<f-icon class="fa-loading icon-lg"></f-icon>',this._processingElement=document.createElement("div"),this._processingElement.className="processing",this._processingElement.innerHTML=this._select.PROCESSING_TEXT,this.resultsElement.appendChild(this._loadingElement),this._entryWrapperMap={},this.updateSelected(c),this.resultsElement.addEventListener("scroll",function(){this._hideTooltip(),this._updateFirstAndLastVisible(),this._renderScrolledChunk()}.bind(this))}var f=a("../tooltip"),g=a("./drag"),h=a("./util"),i=a("../util"),j=a("../shortcuts"),k=a("../browser"),l="pseudo-focused",m=10;d.prototype.update=function(a){this.element.style.display="",this.element.style.height=a+"px"},d.prototype.hide=function(){this.element.style.display="none"},e.prototype.updateSelected=function(a,b,c){var d,e,f=this._select._settings,g=Array.isArray(a);if(this._selectedMap={},this._initSolitaryTracking(),!g&&!f.singleSelect)throw new Error("Selected is not an array");g||(a=a?[a]:[]);var h=function(){g&&f.sortWidget&&a.sort(this._sources.globalSort.bind(this._sources)),this._select._detachChangeListener(),a.forEach(function(a){this.add(a)}.bind(this)),this._select._includeInput||this._select._storeOriginallySelected(),this._select._attachChangeListener(),a.length&&this._select._notifyChange()}.bind(this);(b||c)&&this.markSourcesForReload(c),d=null==f.preProcessSelected?this._sources.preProcessSelected:f.preProcessSelected,e=!0,d&&(a.length&&!this._sourcesLoaded?(e=!1,this._select._toggleLoading(!0),this.loadAndProcessSources(function(){a=a.map(function(a){var b=this._sources.getSourceID(a),c=this._sources.getSourceData(b);return c.mapping[a[this._select.ENTRY_ID_KEY]]}.bind(this)),this._select._toggleLoading(!1),h(),this._notifyPreprocessComplete()}.bind(this))):this._notifyPreprocessComplete()),e&&h()},e.prototype._notifyPreprocessComplete=function(){"function"==typeof this._select._onPreprocessComplete&&window.setTimeout(function(){this._select._onPreprocessComplete()}.bind(this))},e.prototype.clearResults=function(){this._removeEntries(),this._scroller.hide(),this.resultsElement.appendChild(this._loadingElement)},e.prototype.markSourcesForReload=function(a){this._hardLoadSources=a,this._sourcesLoaded=!1,this.clearResults(),this.toggleInputs(!1)},e.prototype.loadAndProcessSources=function(a){this._newEntryAnimated={},this._highlightNewEntries=!1,this._sources.loadAndProcess(function(b,c){this._results=b,this._entryWrapperMap=c,this._hardLoadSources=!1,this._sourcesLoaded=!0,this._processingElement.parentNode&&this._loadingElement.removeChild(this._processingElement),"function"==typeof a&&a()}.bind(this),function(){this._loadingElement.insertBefore(this._processingElement,this._loadingElement.firstChild)}.bind(this),this._hardLoadSources)},e.prototype.setGroup=function(a){this._currentGroup=a},e.prototype.getGroup=function(){return this._currentGroup},e.prototype.setSearchValue=function(a){this._searchValue=a},e.prototype.updateResults=function(){var a=this._results[this._currentGroup],b=Object.keys(a),c=this._select._settings;this._entryCount={},this._collapsedCategories={},this._newEntryIndexMap=Object.assign({},this._sources.newEntryIndexMap);var d=function(){var d,e={};this._searchValue&&(d=new RegExp(i.preRegexEscape(this._searchValue),"i")),b.length>1&&c.sortCategories&&b.sort(function(a,b){var c=this._sources.getSource(a).name,d=this._sources.getSource(b).name;return i.fastLocaleCompare(c,d)}.bind(this)),b.forEach(function(b){var f,g,h,i=this._sources.getSource(b),j=i.subcategories&&c.subcategories!==!1||c.subcategories,k=this._sources.getSearchMatchChecker(b),l=0,m=function(a){if(this._select._requiredEntryIDs.has(a.id))return!1;var b,c=!0;return this._searchValue?(b=k(a.entry,d,this._searchValue),a.searchMatchType=b.matchType,a.matchedSearchKeys=b.matchedSearchKeys,c=b.matchType!==this._sources.SEARCH_MATCH_TYPE.NONE):a.searchMatchType=this._sources.SEARCH_MATCH_TYPE.NONE,c}.bind(this);j?(f=e[b]={},g=this._sources.getSubcategoryValueFunction(b),h=this._sources.getSubcategorySortFunction(b),a[b].forEach(function(a){var b;m(a)&&(b=g(a.entry),f[b]?f[b].push(a):f[b]=[a],l++)}),this._sortedSubcategoryValues=Object.keys(f).sort(function(a,b){return h.call(this._select,a,b,c.meta,this._sources.extraData)}.bind(this))):(e[b]=a[b].filter(function(a){return m(a)}.bind(this)),l=e[b].length),this._entryCount[b]=l}.bind(this)),this._processedCategories=e,this._collectEntriesAndRender()}.bind(this);this._searchValue||this._searchValue!==this._previousSearchValue?(this._hideTooltip(),this._scroller.hide(),this._removeEntries(),this.resultsElement.scrollTop=0,this.resultsElement.appendChild(this._loadingElement),this._entries=null,window.setTimeout(d,h.PREVENT_LOCKUP_TIMEOUT),this._previousSearchValue=this._searchValue):d()},e.prototype.renderResults=function(){var a,b,c;this._entries&&null!=this.resultsElement.offsetParent&&(this._initializeTooltip(),this._calculateScrollingDimensions(),this._lastRepaintScroll=0,this._focusedEntryWrapper=null,this._loadingElement.parentNode&&this.resultsElement.removeChild(this._loadingElement),this.toggleInputs(!0,!0),this._highlightNewEntries&&(a=Object.keys(this._newEntryIndexMap)).length?(b=this._newEntryIndexMap[a[0]],c=this._entries[b],this._canFocusEntryWrapper(c)&&(this._focusedEntryWrapper=c),this.resultsElement.scrollTop=this._calculateEntryOffset(b)-this._displayBuffer/2+this._entryHeight/2,this._updateFirstAndLastVisible(),this._renderScrolledChunk(!0)):this._maintainScrollPosition?(this._updateFirstAndLastVisible(),this._renderScrolledChunk(!0)):(this.resultsElement.scrollTop=0,this._updateFirstAndLastVisible(),this._renderChunk(0),this._updateResultsHeightIfHorizontalScrollbar()),this._maintainScrollPosition=!1,!this._focusedEntryWrapper&&this._firstInteractableRenderedEntryWrapper&&this._updateFocusedEntryWrapper(this._firstInteractableRenderedEntryWrapper))},e.prototype.highlightNewNextRender=function(){this._highlightNewEntries=!0},e.prototype.resizeResults=function(){this._calculateScrollingDimensions(),this._lastRepaintScroll=null,this._updateFirstAndLastVisible(),this._renderScrolledChunk(),this._updateResultsHeightIfHorizontalScrollbar()},e.prototype.createNew=function(){return new Promise(function(a,b){var c,d,e,f=this._sources.getGrouping()[this._currentGroup].createNewSupported,g=function(c){var d=this._sources.getCreateNewFunction(c);this._select._queueSourceChangeReloads(!0),Promise.resolve(d(c,this._searchValue)).then(function(){this._select._dequeueSourceChangeReloads(),a()}.bind(this),function(){this._select._dequeueSourceChangeReloads(),b()}.bind(this))}.bind(this),h=function(a,b){a.stopPropagation(),this.toggleInputs(!0,b),c.parentElement.insertBefore(this.resultsElement,c),c.parentElement.removeChild(c),this.renderResults()}.bind(this);f.length>1?null!=this.resultsElement.offsetParent&&(c=document.createElement("div"),c.className="virtual-results",d=document.createElement("button"),d.className="bare",d.setAttribute("title",this._select.RETURN_TITLE),d.innerHTML='<f-icon class="fa-arrow-left"></f-icon>',d.addEventListener("click",function(a){h(a,!0),b()}),e=document.createElement("div"),e.className="create-new-title",e.innerHTML="<span>"+this._select.CREATE_NEW_TEXT+"</span>",e.appendChild(d),c.appendChild(e),f.forEach(function(a){var b=document.createElement("div");b.className="entry entry-static",b.innerHTML='<f-icon class="fa-plus icon-sm"></f-icon><span>'+a.name+"</span>",b.addEventListener("click",function(b){h(b,!1),g(a.id)}),c.appendChild(b)}),this.toggleInputs(!1),this.resultsElement.parentElement.insertBefore(c,this.resultsElement),this.resultsElement.parentElement.removeChild(this.resultsElement)):f.length&&g(f[0].id)}.bind(this))},e.prototype.inlineEdit=function(a){var b=function(){this._select._dequeueSourceChangeReloads()}.bind(this),c=this._sources.getInlineEditFunction(this._sources.getSourceID(a));return this._select._queueSourceChangeReloads(),Promise.resolve(c(this._sources.getSourceID(a),a)).then(b,b)},e.prototype.setupKeyboardShortcuts=function(a){var b=j.createShortcutChecker([j.SHORTCUTS.PREVIOUS,j.SHORTCUTS.NEXT],function(a,b){switch(a){case j.SHORTCUTS.PREVIOUS:this._hideTooltip(),this._focusPreviousEntry();break;case j.SHORTCUTS.NEXT:this._hideTooltip(),this._focusNextEntry()}b.preventDefault()}.bind(this)),c=j.createShortcutChecker([j.SHORTCUTS.SELECT,j.SHORTCUTS.CLEAR],function(a,b){switch(a){case j.SHORTCUTS.SELECT:this._selectFocused();break;case j.SHORTCUTS.CLEAR:this._clearSearchInput()||(this._hideTooltip(),this.close(!0))}b.preventDefault()}.bind(this));a.addEventListener("keydown",b),a.addEventListener("keyup",c)},e.prototype.destroy=function(){this._tooltip&&this._tooltip.destroy()},e.prototype.canAdd=function(a){var b=this._select._settings.max,c=Object.keys(this._selectedMap).length;return a&&this._sources.supportedEntry(a)&&(null==b||c<b)&&!this._selectedMap[this._sources.uniqueEntryID(a)]},e.prototype.add=function(a,b){var c,d,e,f=this._sources.uniqueEntryID(a),g=!1,h=this._select._settings.singleSelect,i=Object.keys(this._selectedMap),j=i.length;return this.canAdd(a)&&(e=this._sources.isSolitaryEntry(a),b&&b.shiftKey&&!h&&!e&&null!=this._lastChangedIndex&&this._lastChangeAction===this._CHANGE_ACTION.ADD?(d=this._entryWrapperMap[f],j=this._addMultiple(d,j)):h&&j?this._select._batchChange(function(){c=this._selectedMap[i[0]],this._select._removedViaChooser(c),delete this._selectedMap[i[0]],j--,this._reRenderEntry(i[0]),j=this._addNormal(a,f,j)}.bind(this)):j=this._sources.isSolitaryEntry(a)?this._addSolitary(a,f,i,j):this._addNormal(a,f,j),g=!0),g},e.prototype.remove=function(a,b){var c=this._select._settings.max,d=Object.keys(this._selectedMap).length,e=this._select._settings.singleSelect;this._sources.isSolitaryEntry(a)?this._removeSolitary(a):b&&b.shiftKey&&!e&&null!=this._lastChangedIndex&&this._lastChangeAction===this._CHANGE_ACTION.REMOVE?this._removeMultiple(a):this._removeNormal(a),
c&&d===c&&this._disableUnselectedEntries(!1)},e.prototype.toggleInputs=function(){throw new Error("Must be implemented by subclass")},e.prototype.close=function(){throw new Error("Must be implemented by subclass")},e.prototype._getEntryHeight=function(a){var b;return b=a.entry?this._entryHeight:a.category?this._categoryHeight:this._subcategoryHeight},e.prototype._focusPreviousEntry=function(){var a,b,c;if(this._focusedEntryWrapper)for(c=this._getEntryHeight(this._focusedEntryWrapper),a=this._focusedEntryWrapper.insertedIndex-1;a>=0;a--){if(b=this._entries[a],b.entry&&this._canFocusEntryWrapper(b)){this._updateFocusedEntryWrapper(b),b.insertedIndex<this._firstVisibleEntryIndex&&(this.resultsElement.scrollTop-=c);break}c+=this._getEntryHeight(b)}},e.prototype._focusNextEntry=function(){var a,b,c;if(this._focusedEntryWrapper)for(c=this._getEntryHeight(this._focusedEntryWrapper),a=this._focusedEntryWrapper.insertedIndex+1;a<this._entries.length;a++){if(b=this._entries[a],b.entry&&this._canFocusEntryWrapper(b)){this._updateFocusedEntryWrapper(b),b.insertedIndex>this._lastVisibleEntryIndex&&(this.resultsElement.scrollTop+=c);break}c+=this._getEntryHeight(b)}},e.prototype._selectFocused=function(){this._focusedEntryWrapper&&this._clickEntry(null,this._focusedEntryWrapper)},e.prototype._initializeTooltip=function(){this._select._settings.tooltips&&!this._tooltipInitialized&&(this._tooltip=new f({class:"virtual-results-tooltip",showDelay:!0,padContent:!1,placementLocation:this._select._settings.singleSelect?f.PLACEMENT_LOCATION.TOP_RIGHT:f.PLACEMENT_LOCATION.TOP_LEFT},this._select.TARGET_WINDOW,this._select.TARGET_CONTAINER),this._tooltipInitialized=!0)},e.prototype._maintainScrollNextRender=function(){this._maintainScrollPosition=!0},e.prototype._removeEntries=function(){var a,b;for(a=this.resultsElement.childNodes.length-1;a>0;a--)b=this.resultsElement.childNodes[a],this.resultsElement.removeChild(b)},e.prototype._CHANGE_ACTION={ADD:"add",REMOVE:"remove"},e.prototype._collectEntriesAndRender=function(){var a=[],b=0,c=0,d=0,e=0,f=Object.keys(this._processedCategories),g=f.length>1;this._lastChangedIndex=null,this._lastChangeAction=null,f.forEach(function(f){var h,i,j=this._processedCategories[f],k=!Array.isArray(j),l=k?Object.keys(j).length:j.length,m=function(f){f.forEach(function(f){f.priorCategories=c,f.priorSubcategories=d,f.priorEntries=e,this._sampleEntry=f,a.push(f),null!=this._newEntryIndexMap[f.id]&&(this._newEntryIndexMap[f.id]=b),b++,e++}.bind(this))}.bind(this);l&&(g&&(h={id:f,name:this._sources.getSource(f).name,category:!0,count:this._entryCount[f],priorCategories:c,priorSubcategories:d,priorEntries:e,collapsed:!!this._collapsedCategories[f]},this._sampleCategory=h,a.push(h),b++,c++),h&&h.collapsed||(k?this._sortedSubcategoryValues.forEach(function(g){i={id:f,value:g,count:j[g].length,subcategory:!0,priorCategories:c,priorSubcategories:d,priorEntries:e},this._sampleSubcategory=i,a.push(i),b++,d++,m(j[g])}.bind(this)):m(j)))}.bind(this)),this._visibleCategoriesCount=c,this._visibleSubcategoriesCount=d,this._visibleEntriesCount=e,this._entries=a,this.renderResults()},e.prototype._adjustResultsElementHeight=function(a){var b,c,d,e,f=0,g=this._select.MIN_SINGLE_SELECT_RESULTS_HEIGHT,h=a;h<g?h=g:h>this._select.MAX_SINGLE_SELECT_RESULTS_HEIGHT&&(h=this._select.MAX_SINGLE_SELECT_RESULTS_HEIGHT),h+=1,b=Math.ceil(this.resultsElement.getBoundingClientRect().top-this._select.TARGET_CONTAINER.getBoundingClientRect().top),c=b+h+m-this._select.TARGET_CONTAINER.offsetHeight,d=h-g,e=this._element.offsetTop-m,c>0&&(c>d?(h-=d,f=c-d,f>e&&(h-=f-e,f=e)):h-=c),this.resultsElement.style.height=h+"px",f>0||this._overflowAdjusted?(this._element.style.top=this._element.offsetTop-f+"px",this._element.classList.add("overflow-adjusted"),this._overflowAdjusted=!0):this._element.classList.remove("overflow-adjusted")},e.prototype._calculateScrollingDimensions=function(){var a;this._entryHeight=this._sampleEntry?this._calculateEntryHeight(this._sampleEntry):0,this._categoryHeight=this._sampleCategory?this._calculateEntryHeight(this._sampleCategory):0,this._subcategoryHeight=this._sampleSubcategory?this._calculateEntryHeight(this._sampleSubcategory):0,a=this._calculateResultsHeight(),this._scroller.update(a),this._select._settings.singleSelect&&this._select._includeInput&&this._adjustResultsElementHeight(a),this._displayItemsLength=Math.ceil(this.resultsElement.clientHeight/this._entryHeight),this._cachedItemsLength=3*this._displayItemsLength,this._displayBuffer=this._displayItemsLength*this._entryHeight},e.prototype._updateResultsHeightIfHorizontalScrollbar=function(){var a,b,c,d;this._select._settings.singleSelect&&(a=this.resultsElement.offsetHeight,b=this.resultsElement.clientHeight,c=a-b,c&&(d=a+c,d<=this._select.MAX_SINGLE_SELECT_RESULTS_HEIGHT&&d>=this._select.MIN_SINGLE_SELECT_RESULTS_HEIGHT&&(this.resultsElement.style.height=d+"px")))},e.prototype._calculateFirstFullyVisibleIndex=function(){var a=this.resultsElement.scrollTop;return Math.ceil(a/this._entryHeight)},e.prototype._calculateLastFullyVisibleIndex=function(){var a=this.resultsElement.scrollTop,b=a+this.resultsElement.clientHeight;return Math.floor(b/this._entryHeight)-1},e.prototype._renderScrolledChunk=function(a){var b=this.resultsElement.scrollTop;if(this._entries&&(null==this._lastRepaintScroll||a||Math.abs(b-this._lastRepaintScroll)>this._displayBuffer)){var c=this._firstVisibleEntryIndex-this._displayItemsLength;this._renderChunk(c<0?0:c),this._lastRepaintScroll=b}},e.prototype._updateFirstAndLastVisible=function(){this._firstVisibleEntryIndex=this._calculateFirstFullyVisibleIndex(),this._lastVisibleEntryIndex=this._calculateLastFullyVisibleIndex()},e.prototype._renderChunk=function(a){var b,c,d,e,f=a+this._cachedItemsLength,g=this._entries.length-1,h=!1;if(this._firstInteractableRenderedEntryWrapper=null,this._hideTooltip(),f>g&&(f=g),c=document.createDocumentFragment(),0===a&&0===this._entries.length)e=document.createElement("div"),e.className="no-entries",e.innerHTML=this._select.NO_ENTRIES_TEXT,c.appendChild(e),h=!0;else for(b=a;b<=f;b++)d=this._entries[b],d.category?e=this._renderCategory(d,b):d.subcategory?e=this._renderSubcategory(d,b):(e=this._renderEntry(d,b),!this._firstInteractableRenderedEntryWrapper&&this._canFocusEntryWrapper(d)&&(this._firstInteractableRenderedEntryWrapper=d)),c.appendChild(e);this._removeEntries(),this.resultsElement.appendChild(c),this._afterChunkRendered(h)},e.prototype._setEntryWrapperElementClass=function(a,b){var c="entry";this._selectedMap[a.id]?c+=" selected":this._unselectedEntriesDisabled&&(c+=" disabled"),b||(a.solitary&&!this._select._settings.allSolitary&&(c+=" solitary"),a===this._focusedEntryWrapper&&(c+=" "+l),this._highlightNewEntries&&null!=this._newEntryIndexMap[a.id]&&(c+=" new-entry",this._newEntryAnimated[a.id]||(c+=" swing-once-subtle animated",this._newEntryAnimated[a.id]=!0))),a.element.className=c},e.prototype._canFocusEntryWrapper=function(a){return!this._unselectedEntriesDisabled||this._selectedMap[a.id]},e.prototype._updateFocusedEntryWrapper=function(a){this._focusedEntryWrapper&&this._focusedEntryWrapper.element.classList.remove(l),a.element.classList.add(l),this._focusedEntryWrapper=a},e.prototype._calculateEntryOffset=function(a){var b=this._entries&&this._entries[a],c=0;return b&&(c=b.priorCategories*this._categoryHeight+b.priorSubcategories*this._subcategoryHeight+b.priorEntries*this._entryHeight),c},e.prototype._calculateResultsHeight=function(){return this._visibleCategoriesCount*this._categoryHeight+this._visibleSubcategoriesCount*this._subcategoryHeight+this._visibleEntriesCount*this._entryHeight||0},e.prototype._showTooltip=function(a,b){var c=a.tooltipElement;k.isMobile()||(c&&a.tooltipRenderedForSearchValue===this._searchValue||(c=document.createElement("div"),c.appendChild(this._sources.formatEntryTooltip(a.entry,this._searchValue,a.searchMatchType,a.matchedSearchKeys)),a.tooltipElement=c,a.tooltipRenderedForSearchValue=this._searchValue),null!=this.resultsElement.offsetParent&&this._tooltip.show(c,b.pageX,b.pageY))},e.prototype._hideTooltip=function(){this._tooltip&&this._tooltip.hide()},e.prototype._renderEntry=function(a,b,c){var d,e;return a.element&&a.renderedForSearchValue===this._searchValue?d=a.element:(e=this._select._settings,d=document.createElement("div"),d.innerHTML=this._sources.formatEntry(a.entry,this._searchValue,a.searchMatchType,!0),d.addEventListener("click",function(b){b.stopPropagation(),b.target.classList.contains("inline-edit-icon")?this.inlineEdit(a.entry):this._clickEntry(b,a)}.bind(this)),d.addEventListener("mouseover",function(){this._canFocusEntryWrapper(a)&&this._updateFocusedEntryWrapper(a)}.bind(this)),!e.dragAndDrop||e.singleSelect&&this._select._includeInput||this._setupEntryDragAndDrop(d,a),this._tooltip&&this._setupEntryTooltip(d,a),a.element=d,a.solitary=this._sources.isSolitaryEntry(a.entry),a.renderedForSearchValue=this._searchValue),a.insertedIndex=b,this._setEntryWrapperElementClass(a,c),d.style.height=this._entryHeight+"px",d.style.top=this._calculateEntryOffset(b||0)+"px",d},e.prototype._reRenderEntry=function(a){var b=this._entryWrapperMap[a];b&&b.element&&(delete this._sources.newEntryIndexMap[b.id],delete this._newEntryIndexMap[b.id],b.element.innerHTML=this._sources.formatEntry(b.entry,this._searchValue,b.searchMatchType,!0),this._setEntryWrapperElementClass(b))},e.prototype._initSolitaryTracking=function(){var a=this._select._settings,b=this._select.SOLITARY_LEVEL;a.solitaryLevel===b.SOURCE||a.solitaryLevel===b.GROUP?this._currentSolitary={}:this._currentSolitary=null},e.prototype._setSolitarySelected=function(a,b){var c=this._sources.getSourceID(a),d=this._select._settings,e=this._select.SOLITARY_LEVEL;d.solitaryLevel===e.SOURCE?this._currentSolitary[c]=b:d.solitaryLevel===e.GROUP?this._currentSolitary[this._sources.getSourceGroup(c)]=b:this._currentSolitary=b},e.prototype._removeSelectedSolitary=function(a){var b,c,d=this._sources.getSourceID(a),e=this._select._settings,f=this._select.SOLITARY_LEVEL;return e.solitaryLevel===f.SOURCE?(b=this._currentSolitary[d],delete this._currentSolitary[d]):e.solitaryLevel===f.GROUP?(c=this._sources.getSourceGroup(d),b=this._currentSolitary[c],delete this._currentSolitary[c]):(b=this._currentSolitary,this._currentSolitary=null),b},e.prototype._getSolitaryToRemove=function(a){var b,c,d=this._sources.getSourceID(a),e=this._select._settings,f=this._select.SOLITARY_LEVEL;return e.solitaryLevel===f.SOURCE?b=function(a){return this._sources.getSourceID(a)===d}.bind(this):e.solitaryLevel===f.GROUP?(c=this._sources.getSourceGroup(d),b=function(a){return this._sources.getSourceGroup(this._sources.getSourceID(a))===c}.bind(this)):b=function(){return!0},Object.keys(this._selectedMap).filter(function(a){return!this._select._requiredEntryIDs.has(a)&&b(this._selectedMap[a])}.bind(this))},e.prototype._add=function(a,b,c){var d=this._select._settings.max;this._select._addedViaChooser(a),this._selectedMap[b]=a,d&&c+1===d&&this._disableUnselectedEntries(!0),this._reRenderEntry(b)},e.prototype._addMultiple=function(a,b){var c=this._select._settings.max,d=[];return this._select._batchChange(function(){var e,f,g=Math.min(this._lastChangedIndex,a.insertedIndex),h=Math.max(this._lastChangedIndex,a.insertedIndex);for(e=g;e<=h;e++)if(f=this._entries[e],!(f.category||f.subcategory||this._selectedMap[f.id]||this._sources.isSolitaryEntry(f.entry))&&(this._select._addedViaChooser(f.entry),this._selectedMap[f.id]=f.entry,d.push(f.id),b++,b===c)){this._disableUnselectedEntries(!0);break}}.bind(this)),d.forEach(function(a){this._reRenderEntry(a)}.bind(this)),b},e.prototype._addNormal=function(a,b,c){var d,e=this._removeSelectedSolitary(a);return e?this._select._batchChange(function(){d=this._selectedMap[e],this._select._removedViaChooser(d),delete this._selectedMap[e],this._reRenderEntry(e),c--,this._add(a,b,c)}.bind(this)):this._add(a,b,c),c},e.prototype._addSolitary=function(a,b,c,d){var e=this._getSolitaryToRemove(a),f=function(){this._setSolitarySelected(a,b),this._add(a,b,d)}.bind(this);return e.length>0?this._select._batchChange(function(){e.forEach(function(a){var b=this._selectedMap[a];this._select._removedViaChooser(b),delete this._selectedMap[a],this._reRenderEntry(a),d--}.bind(this)),f()}.bind(this)):f(),d},e.prototype._removeNormal=function(a){var b=this._sources.uniqueEntryID(a);delete this._selectedMap[b],this._select._removedViaChooser(a),this._reRenderEntry(b)},e.prototype._removeSolitary=function(a){this._removeSelectedSolitary(a),this._removeNormal(a)},e.prototype._removeMultiple=function(a){var b=this._sources.uniqueEntryID(a),c=this._entryWrapperMap[b],d=[];this._select._batchChange(function(){var a,b,e=Math.min(this._lastChangedIndex,c.insertedIndex),f=Math.max(this._lastChangedIndex,c.insertedIndex);for(a=e;a<=f;a++)b=this._entries[a],b.category||b.subcategory||!this._selectedMap[b.id]||this._sources.isSolitaryEntry(b.entry)||(this._select._removedViaChooser(b.entry),delete this._selectedMap[b.id],d.push(b.id))}.bind(this)),d.forEach(function(a){this._reRenderEntry(a)}.bind(this))},e.prototype._afterAdd=function(){},e.prototype._clearSearchInput=function(){return!1},e.prototype._afterChunkRendered=function(){},e.prototype._clickEntry=function(a,b){var c=!this._selectedMap[b.id];this._hideTooltip(),c?this.add(b.entry,a)&&(b.solitary?(this._lastChangedIndex=null,this._lastChangeAction=null):(this._lastChangedIndex=b.insertedIndex,this._lastChangeAction=this._CHANGE_ACTION.ADD),this._afterAdd()):this._select._settings.singleSelect&&this._select._includeInput?this._afterAdd():(this.remove(b.entry,a),this._lastChangedIndex=b.insertedIndex,this._lastChangeAction=this._CHANGE_ACTION.REMOVE)},e.prototype._clickCategory=function(a,b){var c=b.element.getElementsByTagName("button")[0],d=c.classList.contains("active");a.target===c&&(d?c.classList.remove("active"):c.classList.add("active"),this._collapsedCategories[b.id]=d,this._maintainScrollNextRender(),this._collectEntriesAndRender())},e.prototype._setupEntryDragAndDrop=function(a,b){a.setAttribute("draggable","true"),a.addEventListener("dragstart",function(c){var d=a.cloneNode(!0);d.className="entry drag-entry",this.resultsElement.appendChild(d),c.dataTransfer.effectAllowed="copy",g.setData(c.dataTransfer,b.id);try{c.dataTransfer.setDragImage(d,0,0)}catch(a){}b.dragging=!0,b.dragElement=d,g.notifyStart(b.entry),this._hideTooltip()}.bind(this)),a.addEventListener("dragend",function(){b.dragElement.parentNode&&this.resultsElement.removeChild(b.dragElement),b.dragging=!1,g.notifyEnd()}.bind(this))},e.prototype._setupEntryTooltip=function(a,b){a.addEventListener("mouseenter",function(a){this._hideTooltip(),b.dragging||this._showTooltip(b,a)}.bind(this)),a.addEventListener("mouseleave",function(){this._hideTooltip()}.bind(this))},e.prototype._disableUnselectedEntries=function(a){this._unselectedEntriesDisabled=a,this._entries&&null!=this.resultsElement.offsetParent&&this._renderScrolledChunk(!0)},e.prototype._renderCategory=function(a,b){var c,d,e;return a.element?c=a.element:(c=document.createElement("label"),d=this._sources.formatCategory(a.name,a.count),this._select._settings.collapsibleCategories?(e="compact-visual-toggle",a.collapsed||(e+=" active"),c.innerHTML='<button type="button" class="'+e+'"></button><span>'+d+"</span>",c.addEventListener("click",function(b){b.stopPropagation(),this._clickCategory(b,a)}.bind(this))):c.innerHTML="<span>"+d+"</span>",c.className="category",a.element=c),c.style.height=this._categoryHeight+"px",c.style.top=this._calculateEntryOffset(b||0)+"px",c},e.prototype._renderSubcategory=function(a,b){var c,d;return a.element?c=a.element:(c=document.createElement("div"),d=this._sources.formatSubcategory(a.value,a.count,a.id),c.innerHTML="<span>"+d+"</span>",c.className="subcategory",a.element=c),c.style.height=this._subcategoryHeight+"px",c.style.top=this._calculateEntryOffset(b||0)+"px",c},e.prototype._calculateEntryHeight=function(a){var b,c;return c=a.category?this._renderCategory(a):a.subcategory?this._renderSubcategory(a):this._renderEntry(a,null,!0),c.style.height="",c.style.visibility="hidden",this.resultsElement.appendChild(c),b=c.offsetHeight,this.resultsElement.removeChild(c),c.style.visibility="",b},b.exports=e},{"../browser":4,"../shortcuts":42,"../tooltip":71,"../util":75,"./drag":31,"./util":38}],40:[function(a,b,c){"use strict";function d(a){this._array=a}function e(a){this._iterator=a}function f(a,b,c){if("function"!=typeof c)throw new TypeError(c+" is not a function");for(var d,e=a,f=0,g=new Array(b||0);!(d=e.next()).done;)c(d.value,f,g),++f;return g}b.exports=e;var g="function"==typeof self.Symbol?Symbol.iterator:"_es6-shim iterator_";d.prototype={_current:null,_array:null,get value(){return this._array[this._current]},get done(){return this._array.length<=this._current},next:function(){return this._current=null===this._current?0:this._current+1,this}},d.prototype[g]=function(){return this},e.prototype={_probableSize:null,set sizeHint(a){this._probableSize=a},map:function(a,b){var c=0,g=f(this._iterator,this.size,function(d,e,f){f[e]=a.call(b,d,e),c=e+1});return g.length=c,new e(new d(g))},filter:function(a,b){var c=f(this._iterator,0,function(c,d,e){a.call(b,c,d)&&e.push(c)});return new e(new d(c))},toArray:function(){return Array.from(this._iterator)}},e.prototype[g]=function(){return this._iterator}},{}],41:[function(a,b,c){"use strict";function d(a){var b=new Set(a);return Object.setPrototypeOf(b,d.prototype),b}b.exports=d;var e=a("./sequence");Object.setPrototypeOf(d,Set),d.prototype=Object.create(Set.prototype,{constructor:{value:d}}),Object.assign(d.prototype,{sequence:function(){return new e(this.values())},map:function(){var a=this.sequence();return a.sizeHint=this.size,a.map.apply(a,arguments)}})},{"./sequence":40}],42:[function(a,b,c){"use strict";var d=function(a,b,c){var d="number"==typeof a?a:a.key;return b&&(b=Array.isArray(b)?b:[b]),{key:d,modifiers:b,label:c}},e=d(13,null,"Enter"),f=d(27,null,"Esc"),g=d(37,null,""),h=d(38,null,""),i=d(39,null,""),j=d(40,null,""),k=d(65,null,"a"),l=d(66,null,"b"),m=d(74,null,"j"),n=d(75,null,"k"),o=d(191,null,"/"),p=d(219,null,"["),q="ctrlKey",r="shiftKey",s="metaKey",t=d(m,q,"Ctrl+j"),u=d(n,q,"Ctrl+k"),v=d(p,q,"Ctrl+["),w=d(o,r,"?"),x=d(k,q,"Ctrl+a"),y=d(k,s,"+a"),z={SIMPLE:"simple",MULTIPLE:"multiple",SEQUENCE:"sequence"},A=b.exports.SHORTCUTS={CLEAR:"clear",CONTRA:"contra",HELP:"help",NEXT:"next",PREVIOUS:"previous",SEARCH:"search",SELECT:"select",SELECT_ALL:"selectAll"},B={};B[A.CLEAR]={type:z.MULTIPLE,keys:[f,v]},B[A.CONTRA]={type:z.SEQUENCE,sequence:[h,h,j,j,g,i,g,i,l,k]},B[A.HELP]={type:z.SIMPLE,key:w},B[A.NEXT]={type:z.MULTIPLE,keys:[j,t]},B[A.PREVIOUS]={type:z.MULTIPLE,keys:[h,u]},B[A.SEARCH]={type:z.SIMPLE,key:o},B[A.SELECT]={type:z.SIMPLE,key:e},B[A.SELECT_ALL]={type:z.MULTIPLE,keys:[x,y]};var C={SEQUENCE:1,NORMAL:2,MODIFIED:3,MULTI_MODIFIED:4};b.exports.getLabels=function(a){var b,c=B[a],d=function(a){return a.label};switch(c.type){case z.SIMPLE:b=[d(c.key)];break;case z.SEQUENCE:b=[c.sequence.map(d).join(" ")];break;case z.MULTIPLE:b=c.keys.map(d)}return b},b.exports.createShortcutChecker=function(a,b){var c={},d=function(a,b){return a.keyCode===b.key&&(b.modifiers||[]).every(function(b){return a[b]})},e=function(a){var b=C.NORMAL,c=(a.modifiers||[]).length;return c>1?b=C.MULTI_MODIFIED:c&&(b=C.MODIFIED),b},f=function(a,b){var f,g,h,i=C.NONE,j=B[b];switch(j.type){case z.SIMPLE:g=j.key,d(a,g)&&(i=e(g));break;case z.SEQUENCE:h=c[b],d(a,j.sequence[h])?(h=++c[b],h>=j.sequence.length&&(i=C.SEQUENCE,c[b]=0)):h&&(c[b]=0);break;case z.MULTIPLE:for(f=0;f<j.keys.length;f++)if(g=j.keys[f],d(a,g)){i=e(g);break}}return i};return a=a||Object.keys(A).map(function(a){return A[a]}),a.forEach(function(a){B[a].type===z.SEQUENCE&&(c[a]=0)}),function(c){var d,e=0;a.forEach(function(a){var b=f(c,a);b>e&&(d=a,e=b)}),d&&(c.stopPropagation(),b(d,c))}}},{}],43:[function(a,b,c){"use strict";var d=a("./slide"),e=a("../dom"),f=a("../lang"),g=function(a){var b=new d(a);return b.open(),b.promise},h=function(a,b){return"boolean"==typeof a.trusted&&"string"==typeof a.valueOf()&&(a=a.trusted?a.value:e.escapeHTML(a.value)),e.elem("div",{className:b+"-message"},{children:[e.elem("f-icon",{className:"fa-"+b}),e.elem("div",{className:"message-content",innerHTML:a})]})},i=b.exports.DEFAULT_MESSAGE_WIDTH=500,j=b.exports.LEVEL={SUCCESS:"success",INFO:"info",WARNING:"warning",ERROR:"error"};b.exports.alert=function(a,b,c){return b=b||j.WARNING,c=Object.assign({content:h(a,b),buttons:!0,okButtonClass:null,cancelButton:!1,width:i},c||{}),g(c)},b.exports.confirm=function(a,b,c){return b=b||j.WARNING,c=Object.assign({content:h(a,b),title:f.translate("confirm_title"),buttons:!0,width:i},c||{}),g(c)}},{"../dom":9,"../lang":23,"./slide":44}],44:[function(a,b,c){"use strict";function d(a){this._id=g.uniqueID(),this.update(a),this._isLoading=!0,this._contentReadyDeferred=e.Deferred(),this._managedDestructibles=[],this.contentReadyPromise=this._contentReadyDeferred.promise(),this._create()}var e=jQuery,f=a("../animation"),g=a("../util"),h=a("../mask"),i=a("../log"),j="slide-out",k="resize.slide",l=5;d.TARGET_WINDOW=window,d.MAX_WIDTH_RATIO=.9,d.STACKING_WIDTH_RATIO=.95,d.IFRAME_MANIPULATION_TIMEOUT=500,d.MAX_IFRAME_MANIPULATION_ATTEMPTS=4,d.FIX_WIDTH_TIMEOUT=100,d.MAX_FIX_WIDTH_ATTEMPTS=10,d.MIN_ALLOWED_WIDTH=50,d.DEFAULT_PARAMS={buttons:!1,okButton:!0,okButtonClass:"primary",okButtonClick:null,okButtonDisabled:!1,okButtonLabel:"OK",cancelButton:!0,cancelButtonClass:null,cancelButtonClick:null,cancelButtonDisabled:!1,cancelButtonLabel:"Cancel",extraHeaderContent:null,closeButton:!0,closeOnEscape:!0,content:null,fullHeight:!1,maskDisabled:!1,title:"&nbsp",url:null,iframeManipulation:!0,width:1e3},d.sameOriginIframeManipulation=function(){return!0},d.getLast=function(){var a;if(d._active&&(a=d._active.length))return d._active[a-1]},d.closeLast=function(a){var b=d.getLast();return!!b&&(b.close(a),!0)},d.resolveAndCloseLast=function(){var a=d.getLast();return!!a&&(a.done(),!0)},d.closeAll=function(a){var b;if(d._active)for(b=d._active.length-1;b>=0;b--)d._active[b].close(a)},d.prototype.update=function(a){this._originalParams=e.extend(this._originalParams||{},a),this._params=e.extend({},d.DEFAULT_PARAMS,this._originalParams),this.isOpen&&(this._updateButtons(),this._updateHeader(),(a.content||a.url)&&this._addContent(),a.width&&this._updateWidth())},d.DEFAULT_SLIDE_OPEN_CALLBACK=null,d.prototype.open=function(){var a,b;this.isOpen||("function"==typeof d.DEFAULT_SLIDE_OPEN_CALLBACK&&d.DEFAULT_SLIDE_OPEN_CALLBACK(),this._deferred=e.Deferred(),this.promise=this._deferred.promise(),this._$title.html(this._params.title).attr("title",this._params.title),this._$body.removeClass(j).one(f.CROSS_BROWSER_ANIMATION_END,function(){this._updateHeader(),this._addContent(),this._contentReadyDeferred.resolve()}.bind(this)),this._activeIndex=d._active.length,d._active.push(this),a=d._getTarget(),b=this._params.maskDisabled?null:d._getMask(),this.isOpen=!0,this._updateWidth(),b&&b.display(this._id),a.append(this._$element),e(window).on(k+this._id,g.debounce(300,this._updateWidth.bind(this))),(!this.width||this.width<d.MIN_ALLOWED_WIDTH)&&this._fixZeroWidth())},d.prototype.ready=function(a){this.contentReadyPromise.then(function(){a(this._$content)}.bind(this))},d.prototype.setLoading=function(a){this._isLoading=a,this._$content.toggleClass("invisible",a),this._$loading.toggleClass("hidden",!a),this._$footer&&this._$footer.toggleClass("hidden",a)},d.prototype.done=function(){var a=arguments;return this._close().then(function(){this._deferred.resolve.apply(this._deferred,a)}.bind(this))},d.prototype.close=function(a){return this._close(a).then(function(){this._deferred.reject()}.bind(this))},d.prototype.addDestructible=function(a){if(!a||"function"!=typeof a.destroy)throw new Error('Attempted to add a destructible component that doesn\'t implement the "destroy" method.');this._managedDestructibles.push(a)},d.updateTarget=function(){d._$target=d._mask=void 0},d._active=[],d._getTarget=function(){var a,b=d._$target;return b||(a=e(".view-container"),b=a.length?a:e("body"),d._$target=b),b},d._getMask=function(){var a,b=d._mask;return b||(a=d._getTarget(),d._mask=b=new h("slider-mask",a)),b},d.prototype._close=function(a){var b=e.Deferred(),c=!1,g=function(){this._$body.off(f.CROSS_BROWSER_ANIMATION_END).removeClass(j),this._$element.detach(),this._managedDestructibles.forEach(function(a){a.destroy()}),b.resolve(),c=!0}.bind(this);return this.isOpen?(e(window).off(k+this._id),d._active.splice(this._activeIndex,1),d._active.forEach(function(a,b){a._activeIndex=b}),this.isOpen=!1,this._params.maskDisabled||d._getMask().hide(this._id),a?g():(this._$body.addClass(j).on(f.CROSS_BROWSER_ANIMATION_END,function(){this.isOpen||g()}.bind(this)),window.setTimeout(function(){c||g()},1e3))):b.reject(),b.promise()},d.prototype._addIframeContent=function(){var a,b,c=function(){var b,c;try{var d=a[0];c=d.contentWindow,b=d.contentDocument||c.document}catch(a){}return{document:b,window:c}};b="slide-iframe"+this._id,a=e('<iframe name="'+b+'" src="'+this._params.url+'"></iframe>').addClass("slide-iframe"),this._$content.append(a),a.on("load",function(){var a=c(),b=0,e=function(){this.setLoading(!1)}.bind(this),f=function(c){var g;this.isOpen&&(g=d.sameOriginIframeManipulation.call(this,a.window,a.document),g?("string"!=typeof g||this._originalParams.title||this._$title.html(g).attr("title",g),c()):b<d.MAX_IFRAME_MANIPULATION_ATTEMPTS?(b++,window.setTimeout(function(){f(e)},d.IFRAME_MANIPULATION_TIMEOUT)):(i.warn("Reached max iframe manipulation attempts"),c()))}.bind(this);if(a){if(a.document){var g=a.document.defaultView;g.insideSlide=!0,g.slideInstance=this}this._params.iframeManipulation?f(e):e()}else this._params.closeOnEscape=!1,e()}.bind(this))},d.prototype._updateHeader=function(){var a=this._params,b=a.title,c=a.extraHeaderContent;b&&this._$title.html(b).attr("title",b),c&&this._$headerContainer.html(c)},d.prototype._addContent=function(){var a=this._params.fullHeight||!!this._params.url;this._$content.toggleClass("full-height-content",a),this._$content.children().detach(),this._params.content?(this._$content.append(this._params.content),this.setLoading(!1)):this._params.url?(this.setLoading(!0),this._addIframeContent()):this.setLoading(!1)},d.prototype._updateWidth=function(){var a,b=d._getTarget(),c=this._activeIndex-1,e=Number.MAX_VALUE;c>=0&&(e=d._active[c].width),a=Math.floor(Math.min(this._params.width,b.width()*d.MAX_WIDTH_RATIO,e*d.STACKING_WIDTH_RATIO)),this._$element.width(a),[this._$titleBar,this._$contentContainer].forEach(function(b){b.width(a-l)}),this.width=a},d.prototype._fixZeroWidth=function(){(!this.width||this.width<d.MIN_ALLOWED_WIDTH)&&(this._fixZeroWidthTries=(this._fixZeroWidthTries||0)+1,this._fixZeroWidthTries<d.MAX_FIX_WIDTH_ATTEMPTS&&setTimeout(function(){this._updateWidth(),this._fixZeroWidth()}.bind(this),d.FIX_WIDTH_TIMEOUT))},d.prototype._updateButtons=function(){this._$footer&&(this._$footer.remove(),delete this._$footer),this._params.buttons&&(this._$footer=e('<div class="footer"></div>'),this.isOpen&&!this._isLoading||this._$footer.addClass("hidden"),this._params.okButton&&(this._$okButton=e("<button></button>",{class:this._params.okButtonClass,text:this._params.okButtonLabel}).attr("type","button").attr("disabled",this._params.okButtonDisabled).on("click",function(){"function"==typeof this._params.okButtonClick?this._params.okButtonClick(this):this.done()}.bind(this)).appendTo(this._$footer)),this._params.cancelButton&&(this._$cancelButton=e("<button></button>",{class:this._params.cancelButtonClass,text:this._params.cancelButtonLabel}).attr("type","button").attr("disabled",this._params.cancelButtonDisabled).on("click",function(){"function"==typeof this._params.cancelButtonClick?this._params.cancelButtonClick(this):this.close()}.bind(this)).appendTo(this._$footer)),this._$contentContainer.append(this._$footer))},d.prototype._create=function(){this._$element=e('<div class="slider-area"></div>').on("click contextmenu",function(a){a.stopPropagation()}),this._$titleBar=e('<div class="title-bar"></div>'),this._params.closeButton&&(this._$closeButton=e('<button class="bare" type="button"><f-icon class="fa-times"></f-icon></button>').appendTo(this._$titleBar).on("click",function(){this.close()}.bind(this))),this._$headerContainer=e('<div class="slider-header-container"></div>').prependTo(this._$titleBar),this._$title=e("<h1></h1>").prependTo(this._$titleBar),this._$body=e('<div class="slider-body dialog"></div>').append(this._$titleBar).appendTo(this._$element),this._$contentContainer=e('<div class="slider-content-container"></div>').appendTo(this._$body),this._$content=e('<div class="slider-content"></div>').appendTo(this._$contentContainer),this._$loading=e('<div class="loading-placeholder"><f-icon class="fa-loading icon-xxl"></f-icon></div>').appendTo(this._$contentContainer),this._updateButtons()};var m;m=top.Sliderin&&top.Sliderin!==d?top.Sliderin:d,b.exports=window.Sliderin=m},{"../animation":3,"../log":24,"../mask":26,"../util":75}],45:[function(a,b,c){"use strict";function d(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function e(a,b,c){return Math.floor(Math.random()*(c-b+1))+b}function f(a,b,c,e,f){var g,h=e,i=a[c];for(d(a,c,f);h<=f;)g=b(a[h],i),g<0?(d(a,e,h),e++,h++):g>0?(d(a,h,f),f--):h++;return[e,h-1]}function g(a,b,c,i,j){var k,l,m=i-c+1,n=function(){g(a,b,c,l[0]-1,j)},o=function(){g(a,b,l[1]+1,i,j)};if(!(c>i)){if(c===i)return void j(1);if(i-c===1)return b(a[c],a[i])>0&&d(a,c,i),void j(2);k=e(a,c,i),l=f(a,b,k,c,i),m<h?(n(),o()):(setTimeout(n),setTimeout(o)),j(l[1]-l[0]+1)}}var h=5e3;b.exports=function(a,b,c){var d=a.length,e=0,f=function(b){e+=b,e===d&&"function"==typeof c&&c(a)};b=b||function(a,b){return a-b},d<h?(a.sort(b),"function"==typeof c&&c(a)):g(a,b,0,d-1,f)}},{}],46:[function(a,b,c){"use strict";function d(a,b,c,d){this._input=a,this._row=b,this._value=null,this._entries=null,this._column=c,this._settings=d,this._entryValues=null,this._entryValuesMap=new Map,this._formattedEntryElementMap=new Map,this._entryElementsMap=new Map,this._formattedEntryWidths=null,this._tooltip=null,this._singular=!1,this._lastSearch=null,this._searchMatchedEntries=null,this._lastEntryIndexMatchedBySearch=null}var e=a("../dom"),f=a("../log"),g=a("../tooltip"),h=a("../util").fastLocaleCompare;d.ITEM_MARGIN_PIXELS=4,d.prototype.BUBBLE_TOOLTIP_OPTIONS={class:"mutable-collection-tooltip flex-column flex-grow hidden-overflow",fixed:!0,padContent:!1},d.prototype.MANUAL_SEARCH_HIGHLIGHTING=!0,d.prototype.getEntries=function(){var a;return this._entries||(a=[],this._input&&(Array.isArray(this._input)?a=this._input:(a=[this._input],this._singular=!0)),this._entries=a),this._entries},d.prototype.getValue=function(){return null==this._value&&(this._value=this.getEntryValues().join(" ")),this._value},d.prototype.getEntryValues=function(){return this._entryValues||(this._entryValues=this.getEntries().map(function(a){return this.getEntryValue(a)}.bind(this))),this._entryValues},d.prototype.getEntryValue=function(a){var b;return this._entryValuesMap.has(a)?b=this._entryValuesMap.get(a):(b=this._getFormattedEntryElement(a).textContent,this._entryValuesMap.set(a,b)),b},d.prototype.formatEntry=function(a){var b=a;if("function"==typeof this._column.collectionEntryFormatter)try{b=this._column.collectionEntryFormatter.call(this._row,a)}catch(a){f.error(a)}return b},d.prototype.format=function(a){a=a||{};var b,c,f,g,h,i,j=!1,k=e.elem("div",{className:"collection-entries"}),l=[];for(f=this.getEntries(),"number"==typeof this._settings.collectionLimit?(c=this._settings.collectionLimit,c<f.length&&c--,c=Math.min(c,f.length)):c=f.length,b=0;b<c;b++)g=this._createEntryElement(f[b]),a.oneOff||this._processEntryElement(g,f[b]),b>0&&(g.style["margin-top"]=d.ITEM_MARGIN_PIXELS+"px"),k.appendChild(g),l.push(g);return b<f.length&&(h=this._createNumberBubble(),
h.element.textContent=f.length-b,h.element.style["margin-top"]=d.ITEM_MARGIN_PIXELS+"px",!a.oneOff&&this._row.getSearchValue()&&this._lastEntryIndexMatchedBySearch>=b?h.element.classList.add("search-match-highlight"):h.element.classList.remove("search-match-highlight"),k.appendChild(h.element),a.oneOff||(i=e.elem("div",{className:"padded-collection-list flex-grow auto-overflow"}),h.tooltip.setContent(i),h.tooltip.onShow(function(){var a;if(!j){for(a=b;a<f.length;a++)g=this._createEntryElement(f[a]),a>b&&(g.style["margin-top"]=d.ITEM_MARGIN_PIXELS+"px"),this._processEntryElement(g,f[a]),i.appendChild(e.elem("div",null,{children:[g]}));j=!0,"function"==typeof this._settings.onChunkAdded&&this._settings.onChunkAdded(i)}}.bind(this)))),a.oneOff||(this._entryElementsMap.set(k,l),this._hiddenCountRenderedForWidth=null),k},d.prototype.setupEntryTooltip=void 0,d.prototype.searchHighlightEntry=function(a,b){this._row.getSearchValue()&&this._searchMatchedEntries&&this._searchMatchedEntries.has(b)&&a.classList.add("search-match-highlight")},d.prototype.compareTo=function(a){var b,c,e=this.getEntryValues(),f=0;if(a instanceof d){for(c=a.getEntryValues(),b=0;b<e.length;b++){if(b>=c.length){f=1;break}if(f=h(e[b],c[b]),0!==f)break}0===f&&b<c.length&&(f=-1)}else f=h(e.length?e[0]:"",a.getValue());return f},d.prototype.matchedBySearch=function(a,b){var c=!1,d=this._row.getSearchValue();return d!==this._lastSearch&&(this._searchMatchedEntries=new Set,this._lastEntryIndexMatchedBySearch=null,this._lastSearch=d),this.getEntries().forEach(function(e,f){this.entryMatchesSearchValue(e,a,b)&&(c=!0,this._lastEntryIndexMatchedBySearch=f,d&&this._searchMatchedEntries.add(e))}.bind(this)),c},d.prototype.entryMatchesSearchValue=function(a,b,c){var d=!1;if(c&&"function"==typeof this._column.collectionEntryMatchesSearch)try{d=this._column.collectionEntryMatchesSearch.call(this._row,a,b)}catch(a){f.error(a)}else d=this.getEntryValue(a).toLowerCase().indexOf(b)>=0;return d},d.prototype.getClonedFormattedEntryElement=function(a){return this._getFormattedEntryElement(a).cloneNode(!0)},d.prototype._getFormattedEntryElement=function(a){var b;return b=this._formattedEntryElementMap.has(a)?this._formattedEntryElementMap.get(a):this._createEntryElement(a)},d.prototype._createEntryElement=function(a){var b=e.elem("div",{className:"collection-entry-content"}),c=e.elem("div",{className:"collection-entry"},{children:[b]}),d=this.formatEntry(a);return d instanceof HTMLElement?b.appendChild(d):"string"!=typeof d||!this._column.trustCellFormatterForHTML&&this._column.type!==this._column.TYPE.OMNISELECT?b.textContent=d:b.innerHTML=d,this._formattedEntryElementMap.has(a)||this._formattedEntryElementMap.set(a,c),c},d.prototype._createNumberBubble=function(){var a=e.elem("span",{className:"number-bubble hidden-collection-count"});return this._tooltip=new g(this.BUBBLE_TOOLTIP_OPTIONS),this._tooltip.showOnElementHover(a),this._settings.registerTooltip(this._tooltip),{element:a,tooltip:this._tooltip}},d.prototype._processEntryElement=function(a,b){var c=a.children[0];this.searchHighlightEntry(c,b),"function"==typeof this.setupEntryTooltip&&(c.classList.add("tooltip-hint"),this.setupEntryTooltip(c,b))},d.prototype._getFormattedEntryWidths=function(a){return this._formattedEntryWidths||(this._formattedEntryWidths=this._entryElementsMap.get(a).map(function(a){var b=a.offsetWidth;return b||f.error("Calculated collection entry width is zero. Something went wrong"),b})),this._formattedEntryWidths},b.exports=d},{"../dom":9,"../log":24,"../tooltip":71,"../util":75}],47:[function(a,b,c){"use strict";function d(a){this._settings=a,this._currentColumn=null,this._popUp=null,this._popUpContent=null,this._resizeColumnToContentsCallback=null,this._filterColumnCallback=null,this._setSectionColumnCallback=null,this._retrieveUniqueValuesCallback=null,this._filterForm=null,this._focusElement=null,this._create()}var e=a("./filter"),f=a("../pop-up"),g=a("../dom"),h=a("../lang"),i=a("./common-filter-form"),j=a("./number-filter-form"),k=a("./date-filter-form");d.prototype.showForColumn=function(a,b,c){var d;this._currentColumn=a,d=g.elem("div",{className:"flex-column flex-grow hidden-overflow"},{children:[this._createContent()]}),this._popUp.show(d,b,c)},d.prototype.onHide=function(a){"function"==typeof a&&this._popUp.onHide(function(){a(this._currentColumn)}.bind(this))},d.prototype.onResizeColumnToContents=function(a){this._resizeColumnToContentsCallback=a},d.prototype.onFilterColumn=function(a){this._filterColumnCallback=a},d.prototype.onSetSectionColumn=function(a){this._setSectionColumnCallback=a},d.prototype.setRetrieveUniqueValuesCallback=function(a){this._retrieveUniqueValuesCallback=a},d.prototype.hide=function(){this._popUp.hide(),this._destroyFilterForm()},d.prototype.destroy=function(){this.hide(),this._popUp.destroy()},d.prototype._createContent=function(){var a,b,c,d,l=this._currentColumn.TYPE,m=this._currentColumn.getFilter(),n=g.elem("div",{className:"flex-column flex-grow hidden-overflow"}),o=this._settings.sections&&this._settings.userDefinedSections,p=function(a){this.hide(),this._currentColumn.setFilter(a),"function"==typeof this._filterColumnCallback&&this._filterColumnCallback()}.bind(this),q=function(){this._filterForm.getFilterInput().then(function(a){p(a.input?new e(a.input,a.params,this._currentColumn):null)}.bind(this))}.bind(this),r=function(){var a=Array.prototype.slice.call(b.querySelectorAll("input"));a.forEach(function(a){a.getAttribute("enter-listener-attached")||(a.addEventListener("keyup",function(a){13===a.keyCode&&q()}),a.setAttribute("enter-listener-attached","true"))}.bind(this))};switch(n.appendChild(f.createMenuButton({lang:"Resize to Contents",icon:"fa-text-width",onClick:function(){this.hide(),"function"==typeof this._resizeColumnToContentsCallback&&this._resizeColumnToContentsCallback(this._currentColumn)}.bind(this)})),o&&n.appendChild(f.createMenuButton({lang:"Group By This Column",icon:"fa-folder-o",onClick:function(){this.hide(),"function"==typeof this._setSectionColumnCallback&&this._setSectionColumnCallback(this._currentColumn)}.bind(this)})),n.appendChild(g.elem("div",{className:"heading",textContent:h.translate("Filter")})),m&&(n.appendChild(f.createMenuButton({lang:"Remove",icon:"fa-trash-o",onClick:function(){p(null)}})),n.appendChild(g.elem("div",{className:"separator"}))),this._currentColumn.type){case l.SIMPLE:case l.STANDARD:case l.COLLECTION:case l.OMNISELECT:a=i;break;case l.NUMBER:a=j;break;case l.DATE:a=k}return this._filterForm=new a(this._currentColumn,m),this._filterForm.setRetrieveUniqueValuesCallback(this._retrieveUniqueValuesCallback),b=this._filterForm.getContent(),c=b.querySelectorAll("input"),c.length&&(this._focusElement=c[0]),r(),n.appendChild(b),d=new MutationObserver(r),d.observe(b,{childList:!0,subtree:!0}),n.appendChild(g.elem("div",{className:"separator"})),n.appendChild(f.createMenuButton({lang:"Apply",icon:"fa-apply",onClick:q})),n},d.prototype._triggerFocus=function(){this._focusElement&&this._focusElement.offsetParent&&this._focusElement.focus()},d.prototype._destroyFilterForm=function(){this._filterForm&&(this._filterForm.destroy(),this._filterForm=null)},d.prototype._create=function(){this._popUp=new f({allowVerticalAdjustment:this._settings.inline,class:"mutable-column-settings flex-column flex-grow hidden-overflow"}),this._popUp.onShow(function(){this._triggerFocus()}.bind(this))},b.exports=d},{"../dom":9,"../lang":23,"../pop-up":29,"./common-filter-form":49,"./date-filter-form":50,"./filter":53,"./number-filter-form":56}],48:[function(a,b,c){"use strict";function d(a,b){if(!a.id)throw new Error("Column ID not provided");this.id=a.id,this.langKey=a.langKey||a.id,this.type=a.type||this.TYPE.STANDARD,this.hidden="boolean"==typeof a.hidden&&a.hidden,this.currentIndex=null,this._settings=b,this.cellFormatter=a.cellFormatter,this.cellValueFunction=a.cellValueFunction,this.dateType=a.dateType||this.DATE_TYPE.DATE_TIME,this.numberType=a.numberType||this.NUMBER_TYPE.SIMPLE,this.numberUnit=a.numberUnit,a.numberCompareBar?"string"==typeof a.numberCompareBar?this.numberCompareBar=a.numberCompareBar:this.numberCompareBar=this.NUMBER_COMPARE_BAR_TYPE.SINGULAR_NEUTRAL:this.numberCompareBar=!1,this.getCompareBarMax=a.getCompareBarMax,this.collectionEntryFormatter=a.collectionEntryFormatter,this.cellIsValidCollectionFunction=a.cellIsValidCollectionFunction,this.collectionFallbackFormatter=a.collectionFallbackFormatter,this.collectionEntryMatchesSearch=a.collectionEntryMatchesSearch,this.trustCellFormatterForHTML=a.trustCellFormatterForHTML,this.cellHeightFunction=a.cellHeightFunction,this.sorting="boolean"!=typeof a.sorting||a.sorting,this.sortComparator=a.sortComparator,this.cellSearchFunction=a.cellSearchFunction,this.cellFilterFunction=a.cellFilterFunction,this.onCellRendered=a.onCellRendered,this._sortDirection=null,this._filter=null,this._section=!1,this._maxNumberValue=0,this._firstVisible=null,this._lastVisible=null,this.reset()}var e=a("./simple-value"),f=a("./standard-value"),g=a("./number-value"),h=a("./date-value"),i=a("./collection-value"),j=a("./omniselect-value"),k=a("../lang"),l=a("../dom"),m=a("../log"),n=a("../tooltip"),o=20,p="Filter/Configure Column";d.prototype.TYPE={SIMPLE:"simple",STANDARD:"standard",NUMBER:"number",DATE:"date",COLLECTION:"collection",OMNISELECT:"omniselect"},d.prototype.NUMBER_TYPE={UNFORMATTED:"unformatted",SIMPLE:"simple",BINARY_BYTES:"binaryBytes",METRIC_BYTES:"metricBytes",METRIC_BYTES_PER_SECOND:"metricBytesPerSecond",METRIC_BITS_PER_SECOND:"metricBitsPerSecond",CUSTOM:"custom"},d.prototype.NUMBER_COMPARE_BAR_TYPE={SINGULAR_NEUTRAL:"neutral",SINGULAR_GOOD:"good",SINGULAR_BAD:"bad",DUAL_GOOD:"dualGood",BAD_GOOD:"badGood",DUAL_BAD:"dualBad"},d.prototype.DATE_TYPE={DATE_TIME:"dateTime",FROM_NOW:"fromNow"},d.prototype.COLLECTION_TYPES=[d.prototype.TYPE.COLLECTION,d.prototype.TYPE.OMNISELECT],d.prototype.reset=function(){this._renderedHeaderCell=null,this._renderedResizer=null,this._renderedSettingsButton=null,this._reorderPlaceholder=null,this._width=null,this._minWidth=null,this._leftOffset=null,this._firstVisible=null,this._lastVisible=null,this.setSection(!1),this.sort(!1),this.setFilter(null)},d.prototype.renderCellContent=function(a,b,c){var d,e,f;if(this.type===this.TYPE.STANDARD)if("function"==typeof this.cellFormatter)try{e=this.cellFormatter.call(a,a.entry,this,b)}catch(a){m.error(a)}else e=a.entry[this.id];else if(a.isCollectionFallback(this)){if("function"!=typeof this.collectionFallbackFormatter)throw new Error('"collectionFallbackFormatter" must be provided');try{e=this.collectionFallbackFormatter.call(a,a.entry,this,b)}catch(a){m.error(a)}}else d=a.getCellValue(this),f={oneOff:c},e="function"==typeof d.then?Promise.resolve(d).then(function(a){return a.format(f,b)}):d.format(f,b);return e},d.prototype.getCellValue=function(a){var b,c,d=a.entry,k=a.isCollectionFallback(this),l=function(c){var d;switch(b){case this.TYPE.SIMPLE:d=new e(c,a,this,this._settings);break;case this.TYPE.STANDARD:d=new f(c,a,this);break;case this.TYPE.NUMBER:d=new g(c,a,this);break;case this.TYPE.DATE:d=new h(c,this,this._settings);break;case this.TYPE.COLLECTION:d=new i(c,a,this,this._settings);break;case this.TYPE.OMNISELECT:d=new j(c,a,this,this._settings)}return"function"==typeof d.resolve?d.resolve().then(function(){return d}):d}.bind(this);if(b=k?this.TYPE.STANDARD:this.type,k||"function"!=typeof this.cellValueFunction)c=b===this.TYPE.STANDARD?a.renderCell(this).textContent:d[this.id];else try{c=this.cellValueFunction.call(a,a.entry,this)}catch(a){m.error(a)}return c&&"function"==typeof c.then?Promise.resolve(c).then(l):l(c)},d.prototype.renderHeaderCellResizer=function(){return this._renderedResizer||(this._renderedResizer=l.elem("div",{className:"header-cell-resizer"})),this._renderedResizer},d.prototype.renderHeaderCellSettingsButton=function(){var a;return this._renderedSettingsButton||(this._renderedSettingsButton=l.elem("button",{type:"button",className:"bare column-settings"},{children:[l.elem("f-icon",{className:"fa-filter"})]}),a=new n,a.setContent(k.translate(p)),a.showOnElementHover(this._renderedSettingsButton),this._settings.registerTooltip(a)),this._renderedSettingsButton},d.prototype.renderHeaderCell=function(){var a,b,c,d,e;return this._renderedHeaderCell||(a="header-cell",c=[l.elem("span",{className:"header-cell-label",textContent:k.translate(this.langKey)})],this._settings.sorting&&this.sorting&&(a+=" can-sort",d=l.elem("f-icon",{className:"fa-sort-asc asc-sort-icon"}),e=l.elem("f-icon",{className:"fa-sort-desc desc-sort-icon"}),this._settings.defaultSortDirection===this._settings.SORT_DIRECTION.ASCENDING?d.classList.add("default-sort-direction"):e.classList.add("default-sort-direction"),c.push(l.elem("span",{className:"header-sort-indicator"},{children:[l.elem("f-icon",{className:"fa-sort base-sort-icon"}),d,e]}))),b=l.elem("div",{className:"header-cell-contents"},{children:[l.elem("div",{className:"header-cell-centered"},{children:c}),this.renderHeaderCellSettingsButton()]}),this._renderedHeaderCell=l.elem("div",{className:a},{attributes:{"data-column-id":this.id},children:[b,this.renderHeaderCellResizer()]})),this._renderedHeaderCell},d.prototype.updateHeaderCellPosition=function(){var a;a=this._reorderPlaceholder?this._reorderPlaceholder:this.renderHeaderCell(),a.style.width=this._width+"px",a.style.left=this._leftOffset+"px",this._firstVisible?a.classList.add("first-cell"):a.classList.remove("first-cell"),this._lastVisible?a.classList.add("last-cell"):a.classList.remove("last-cell")},d.prototype.prepareHeaderCellForMeasure=function(){this.renderHeaderCell().style.width=null},d.prototype.measureHeaderCellAndSetWidth=function(){var a=this.renderHeaderCell();this._width=Math.ceil(a.getBoundingClientRect().width)+1},d.prototype.prepareHeaderCellForMinimumMeasure=function(){this.renderHeaderCell().classList.add("minimum-measure")},d.prototype.measureHeaderCellMinimumAndSet=function(){var a=this.renderHeaderCell();this._minWidth=Math.min(Math.ceil(a.getBoundingClientRect().width)+o,this._width)},d.prototype.removeHeaderCellMinimumMeasureClass=function(){this.renderHeaderCell().classList.remove("minimum-measure")},d.prototype.setWidth=function(a){a<this._minWidth?this._width=this._minWidth:this._width=a},d.prototype.getWidth=function(){return this._width},d.prototype.getMinWidth=function(){return this._minWidth},d.prototype.setLeftOffset=function(a){this._leftOffset=a},d.prototype.getLeftOffset=function(){return this._leftOffset},d.prototype.setFirstVisible=function(a){this._firstVisible=a},d.prototype.isFirstVisible=function(){return this._firstVisible},d.prototype.setLastVisible=function(a){this._lastVisible=a},d.prototype.isLastVisible=function(){return this._lastVisible},d.prototype.createHeaderCellPlaceholder=function(){var a=this.renderHeaderCell();return this._reorderPlaceholder=a.cloneNode(!0),this._reorderPlaceholder.classList.add("placeholder"),this._reorderPlaceholder},d.prototype.stopReordering=function(){this._reorderPlaceholder=null},d.prototype.sort=function(a,b){a?(b?this._sortDirection=b:this._sortDirection?this._sortDirection=this._sortDirection===this._settings.SORT_DIRECTION.ASCENDING?this._settings.SORT_DIRECTION.DESCENDING:this._settings.SORT_DIRECTION.ASCENDING:this._sortDirection=this._settings.defaultSortDirection,this._applySortingStyle()):(this._sortDirection=null,this._removeSortingStyle())},d.prototype.isSorted=function(){return!!this._sortDirection},d.prototype.getSortDirection=function(){return this._sortDirection},d.prototype.getSortComparator=function(){var a;return a=this.type===this.TYPE.STANDARD&&"function"==typeof this.sortComparator?this.sortComparator:function(a,b){return a.compareTo(b)}},d.prototype.isFiltered=function(){return!!this._filter},d.prototype.setFilter=function(a){this._filter=a,this._updateFilterButton()},d.prototype.getFilter=function(){return this._filter},d.prototype.filterMatchesRow=function(a){return this._filter.matches(a,this)},d.prototype.searchMatchesRow=function(a,b){var c=b.getCellValueSync(this);return c.matchedBySearch(a,!0)},d.prototype.setSection=function(a){this._section=a,this._section&&this.setFilter(null)},d.prototype.isSection=function(){return!!this._section},d.prototype.registerNumberForMaxCalculation=function(a){a>this._maxNumberValue&&(this._maxNumberValue=a)},d.prototype.getMaxNumberValue=function(a){var b=0;if("function"==typeof this.getCompareBarMax)try{b=this.getCompareBarMax(a)}catch(a){m.error(a)}else b=this._maxNumberValue;return b},d.prototype._applySortingStyle=function(){var a=this.renderHeaderCell();a.classList.add("sorted"),this._sortDirection===this._settings.SORT_DIRECTION.ASCENDING?(a.classList.add("sorted-asc"),a.classList.remove("sorted-desc")):(a.classList.add("sorted-desc"),a.classList.remove("sorted-asc"))},d.prototype._removeSortingStyle=function(){this._renderedHeaderCell&&(this._renderedHeaderCell.classList.remove("sorted"),this._renderedHeaderCell.classList.remove("sorted-asc"),this._renderedHeaderCell.classList.remove("sorted-desc"))},d.prototype._updateFilterButton=function(){var a=this._renderedSettingsButton;a&&(this.isFiltered()?a.classList.add("active-filter"):a.classList.remove("active-filter"))},b.exports=d},{"../dom":9,"../lang":23,"../log":24,"../tooltip":71,"./collection-value":46,"./date-value":51,"./number-value":57,"./omniselect-value":58,"./simple-value":65,"./standard-value":67}],49:[function(a,b,c){"use strict";function d(a,b){e.call(this,a,b),this._input=null,this._tooltip=null,this._negateOption=this.currentFilter&&this.currentFilter.negate?"negate":"normal"}var e=a("./filter-form"),f=a("../lang"),g=a("../dom"),h=a("../pop-up"),i=a("../tooltip"),j='Multiple values can be OR\'d together using "," or "|"';d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.getContent=function(){var a,b,c,d,e=g.elem("div",{className:"flex-column flex-grow hidden-overflow"}),k=function(){var a,b=this._parseSearchValuesFromString(this._input.value).map(function(a){return a.toLowerCase()});b.length&&!this._stringEndsWithComma(this._input.value)&&(a=b[b.length-1]),c&&c.forEach(function(c){var d,e=c.menuItem.querySelector(".value-selected-icon");a?c.value.indexOf(a)>=0?(c.menuItem.style.display=null,e.classList.remove("fa-apply")):c.menuItem.style.display="none":(d=b.some(function(a){return c.value.indexOf(a)>=0}),d?e.classList.add("fa-apply"):e.classList.remove("fa-apply"),c.menuItem.style.display=null)})}.bind(this),l=function(a){var b=[],c=a.toLowerCase(),d=this._parseSearchValuesFromString(this._input.value),e=this._input.value&&!this._stringEndsWithComma(this._input.value);e?(d.splice(-1,1),d.push(a)):(d.forEach(function(a,d){c.indexOf(a.toLowerCase())>=0&&b.unshift(d)}),b.length?b.forEach(function(a){d.splice(a,1)}):d.push(a)),this._input.value=this._searchValuesToString(d),this._input.focus(),k()}.bind(this);return e.appendChild(h.createRadioButtons([{id:"normal",langKey:"Contains"},{id:"negate",langKey:"Does Not Contain"}],this._negateOption,function(a){this._negateOption=a}.bind(this))),this._input=g.elem("input",{type:"text",className:"flex-grow",value:this.currentFilter?this._searchValuesToString(this._parseSearchValuesFromString(this.currentFilter.input)):""},{attributes:{placeholder:"value1, value2, etc."},events:{keyup:k}}),a=g.elem("f-icon",{className:"fa-help-info"}),e.appendChild(g.elem("div",{className:"menu-item"},{children:[this._input,a]})),this._tooltip=i.addToElement(a,f.translate(j),{padContent:!0},!0),"function"==typeof this.retrieveUniqueValuesCallback&&(d=g.elem("div",{className:"separator"}),e.appendChild(d),b=g.elem("div",{className:"auto-overflow"},{children:[g.elem("div",{className:"flex-centered"},{children:[g.elem("f-icon",{className:"fa-loading"})]})]}),this.retrieveUniqueValuesCallback(this.column).then(function(a){b.innerHTML="",a.length?(c=[],a.forEach(function(a){var d=g.elem("div",{className:"menu-item"},{children:[g.elem("button",{type:"button"},{children:[g.elem("div",{className:"flex-row-centered filter-suggestion"},{children:[a.renderedContent,g.elem("f-icon",{className:"value-selected-icon"})]})],events:{click:function(){l(a.value)}.bind(this)}})]});c.push({value:a.value.toLowerCase(),menuItem:d}),b.appendChild(d)}.bind(this)),k()):d.parentElement.removeChild(d)}.bind(this)),e.appendChild(b)),e},d.prototype.getFilterInput=function(){return new Promise(function(a,b){var c=this._INPUT_REGEX.test(this._input.value),d=this._parseSearchValuesFromString(this._input.value);!d.length&&c&&(this._input.classList.add("error"),b()),a({input:this._searchValuesToString(d),params:{negate:"negate"===this._negateOption}})}.bind(this))},d.prototype._INPUT_REGEX=/[,|]{1}/,d.prototype._parseSearchValuesFromString=function(a){return a.split(this._INPUT_REGEX).map(function(a){return a.trim()}).filter(function(a){return a})},d.prototype._searchValuesToString=function(a){return a.join(", ")+(a.length?", ":"")},d.prototype._stringEndsWithComma=function(){return/, *$/.test(this._input.value)},d.prototype.destroy=function(){this._tooltip&&this._tooltip.destroy()},b.exports=d},{"../dom":9,"../lang":23,"../pop-up":29,"../tooltip":71,"./filter-form":52}],50:[function(a,b,c){"use strict";function d(a,b){e.call(this,a,b),this._dateInput1=null,this._dateInput2=null,this._timeInput1=null,this._timeInput2=null}var e=a("./filter-form"),f=a("../lang"),g=a("../dom"),h=a("./filter");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.getContent=function(){var a,b=g.elem("tbody"),c=g.elem("div",{class:"menu-item"},{children:[g.elem("table",null,{children:[b]})]});return a=g.elem("tr"),a.appendChild(g.elem("td",null,{children:[g.elem("label",{textContent:f.translate("From")+":"})]})),this._dateInput1=g.elem("input",{type:"date",className:"flex-grow",value:this.currentFilter?this.currentFilter.input[0]:null},{attributes:{placeholder:"yyyy-mm-dd"},events:{change:function(){h.DATE_REGEX.test(this._dateInput1.value)?this._dateInput2.setAttribute("min",this._dateInput1.value):this._dateInput2.removeAttribute("min")}.bind(this)}}),this._timeInput1=g.elem("input",{type:"text",className:"flex-grow",value:this.currentFilter?this.currentFilter.input[1]:"00:00:00"},{attributes:{placeholder:"hh:mm:ss"}}),a.appendChild(g.elem("td",null,{children:[this._dateInput1,this._timeInput1]})),b.appendChild(a),a=g.elem("tr"),a.appendChild(g.elem("td",null,{children:[g.elem("label",{textContent:f.translate("To")+":"})]})),this._dateInput2=g.elem("input",{type:"date",className:"flex-grow",value:this.currentFilter?this.currentFilter.input[2]:null},{attributes:{placeholder:"yyyy-mm-dd"}}),this._timeInput2=g.elem("input",{type:"text",className:"flex-grow",value:this.currentFilter?this.currentFilter.input[3]:"00:00:00"},{attributes:{placeholder:"hh:mm:ss"}}),a.appendChild(g.elem("td",null,{children:[this._dateInput2,this._timeInput2]})),b.appendChild(a),c},d.prototype.getFilterInput=function(){var a=function(a,b){var c=!0;return a.value?b.test(a.value)||(c=!1):c=!1,c?a.classList.remove("error"):a.classList.add("error"),c}.bind(this);return new Promise(function(b,c){var d=a(this._dateInput1,h.DATE_REGEX);d=a(this._timeInput1,h.TIME_REGEX)&&d,d=a(this._dateInput2,h.DATE_REGEX)&&d,d=a(this._timeInput2,h.TIME_REGEX)&&d,d?b({input:[this._dateInput1.value,this._timeInput1.value,this._dateInput2.value,this._timeInput2.value]}):c()}.bind(this))},b.exports=d},{"../dom":9,"../lang":23,"./filter":53,"./filter-form":52}],51:[function(a,b,c){"use strict";function d(a,b,c){this._date=null,this._column=b,this._settings=c,this._formatted=null,this._sortValue=null,a&&(a instanceof Date?this._date=a:"number"==typeof a&&(this._date=new Date(a)))}var e=a("../lang");d.prototype.getValue=function(){return this._date},d.prototype.format=function(){if(!this._formatted&&this._date)switch(this._column.dateType){case this._column.DATE_TYPE.DATE_TIME:this._formatted=this._formatDateTime(this._date);break;case this._column.DATE_TYPE.FROM_NOW:this._formatted=this._formatFromNow(this._date)}return this._formatted},d.prototype.compareTo=function(a){return this.getSortValue()-a.getSortValue()},d.prototype.getSortValue=function(){return null==this._sortValue&&(this._sortValue=this._date?this._date.getTime():0),this._sortValue},d.prototype.matchedBySearch=function(a){return this._date&&this.format().indexOf(a)>=0},d.prototype._formatDateTime=function(a){return a.getFullYear()+"/"+("0"+(a.getMonth()+1)).slice(-2)+"/"+("0"+a.getDate()).slice(-2)+" "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2)},d.prototype._ONE_SECOND=1e3,d.prototype._ONE_MINUTE=60*d.prototype._ONE_SECOND,d.prototype._ONE_HOUR=60*d.prototype._ONE_MINUTE,d.prototype._ONE_DAY=24*d.prototype._ONE_HOUR,d.prototype._WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d.prototype._formatFromNow=function(a){var b,c=this._settings.getNow(),d=c.getTime()-a.getTime();return b=d<0?this._formatDateTime(a):d<2*this._ONE_SECOND?e.translate("Second ago"):d<this._ONE_MINUTE?e.translate("{0} seconds ago",[Math.floor(d/this._ONE_SECOND)]):d<2*this._ONE_MINUTE?e.translate("Minute ago"):d<this._ONE_HOUR?e.translate("{0} minutes ago",[Math.floor(d/this._ONE_MINUTE)]):d<2*this._ONE_HOUR?e.translate("Hour ago"):d<this._ONE_DAY?e.translate("{0} hours ago",[Math.floor(d/this._ONE_HOUR)]):d<2*this._ONE_DAY&&(a.getDay()+1)%7===c.getDay()?e.translate("Yesterday"):d<7*this._ONE_DAY?e.translate(this._WEEKDAYS[a.getDay()]):this._formatDateTime(a)},b.exports=d},{"../lang":23}],52:[function(a,b,c){"use strict";function d(a,b){this.column=a,this.currentFilter=b,this.retrieveUniqueValuesCallback=null}d.prototype.getContent=function(){throw new Error("Not implemented")},d.prototype.getFilterInput=function(){throw new Error("Not implemented")},d.prototype.setRetrieveUniqueValuesCallback=function(a){this.retrieveUniqueValuesCallback=a},d.prototype.destroy=function(){},b.exports=d},{}],53:[function(a,b,c){"use strict";function d(a,b,c){switch(b=b||{},this.input=a,this.negate=b.negate,this.operation=b.operation,this.values=null,this._column=c,c.type){case c.TYPE.SIMPLE:case c.TYPE.STANDARD:case c.TYPE.COLLECTION:case c.TYPE.OMNISELECT:this._parseStandardOrCollectionInput();break;case c.TYPE.NUMBER:this._parseNumberInput();break;case c.TYPE.DATE:this._parseDateInput()}}var e=a("../log");d.DATE_REGEX=/(\d{4})-(\d{1,2})-(\d{1,2})/,d.TIME_REGEX=/(\d{1,2}):(\d{1,2}):(\d{1,2})/,d.prototype.matches=function(a){var b,c=a.getCellValueSync(this._column);if(this._column.type===this._column.TYPE.STANDARD&&"function"==typeof this._column.cellFilterFunction)try{b=this._column.cellFilterFunction.call(a,c,a.entry,this._column)}catch(a){e.error(a)}else b=this._matches(c);return b},d.prototype._parseStandardOrCollectionInput=function(){var a=this.input.split(/[,|]{1}/).map(function(a){return a.trim().toLowerCase()}).filter(function(a){return a});this.values=a},d.prototype._parseNumberInput=function(){this.values=this.input.map(Number)},d.prototype._parseDateInput=function(){var a=function(a,b){var c=d.DATE_REGEX.exec(b);a.setFullYear(Number(c[1])),a.setMonth(Number(c[2])-1,Number(c[3]))},b=function(a,b){var c=d.TIME_REGEX.exec(b);a.setHours(Number(c[1])),a.setMinutes(Number(c[2])),a.setSeconds(Number(c[3]))},c=new Date,e=new Date;a(c,this.input[0]),b(c,this.input[1]),a(e,this.input[2]),b(e,this.input[3]),this.values=[c.getTime(),e.getTime()]},d.prototype._matches=function(a){var b=!1;switch(this._column.type){case this._column.TYPE.SIMPLE:case this._column.TYPE.STANDARD:case this._column.TYPE.COLLECTION:case this._column.TYPE.OMNISELECT:b=this._matchesStandardOrCollection(a);break;case this._column.TYPE.NUMBER:b=this._matchesNumber(a);break;case this._column.TYPE.DATE:b=this._matchesDate(a)}return b},d.prototype._matchesStandardOrCollection=function(a){var b=!1;return b=this.negate?this.values.every(function(b){return!a.matchedBySearch(b)}.bind(this)):this.values.some(function(b){return a.matchedBySearch(b)}.bind(this))},d.prototype._matchesNumber=function(a){var b,c=!1,d=a.getValue(),e=this.values[0]*this.values[2];return"="===this.operation?c=d===e:">"===this.operation?c=d>e:"<"===this.operation?c=d<e:(b=this.values[1]*this.values[3],c=d>=e&&d<=b),c},d.prototype._matchesDate=function(a){var b,c=a.getValue();return!!c&&(b=c.getTime(),b>=this.values[0]&&b<=this.values[1])},b.exports=d},{"../log":24}],54:[function(a,b,c){"use strict";function d(a,b){this.element=null,this.height=null,this._tableElement=a,this._tableContainerElement=b,this._columnSettingsPopUp=null,this._tableSettingsPopUp=null,this._virtualizedRows=null,this._source=null,this._settings=null,this._fixedHeaderElement=null,this._tableSettingsButtonElement=null,this._resizingColumn=null,this._reorderingColumn=null,this._lastScrollLeft=null,this._visible=!1,this._cachedUniqueValuesPromise=Object.create(null),this._create(),this._syncHorizontalScroll()}var e=a("./column-settings-pop-up"),f=a("./table-settings-pop-up"),g=a("./section"),h=a("../tooltip"),i=a("../lang"),j=a("../util"),k=a("../dom"),l=a("../sort"),m="Configure Table";d.prototype.setSettings=function(a){this._settings=a},d.prototype.setVirtualizedRows=function(a){this._virtualizedRows=a},d.prototype.setSource=function(a){this._source=a},d.prototype.render=function(){var a=0,b=this._renderTableSettingsButton();b.parentElement||this.element.appendChild(b),this.element.style.display=null,this._fixedHeaderElement.innerHTML="",this._settings.activeColumns.forEach(function(b){var c,d=b.renderHeaderCell();this._fixedHeaderElement.appendChild(d),c=d.getBoundingClientRect().height,c>a&&(a=c)}.bind(this)),this.height=a,this.element.style.height=a+"px",this.element.style.visibility="hidden",this._visible=!1},d.prototype.show=function(){this.element.style.visibility=null,this._visible||this._checkAndSetShrunkenClass(),this._visible=!0},d.prototype.resizeFromMouseMove=function(a){var b=a.pageX-k.getElementOffset(this._resizingColumn.cellElement).left+this._resizingColumn.mouseOffsetFromEdge;b=Math.max(b,this._resizingColumn.column.getMinWidth()),b!==this._resizingColumn.column.getWidth()&&(this._resizingColumn.column.setWidth(b),this._settings.updateColumnHeaderCellPositions(),this._virtualizedRows.calculateVisibleColumns(),this._virtualizedRows.updateVisibleRowCells(),this._checkAndSetShrunkenClass())},d.prototype.stopResizing=function(){this._tableElement.classList.remove("column-resizing"),this._resizingColumn.cellElement.classList.remove("resizing"),this._virtualizedRows.resizeColumnStop(this._resizingColumn.column),this._resizingColumn=null},d.prototype.reorderFromMouseMove=function(a){var b,c,d,e;this._reorderingColumn.detached?(this._setReorderingCellOffset(a),b=this._reorderingColumn.leftThreshold,c=this._reorderingColumn.rightThreshold,d=this._reorderingColumn.cellElement.offsetLeft+this._tableContainerElement.scrollLeft,e=this._reorderingColumn.column.getWidth(),b&&d<=b?this._reorderColumn(this._reorderingColumn.leftColumn):c&&d+e>=c&&this._reorderColumn(this._reorderingColumn.rightColumn)):this._startDragToReorder(a)},d.prototype.stopReordering=function(){var a,b;this._reorderingColumn.detached&&(a=this._reorderingColumn.cellElement,b=this._reorderingColumn.placeholder,this._tableElement.classList.remove("columns-reordering"),this._reorderingColumn.cellElement.classList.remove("reordering-column"),this._reorderingColumn.cellElement.style.top=null,b.parentElement.appendChild(a),b.parentElement.removeChild(b),this._reorderingColumn.column.stopReordering(),this._settings.updateColumnHeaderCellPositions(),this._virtualizedRows.reorderColumnStop(this._reorderingColumn.column)),this._reorderingColumn.ending=!0,setTimeout(function(){this._reorderingColumn=null}.bind(this))},d.prototype.isResizing=function(){return!!this._resizingColumn},d.prototype.isReordering=function(){return!(!this._reorderingColumn||this._reorderingColumn.ending)},d.prototype.hasReorderingStarted=function(){
return!(!this._reorderingColumn||!this._reorderingColumn.detached)},d.prototype.destroy=function(){this._columnSettingsPopUp&&this._columnSettingsPopUp.destroy(),this._tableSettingsPopUp&&this._tableSettingsPopUp.destroy()},d.prototype._setReorderingCellOffset=function(a){var b=k.getElementOffset(this._tableElement),c=a.pageY-b.top,d=a.pageX-b.left;this._reorderingColumn.cellElement.style.top=c+this._reorderingColumn.mouseOffsetFromTopLeft.top+"px",this._reorderingColumn.cellElement.style.left=d+this._reorderingColumn.mouseOffsetFromTopLeft.left+"px"},d.prototype._updateCellReorderingThresholds=function(){var a,b,c,d,e=this._settings.getActiveColumnsInOrder(),f=this._reorderingColumn.column.currentIndex;f>0&&(a=e[f-1],c=a.getLeftOffset()+.4*a.getWidth()),f<e.length-1&&(b=e[f+1],d=b.getLeftOffset()+.6*b.getWidth()),Object.assign(this._reorderingColumn,{leftColumn:a,leftThreshold:c,rightColumn:b,rightThreshold:d})},d.prototype._reorderColumn=function(a){var b=this._reorderingColumn.column.currentIndex,c=a.currentIndex;this._reorderingColumn.column.currentIndex=c,a.currentIndex=b,this._settings.updateColumnHeaderCellPositions(),this._settings.persistCurrentColumns(),this._virtualizedRows.calculateVisibleColumns(),this._virtualizedRows.updateVisibleRowCells(),this._updateCellReorderingThresholds()},d.prototype._startDragToReorder=function(a){var b=this._reorderingColumn,c=b.column,d=b.cellElement,e=c.createHeaderCellPlaceholder();d.classList.add("reordering-column"),this._tableElement.classList.add("columns-reordering"),d.parentElement.appendChild(e),d.parentElement.removeChild(d),this._tableElement.appendChild(d),Object.assign(this._reorderingColumn,{detached:!0,placeholder:e}),this._updateCellReorderingThresholds(),this._setReorderingCellOffset(a),this._virtualizedRows.reorderColumnStart(c)},d.prototype._HEADER_EVENT_TARGET={HEADER_CELL:0,RESIZER:1,SETTINGS_BUTTON:2},d.prototype._getHeaderEventContext=function(a){for(var b,c=this._HEADER_EVENT_TARGET.HEADER_CELL,d=a.target;d&&d!==this._fixedHeaderElement;){if(c===this._HEADER_EVENT_TARGET.HEADER_CELL&&j.elementMatchesSelector(d,".header-cell-resizer")&&(c=this._HEADER_EVENT_TARGET.RESIZER),c===this._HEADER_EVENT_TARGET.HEADER_CELL&&j.elementMatchesSelector(d,"button.column-settings")&&(c=this._HEADER_EVENT_TARGET.SETTINGS_BUTTON),j.elementMatchesSelector(d,".header-cell")){b=this._settings.columnsMap[d.getAttribute("data-column-id")];break}d=d.parentElement}return{type:c,column:b}},d.prototype._attachHeaderEventListeners=function(){this._fixedHeaderElement.addEventListener("mousedown",function(a){var b,c,d=this._getHeaderEventContext(a);d.column&&(b=d.column.renderHeaderCell(),d.type!==this._HEADER_EVENT_TARGET.RESIZER||this.isResizing()?d.type!==this._HEADER_EVENT_TARGET.HEADER_CELL||this.isReordering()||(c=k.getElementOffset(b),this._reorderingColumn={column:d.column,cellElement:b,mouseOffsetFromTopLeft:{top:c.top-a.pageY,left:c.left-a.pageX}}):(b.classList.add("resizing"),this._tableElement.classList.add("column-resizing"),this._resizingColumn={column:d.column,cellElement:b,mouseOffsetFromEdge:k.getElementOffset(b).left+b.offsetWidth-a.pageX},this._virtualizedRows.resizeColumnStart(d.column)))}.bind(this)),this._fixedHeaderElement.addEventListener("click",function(a){var b=this._getHeaderEventContext(a);b.column&&(b.type===this._HEADER_EVENT_TARGET.SETTINGS_BUTTON?this._showColumnSettingsPopUp(b.column,a.pageX,a.pageY):b.type===this._HEADER_EVENT_TARGET.HEADER_CELL&&!this.hasReorderingStarted()&&this._settings.sorting&&b.column.sorting&&(this._settings.sortByColumnAndPersist(b.column),this._source.sort(),this._virtualizedRows.render()))}.bind(this)),this._fixedHeaderElement.addEventListener("dblclick",function(a){var b=this._getHeaderEventContext(a);b.column&&b.type===this._HEADER_EVENT_TARGET.RESIZER&&(this._virtualizedRows.fitContentsForRenderedColumn(b.column),this._checkAndSetShrunkenClass())}.bind(this)),this._fixedHeaderElement.addEventListener("contextmenu",function(a){var b=this._getHeaderEventContext(a);b.column&&(this.isResizing()&&this.stopResizing(),this.isReordering()&&this.stopReordering(),this._showTableSettingsPopUp(a.pageX,a.pageY),a.preventDefault())}.bind(this))},d.prototype._showColumnSettingsPopUp=function(a,b,c){this._columnSettingsPopUp||(this._columnSettingsPopUp=new e(this._settings),this._columnSettingsPopUp.setRetrieveUniqueValuesCallback(function(a){var b,c=this._cachedUniqueValuesPromise[a.id];return c||(c=this._retrieveUniqueValues(a),b=this._source.isSearchValueSet()||this._settings.activeColumns.some(function(a){return a.isFiltered()}),b||(this._cachedUniqueValuesPromise[a.id]=c)),c}.bind(this)),this._columnSettingsPopUp.onHide(function(a){a.renderHeaderCell().classList.remove("settings-open")}.bind(this)),this._columnSettingsPopUp.onResizeColumnToContents(this._resizeColumnToContents.bind(this)),this._columnSettingsPopUp.onFilterColumn(function(){this._source.filterAndSection(),this._virtualizedRows.render().then(this._checkAndSetShrunkenClass.bind(this))}.bind(this)),this._columnSettingsPopUp.onSetSectionColumn(function(a){this._settings.setAndPersistSectionColumn(a),this._source.filterAndSection(),this._updateAfterChangingColumns()}.bind(this))),this._columnSettingsPopUp.showForColumn(a,b,c),a.renderHeaderCell().classList.add("settings-open")},d.prototype._showTableSettingsPopUp=function(a,b){this._tableSettingsPopUp||(this._tableSettingsPopUp=new f(this._settings),this._tableSettingsPopUp.onHide(function(){this._renderTableSettingsButton().classList.remove("settings-open")}.bind(this)),this._tableSettingsPopUp.onResetColumns(function(){this._settings.resetState(),this._source.filterAndSection(),this._updateAfterChangingColumns()}.bind(this)),this._tableSettingsPopUp.onBestFitColumns(function(){this._virtualizedRows.bestFitRendered().then(this._checkAndSetShrunkenClass.bind(this))}.bind(this)),this._tableSettingsPopUp.onChangeColumns(function(a){var b=new Set(a),c=this._settings.activeColumns.some(function(a){return!b.has(a.id)&&a.isFiltered()});c&&this._source.filterAndSection(),this._settings.setAndPersistActiveColumns(a),this._updateAfterChangingColumns()}.bind(this)),this._tableSettingsPopUp.onRemoveSectionColumn(function(a){this._settings.removeSectionColumnAndPersist(a),this._source.filterAndSection(),this._updateAfterChangingColumns()}.bind(this)),this._tableSettingsPopUp.onRemoveFilters(function(){this._settings.activeColumns.forEach(function(a){a.setFilter(null)}),this._source.filterAndSection(),this._updateAfterChangingColumns()}.bind(this))),this._tableSettingsPopUp.show(a,b),this._renderTableSettingsButton().classList.add("settings-open")},d.prototype._updateAfterChangingColumns=function(){this._virtualizedRows.render({columnsChanged:!0}).then(this._checkAndSetShrunkenClass.bind(this))},d.prototype._resizeColumnToContents=function(a){this._virtualizedRows.fitContentsForRenderedColumn(a),this._checkAndSetShrunkenClass()},d.prototype._retrieveUniqueValues=function(a){var b=300,c=20,d=["button",".button-style"],e=function(a){var b,c=d.some(function(b){return j.elementMatchesSelector(a,b)}),f=Array.from(a.children);return c&&a.parentElement&&(b=k.elem("div",{style:{display:"inline-block"}}),a.parentElement.insertBefore(b,a),a.parentElement.removeChild(a),f.forEach(function(a){b.appendChild(a)})),f.forEach(function(a){e(a)}),a};return this._source.getRows().then(function(d){var f,h,i,m,n=Object.create(null),o=[],p=function(b,c){var d=Promise.resolve(),e=function(a,d){a&&(n[a]?n[a].count++:n[a]={count:1,valueInstance:b,row:c,entryIndex:d})},f=function(){b.getEntryValues().forEach(function(a,b){e(a,b)})};return a.COLLECTION_TYPES.indexOf(a.type)>=0&&!c.isCollectionFallback(a)?"function"==typeof b.resolve?d=b.resolve().then(f):f():e(b.getValue()),d};for(h=0,f=0;f<d.length&&h<b;f++)i=d[f],i instanceof g||(m=i.isAddedToDOM()?i.getCellValue(a):i.getCellValueSync(a),m&&("function"==typeof m.then?o.push(Promise.resolve(m).then(function(a){return p(a,i)})):p(m,i),h++));return Promise.all(o).then(function(){return new Promise(function(b){var d=Object.keys(n);l(d,function(a,b){return n[b].count-n[a].count},function(){b(d.slice(0,c).map(function(b){var c,d=n[b],f=d.entryIndex,g=d.valueInstance;return c=null!=f?k.elem("div",{className:"row-inner-cell"},{children:[g.getClonedFormattedEntryElement(g.getEntries()[f])]}):n[b].row.renderOneOffCell(a).children[0],{value:b,renderedContent:e(c)}}).sort(function(a,b){return j.fastLocaleCompare(a.value,b.value)}))})})})})},d.prototype._checkAndSetShrunkenClass=function(){this._settings.getTotalColumnWidthSum()<this._tableElement.clientWidth?this._tableElement.classList.add("shrunken"):this._tableElement.classList.remove("shrunken")},d.prototype._renderTableSettingsButton=function(){var a;return this._tableSettingsButtonElement||(this._tableSettingsButtonElement=k.elem("button",{type:"button",className:"button table-settings"},{children:[k.elem("f-icon",{className:"fa-cog"})],events:{click:function(a){this._showTableSettingsPopUp(a.pageX,a.pageY)}.bind(this)}}),a=new h,a.setContent(i.translate(m)),a.showOnElementHover(this._tableSettingsButtonElement),this._settings.registerTooltip(a)),this._tableSettingsButtonElement},d.prototype._syncHorizontalScroll=function(){this._tableContainerElement.addEventListener("scroll",function(){var a=this._tableContainerElement.scrollLeft;a!==this._lastScrollLeft&&requestAnimationFrame(function(){this._fixedHeaderElement.style.transform="translateX(-"+a+"px)",this._lastScrollLeft=a}.bind(this))}.bind(this))},d.prototype._create=function(){this._fixedHeaderElement=k.elem("div",{className:"fixed-header"}),this.element=k.elem("div",{className:"fixed-header-container",style:{display:"none",visibility:"hidden"}},{children:[this._fixedHeaderElement]}),this._attachHeaderEventListeners()},b.exports=d},{"../dom":9,"../lang":23,"../sort":45,"../tooltip":71,"../util":75,"./column-settings-pop-up":47,"./section":62,"./table-settings-pop-up":68}],55:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){this._settings=a,this._source=b,this._moveParams=null,this._sequenceGroupingOperations=[],this._attemptedMove=!1,this._moveSuccessful=!1,this._prepare(c,d,e,f)}var e=a("./section"),f=a("./sequence-grouping-operation");d.prototype.execute=function(){return Promise.all(this._sequenceGroupingOperations.map(function(a){return a.execute()})).then(function(){if(this._moveParams.originalSourceIndex!==this._moveParams.newSourceIndex)return this._attemptedMove=!0,this._source.moveRow(this._moveParams),this._settings.reorderRow(this._moveParams).then(function(){this._moveSuccessful=!0}.bind(this))}.bind(this))},d.prototype.undo=function(){var a,b=function(){if(this._attemptedMove&&(a=this._getReverseParams(),this._source.moveRow(a),this._moveSuccessful))return this._settings.reorderRow(a)}.bind(this);return Promise.all(this._sequenceGroupingOperations.map(function(a){return a.undo()})).then(b,b)},d.prototype._getReverseParams=function(){var a,b,c=this._moveParams.originalSourceIndex,d=this._moveParams.newSourceIndex,e=this._source.getSourceRows();return c<d?a=e[c].entry:b=e[c].entry,{originalSourceIndex:d,newSourceIndex:c,entry:e[d].entry,beforeEntry:a,afterEntry:b}},d.prototype._prepare=function(a,b,c,d){var g,h,i,j,k={originalSourceIndex:b[d].sourceIndex,entry:a.entry},l=this._settings.customSequenceGrouping&&a.getSequenceGroupingValue(),m=function(a,b){this._sequenceGroupingOperations.push(new f(this._settings,a,b))}.bind(this);l&&a.section.firstRow===a&&(i=this._source.getRowsWithinSameSequenceGrouping(a.section),i[0]===a&&i.length>1&&!i[1].getSequenceGroupingValue()&&m(a.section.rows[1],l)),c<d?(g=b[d-1],this._settings.customSequenceGrouping&&(g instanceof e?(m(a,g.firstRow.getSequenceGroupingValue()),j=this._source.getSourceRows()[g.firstRow.sourceIndex-1].section,i=this._source.getRowsWithinSameSequenceGrouping(j),g=i[i.length-1]):l&&a.section!==g.section&&m(a,null)),k.newSourceIndex=g.sourceIndex,k.afterEntry=g.entry):(h=b[d+1],this._settings.customSequenceGrouping&&(h instanceof e?(h=h.firstRow,l&&m(a,null)):h.section&&h.section.firstRow===h?m(a,h.getSequenceGroupingValue()):l&&a.section!==h.section&&m(a,null)),k.newSourceIndex=h.sourceIndex,k.beforeEntry=h.entry),this._moveParams=k},b.exports=d},{"./section":62,"./sequence-grouping-operation":63}],56:[function(a,b,c){"use strict";function d(a,b){e.call(this,a,b),this._input1=null,this._input2=null,this._unit1Select=null,this._unit2Select=null,this._operation=this.currentFilter&&this.currentFilter.operation?this.currentFilter.operation:"="}var e=a("./filter-form"),f=a("../lang"),g=a("../dom"),h=a("../pop-up");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.getContent=function(){var a,b=g.elem("div"),c=g.elem("div",{className:"menu-item flex-row-centered"}),d=this._getUnitSelection(),e=function(){"-"===this._operation?(a.style.display=null,this._input2.style.display=null,this._unit2Select&&(this._unit2Select.style.display=null)):(a.style.display="none",this._input2.style.display="none",this._unit2Select&&(this._unit2Select.style.display="none"))}.bind(this);return b.appendChild(h.createRadioButtons([{id:"=",text:"="},{id:">",text:">"},{id:"<",text:"<"},{id:"-",langKey:"Range"}],this._operation,function(a){this._operation=a,e()}.bind(this))),this._input1=g.elem("input",{type:"number",className:"flex-grow",value:this.currentFilter?this.currentFilter.input[0]:null},{attributes:{placeholder:f.translate("Number")}}),c.appendChild(this._input1),d.selection&&(this._unit1Select=g.elem("select"),d.selection.forEach(function(a,b){var c=String(0===b?1:Math.pow(d.multiplier,b)),e=this.currentFilter?this.currentFilter.input[2]===c:0===b;this._unit1Select.appendChild(g.elem("option",{value:c,text:a,selected:e?"selected":""}))}.bind(this)),c.appendChild(this._unit1Select)),b.appendChild(c),a=g.elem("span",{textContent:""}),c.appendChild(a),this._input2=g.elem("input",{type:"number",className:"flex-grow",value:this.currentFilter?this.currentFilter.input[1]:null},{attributes:{placeholder:f.translate("Number")}}),c.appendChild(this._input2),d.selection&&(this._unit2Select=g.elem("select"),d.selection.forEach(function(a,b){var c=String(0===b?1:Math.pow(d.multiplier,b)),e=this.currentFilter?this.currentFilter.input[3]===c:0===b;this._unit2Select.appendChild(g.elem("option",{value:c,text:a,selected:e?"selected":""}))}.bind(this)),c.appendChild(this._unit2Select)),e(),b},d.prototype.getFilterInput=function(){var a=function(a){var b=!0;return a.value?a.classList.remove("error"):(b=!1,a.classList.add("error")),b},b=function(a){return a?a.options[a.selectedIndex].value:"1"};return new Promise(function(c,d){var e=a(this._input1);null!=this._input2.offsetParent&&(e=a(this._input2)&&e),e?c({input:[this._input1.value,this._input2.value,b(this._unit1Select),b(this._unit2Select)],params:{operation:this._operation}}):d()}.bind(this))},d.prototype._getUnitSelection=function(){var a,b=null;switch(this.column.numberType){case this.column.NUMBER_TYPE.BINARY_BYTES:b=["B","KiB","MiB","GiB","TiB","PiB"],a=1024;break;case this.column.NUMBER_TYPE.METRIC_BYTES:b=["B","kB","MB","GB","TB","PB"],a=1e3;break;case this.column.NUMBER_TYPE.METRIC_BYTES_PER_SECOND:b=["B/s","kB/s","MB/s","GB/s","TB/s","PB/s"],a=1e3;break;case this.column.NUMBER_TYPE.METRIC_BITS_PER_SECOND:b=["bps","kbps","Mbps","Gbps","Tbps","Pbps"],a=1e3}return{selection:b,multiplier:a}},b.exports=d},{"../dom":9,"../lang":23,"../pop-up":29,"./filter-form":52}],57:[function(a,b,c){"use strict";function d(a,b,c){this._valueComponents=null,this._value=null,this._row=b,this._column=c,this._sortValue=null,this._formattedText=null,this._parseInput(a)}var e=a("../dom"),f=a("../log"),g=a("../formatters");d.prototype.getValue=function(){return this._value},d.prototype.getValueComponents=function(){return this._valueComponents},d.prototype.format=function(a,b){var c;if(null!=this._value)if(this._column.numberType===this._column.NUMBER_TYPE.CUSTOM)if("function"==typeof this._column.cellFormatter)try{c=this._column.cellFormatter.call(this._row,this._row.entry,this._column,b)}catch(a){f.error(a)}else c=this._value;else c=this._getFormattedText(),this._column.numberCompareBar&&(c=this._formatCompareBar(c));return c},d.prototype.compareTo=function(a){return this.getSortValue()-a.getSortValue()},d.prototype.getSortValue=function(){return null==this._sortValue&&(this._sortValue=null!=this._value?this._value:-Number.MAX_VALUE),this._sortValue},d.prototype.matchedBySearch=function(a){var b,c,d,e=a.replace(/,/g,""),f=Number(e),g=this.getValue();if(g)if(this._column.numberType===this._column.NUMBER_TYPE.SIMPLE||this._column.numberType===this._column.NUMBER_TYPE.CUSTOM){if(f===g)return!0}else if(b=this._getFormattedText().replace(/,/g,""),c=parseFloat(b,10),d=parseFloat(e),c===d&&0===b.indexOf(e))return!0;return!1},d.prototype._parseInput=function(a){var b=[],c=null;null!=a&&(Array.isArray(a)?b=a.map(Number):b.push(Number(a))),b.length&&(c=b.reduce(function(a,b){return a+b},0)),this._valueComponents=b,this._value=c},d.prototype._getCompareBarColors=function(){var a=[],b=this._column.NUMBER_COMPARE_BAR_TYPE,c=g.COMPARE_BAR_COLOR;switch(this._column.numberCompareBar){case b.SINGULAR_NEUTRAL:a=[c.BLUE];break;case b.SINGULAR_GOOD:a=[c.GREEN];break;case b.SINGULAR_BAD:a=[c.RED];break;case b.DUAL_GOOD:a=[c.OCEAN_GREEN,c.GREEN];break;case b.BAD_GOOD:a=[c.RED,c.GREEN];break;case b.DUAL_BAD:a=[c.BRIGHT_RED,c.RED]}return a},d.prototype._getFormattedText=function(){if(!this._formattedText&&null!=this._value)switch(this._column.numberType){case this._column.NUMBER_TYPE.UNFORMATTED:this._formattedText=this._value.toString();break;case this._column.NUMBER_TYPE.SIMPLE:this._formattedText=this._value.toLocaleString(),this._column.numberUnit&&(this._formattedText+=this._column.numberUnit);break;case this._column.NUMBER_TYPE.BINARY_BYTES:this._formattedText=g.binaryBytes(this._value);break;case this._column.NUMBER_TYPE.METRIC_BYTES:this._formattedText=g.metricBytes(this._value);break;case this._column.NUMBER_TYPE.METRIC_BYTES_PER_SECOND:this._formattedText=g.metricBytesPerSecond(this._value);break;case this._column.NUMBER_TYPE.METRIC_BITS_PER_SECOND:this._formattedText=g.metricBitsPerSecond(this._value);break;default:f.error('Invalid numberType: "'+this._column.numberType+'"')}return this._formattedText},d.prototype._formatCompareBar=function(a){var b=this.getValueComponents(),c=this.getValue(),d=this._column.getMaxNumberValue(this._row.entry),f=(c/d*100).toFixed(0),g=this._getCompareBarColors(),h=e.elem("div",{className:"compare-bar-inner",style:{display:c?null:"none",width:f+"%"}});return b.forEach(function(a,d){var f="compare-bar-value",i=d===b.length-1;i&&(f+=" flex-grow"),h.appendChild(e.elem("div",{className:f,style:{"background-color":g[d]||"magenta",width:i?null:(a/c*100).toFixed(0)+"%"}}))}),e.elem("div",{className:"compare-bar-container"},{children:[e.elem("div",{className:"compare-bar-caption"},{children:[e.elem("span",{className:"compare-bar-caption-text",textContent:a})]}),e.elem("div",{className:"compare-bar-outer"},{children:[h]})]})},b.exports=d},{"../dom":9,"../formatters":11,"../log":24}],58:[function(a,b,c){"use strict";function d(a,b,c,d){h.call(this,a,b,c,d),this._resolvePromise=null,this._resolvedEntries=null,this._entrySourceIDMap=new Map}var e=a("../log"),f=a("../dom"),g=a("../tooltip"),h=a("./collection-value");d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.prototype.resolve=function(){var a,b;return this._resolvePromise||(b=[],a=[],h.prototype.getEntries.call(this).forEach(function(c,d){var f=this._getEntryID(c),g=this._getEntrySourceID(c);f&&g?b.push(Omniselect.getSourceData(g).then(function(b){var c=b.mapping[f];c?(a[d]=c,this._entrySourceIDMap.set(c,g)):e.error('Entry ID "'+f+'" does not exist within Omniselect source "'+g+'".')}.bind(this))):e.error("Could not determine entry ID or source ID for table formatted Omniselect entry")}.bind(this)),this._resolvePromise=Promise.all(b).then(function(){this._resolvedEntries=[],a.forEach(function(a){a&&this._resolvedEntries.push(a)}.bind(this))}.bind(this))),this._resolvePromise},d.prototype.getEntries=function(){return this._resolvedEntries},d.prototype.getEntryValue=function(a){var b,c;return this._entryValuesMap.has(a)?b=this._entryValuesMap.get(a):(c=this._getEntrySourceID(a),b=Omniselect.processedGetEntryValueSync(a,c),this._entryValuesMap.set(a,b)),b},d.prototype.formatEntry=function(a){var b=this._getEntrySourceID(a);return Omniselect.processedFormatEntrySync(a,b)},d.prototype.entryMatchesSearchValue=function(a,b,c){var d;return c?(d=this._getEntrySourceID(a),Omniselect.queryMatchesEntrySync(b,a,d)):this.getEntryValue(a).toLowerCase().indexOf(b)>=0},d.prototype.setupEntryTooltip=function(a,b){var c={padContent:!0,showDelay:!0},d=this._getEntrySourceID(b),e=f.elem("div",null,{children:[f.elem("f-icon",{className:"fa-loading"})]}),h=new g(c),i=!1;h.setContent(e),h.showOnElementHover(a),h.onShow(function(){var a,f;i||(a=[b,d],f=this._row.getSearchValue(),f&&a.push(f),Omniselect.processedFormatEntryTooltip.apply(null,a).then(function(a){e.innerHTML="",e.appendChild(a),c.padContent=!1,h.setDisplayOptions(c)}),i=!0)}.bind(this)),this._settings.registerTooltip(h)},d.prototype._getEntryID=function(a){return a[Omniselect.prototype.ENTRY_ID_KEY]},d.prototype._getEntrySourceID=function(a){var b;return b=this._entrySourceIDMap.has(a)?this._entrySourceIDMap.get(a):Omniselect.prototype.ENTRY_SOURCE_ID_FUNCTION(a)},b.exports=d},{"../dom":9,"../log":24,"../tooltip":71,"./collection-value":46}],59:[function(a,b,c){"use strict";function d(){}d.prototype.setSearchValue=function(){throw new Error("Not implemented")},d.prototype.render=function(){throw new Error("Not implemented")},d.prototype.getRenderCompletePromise=function(){throw new Error("Not implemented")},d.prototype.calculateHeight=function(){throw new Error("Not implemented")},d.prototype.getHeight=function(){throw new Error("Not implemented")},d.prototype.updateCells=function(){throw new Error("Not implemented")},d.prototype.getRendered=function(){throw new Error("Not implemented")},d.prototype.isAddedToDOM=function(){throw new Error("Not implemented")},b.exports=d},{}],60:[function(a,b,c){"use strict";function d(a,b,c){this.id=a,this.entry=b,this.insertedIndex=null,this.sourceIndex=null,this.section=null,this._settings=c,this._renderedRow=null,this._searchRenderedRow=null,this._attachedColumnSet=new Set,this._renderedCellMap={},this._searchRenderedCellMap={},this._searchAttachedColumnSet=new Set,this._cellRenderingPromises={},this._renderedLoadingElement=null,this._searchValue=null,this._rowHeightPromise=null,this._rowHeight=null,this._cellHeightMap={},this._cellValueMap={},this._resolvedCellValueMap={},this._searchMatchColumns=null,this._mouseEnterCallback=null,this._mouseDownCallback=null,this._contextMenuCallback=null,this._clickCallback=null,this._doubleClickCallback=null,this._maskedCallback=null,this._rowMaskedCallback=null,this._collectionFallbackColumns={},this._implicitSequenceGroup=!1,this._canReorderResult=null,this._selected=!1,this._focused=!1,this._located=!1,this._masked=!1}var e=a("./row-interface"),f=a("../dom"),g=a("../log"),h=a("../lang"),i=a("../browser"),j=a("../highlighter"),k=a("./collection-value");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.initialize=function(){var a=[];return this._settings.columns.forEach(function(b){this._isNumberCompareBarColumn(b)&&"function"!=typeof b.numberCompareFunction&&a.push(Promise.resolve(this.getCellValue(b)).then(function(a){b.registerNumberForMaxCalculation(a.getValue())}))}.bind(this)),Promise.all(a)},d.prototype.render=function(a){var b,c,d=this._getRenderedRowKey();if(this[d]||(b="row",this._focused&&(b+=" pseudo-focused"),this._selected&&(b+=" selected"),this._masked&&(b+=" masked"),this.isReorderable()&&(b+=" reorderable-row"),this[d]=f.elem("div",{className:b},{children:[this._renderLoadingElement()],attributes:{"row-id":this.id},events:{mouseenter:function(){i.isMobile()||"function"!=typeof this._mouseEnterCallback||this._mouseEnterCallback(this)}.bind(this),mousedown:function(a){i.isMobile()||"function"!=typeof this._mouseEnterCallback||this._mouseDownCallback(this,a)}.bind(this),click:function(a){"function"==typeof this._clickCallback&&this._clickCallback(this,a)}.bind(this),dblclick:function(){i.isMobile()||"function"!=typeof this._doubleClickCallback||this._doubleClickCallback(this)}.bind(this),contextmenu:function(a){a.preventDefault(),i.isMobile()||"function"!=typeof this._contextMenuCallback||this._contextMenuCallback(this,a)}.bind(this)}}),"function"==typeof this._settings.onRowRendered&&(c=this._settings.onRowRendered)),this._located?this[d].classList.add("located-row"):this.isAddedToDOM()||this[d].classList.remove("located-row"),this.updateCells(a),c)try{c.call(this,this[d],this.entry)}catch(a){g.error(a)}return this[d]},d.prototype.renderCell=function(a){return this._renderCell(a)},d.prototype.updateEntry=function(a){return this._mask(!0),Promise.resolve(a).then(function(a){var b,c;this.isAddedToDOM()&&(b=this.render()),Object.assign(this.entry,a),this.clearAllCache(),b&&this.calculateHeight().then(function(){var a=function(){return b.parentElement};a()&&this._applyClassAndWaitForTransition(b,"fade-out").then(function(){a()&&(c=this.render(),c.style.top=b.style.top,c.setAttribute("inserted-index",this.insertedIndex),c.classList.add("pre-fade-in"),b.parentElement.insertBefore(c,b),b.parentElement.removeChild(b),this._applyClassAndWaitForTransition(c,"fade-in").then(function(){c.classList.remove("pre-fade-in")}),"function"==typeof this._entryUpdatedCallback&&this._entryUpdatedCallback(this))}.bind(this)),this._mask(!1)}.bind(this))}.bind(this),function(){return this._mask(!1),Promise.reject()}.bind(this))},d.prototype.getRenderedCellForColumnID=function(a){var b=this._settings.columnsMap[a];return this.renderCell(b)},d.prototype.renderOneOffCell=function(a){return this._renderCell(a,!0)},d.prototype.calculateCellHeight=function(a){var b,c=0,d=0;if("function"==typeof this._settings.rowHeightFunction)try{c=this._settings.rowHeightFunction(this.entry,this._settings.rowHeight)}catch(a){g.error(a)}else c=this._settings.rowHeight;if(d=c,a.COLLECTION_TYPES.indexOf(a.type)>=0&&!this.isCollectionFallback(a))b=Promise.resolve(this.getCellValue(a)).then(function(a){var b=a.getEntries(),d=Math.max(1,b.length);return"number"==typeof this._settings.collectionLimit&&(d=Math.min(d,this._settings.collectionLimit)),d*c+(d-1)*k.ITEM_MARGIN_PIXELS}.bind(this));else{if(a.type===a.TYPE.STANDARD&&"function"==typeof a.cellHeightFunction)try{d=a.cellHeightFunction(this.entry,this._settings.rowHeight)}catch(a){g.error(a)}b=Promise.resolve(0)}return b.then(function(b){var c=Math.max(b,d)+2*this._settings.cellPadding;return this._cellHeightMap[a.id]=c,c}.bind(this))},d.prototype.calculateHeight=function(){return null==this._rowHeightPromise&&(this._rowHeightPromise=Promise.all(this._settings.activeColumns.map(function(a){return this.calculateCellHeight(a)}.bind(this))).then(function(a){this._settings.mobileLayout?this._rowHeight=a.reduce(function(a,b){return a+b},0):this._rowHeight=Math.max.apply(null,a)}.bind(this))),this._rowHeightPromise},d.prototype.getHeight=function(){return this._rowHeight},d.prototype.getCellHeight=function(a){return this._cellHeightMap[a.id]},d.prototype.getRenderCompletePromise=function(){return Promise.all(Object.keys(this._cellRenderingPromises).map(function(a){return this._cellRenderingPromises[a]}.bind(this)))},d.prototype.getCellValue=function(a){var b=this._cellValueMap[a.id];return b||(b=this._cellValueMap[a.id]=a.getCellValue(this),b&&"function"==typeof b.then&&Promise.resolve(b).then(function(b){this._resolvedCellValueMap[a.id]=b}.bind(this))),b},d.prototype.isCollectionFallback=function(a){var b;if(null==this._collectionFallbackColumns[a.id]){if(b=!1,a.COLLECTION_TYPES.indexOf(a.type)>=0&&"function"==typeof a.cellIsValidCollectionFunction)try{b=!a.cellIsValidCollectionFunction.call(this,this.entry,a)}catch(a){g.error(a)}this._collectionFallbackColumns[a.id]=b}return this._collectionFallbackColumns[a.id]},d.prototype.getCellValueSync=function(a){return this._resolvedCellValueMap[a.id]||this._cellValueMap[a.id]},d.prototype.focus=function(a){var b=this.render();a?b.classList.add("pseudo-focused"):b.classList.remove("pseudo-focused"),this._focused=a},d.prototype.select=function(a){var b=this.render();a?b.classList.add("selected"):b.classList.remove("selected"),this._selected=a},d.prototype.setLocated=function(a){this._located=a},d.prototype.getRendered=function(){return this[this._getRenderedRowKey()]},d.prototype.isAddedToDOM=function(){var a=this.getRendered();return!(!a||!a.parentElement)},d.prototype.onMouseEnter=function(a){this._mouseEnterCallback=a},d.prototype.onMouseDown=function(a){this._mouseDownCallback=a},d.prototype.onClick=function(a){this._clickCallback=a},d.prototype.onDoubleClick=function(a){this._doubleClickCallback=a},d.prototype.onContextMenu=function(a){this._contextMenuCallback=a},d.prototype.onEntryUpdated=function(a){this._entryUpdatedCallback=a},d.prototype.onMasked=function(a){this._maskedCallback=a},d.prototype.updateCells=function(a){var b=0,c=this._getRenderedRowKey(),d=this._getAttachedColumnSetKey(),e=this[c],f=this[d],g=this._settings.mobileLayout,h=this._settings.mobileLayout?this._settings.getActiveColumnsInOrder():this._settings.activeColumns,i=this._settings.getVisibleColumnsSet();return h.forEach(function(a){var c,d,h=f.has(a),j=i.has(a);g||(d=a.getWidth(),b+=d),j?(c=this.renderCell(a),g||(c.style.width=a.getWidth()+"px",c.style.left=a.getLeftOffset()+"px"),a.isFirstVisible()?c.classList.add("first-cell"):c.classList.remove("first-cell"),a.isLastVisible()?c.classList.add("last-cell"):c.classList.remove("last-cell"),h||(f.add(a),e.appendChild(c))):h&&(f.delete(a),c=this.renderCell(a),c.parentElement.removeChild(c))}.bind(this)),g||(e.style.width=b+"px"),"number"!=typeof a||g||(this._renderLoadingElement().style.width=a+"px"),b},d.prototype.prepareForMeasure=function(){this._settings.activeColumns.forEach(function(a){return this.prepareCellForMeasure(a)}.bind(this))},d.prototype.measure=function(){return this._settings.activeColumns.map(function(a){return this.measureCell(a)}.bind(this))},d.prototype.prepareCellForMeasure=function(a){var b=this.renderCell(a);b.style.width=null},d.prototype.measureCell=function(a){var b=this.renderCell(a);return Math.ceil(b.getBoundingClientRect().width)+1},d.prototype.setSearchValue=function(a){!a&&this._searchValue&&(delete this._renderedRow,this._attachedColumnSet=new Set),this._searchValue=a,this._searchMatchColumns=new Set,delete this._searchRenderedRow,this._searchAttachedColumnSet=new Set,this._searchRenderedCellMap={}},d.prototype.getSearchValue=function(){return this._searchValue},d.prototype.setSearchMatchForColumn=function(a){this._searchMatchColumns&&this._searchMatchColumns.add(a)},d.prototype.didSearchMatchForColumn=function(a){return this._searchMatchColumns&&this._searchMatchColumns.has(a)},d.prototype.getSequenceGroupingValue=function(){var a=this._settings.getHiddenSequenceGroupingColumn(),b=a&&this.getCellValueSync(a);return b&&b.getValue()||""},d.prototype.isReorderable=function(){return this._getCanReorderFunctionResult()&&(!this.section||!this.section.firstRow.isImplicitSequenceGrouping())},d.prototype.isImplicitSequenceGrouping=function(){return this._implicitSequenceGroup},d.prototype.setImplicitSequenceGrouping=function(){this._implicitSequenceGroup=!0},d.prototype.clearRowElementCache=function(){this._renderedRow=null,this._searchRenderedRow=null,this._attachedColumnSet=new Set,this._searchAttachedColumnSet=new Set,this._rowHeight=null,this._rowHeightPromise=null},d.prototype.clearAllCache=function(){this.clearRowElementCache(),this._renderedCellMap={},this._searchRenderedCellMap={},this._cellRenderingPromises={},this._cellValueMap={},this._resolvedCellValueMap={},
this._collectionFallbackColumns={}},d.prototype._getRenderedRowKey=function(){return this._searchValue?"_searchRenderedRow":"_renderedRow"},d.prototype._getAttachedColumnSetKey=function(){return this._searchValue?"_searchAttachedColumnSet":"_attachedColumnSet"},d.prototype._highlightMatchInCellContent=function(a){j.highlightMatchesInElement(a,this._searchValue,!0)||a.classList.add("search-match-highlight")},d.prototype._mask=function(a){var b=this.render();a?(b.classList.add("masked"),"function"==typeof this._maskedCallback&&this._maskedCallback(this)):b.classList.remove("masked"),this._masked=a},d.prototype._renderCell=function(a,b){var c,d,e,i,j,k,l,m,n=!1;if(b||(c=this._settings.mobileLayout?this.getCellHeight(a):this.getHeight(),this._searchValue&&this.didSearchMatchForColumn(a.id)?(d=this._searchRenderedCellMap,i=this.getCellValueSync(a),i&&!i.MANUAL_SEARCH_HIGHLIGHTING&&(n=!0)):d=this._renderedCellMap,e=d[a.id]),!e&&(k=f.elem("div",{className:"row-cell-content"}),this._columnShouldHaveFullWidthCellContent(a)&&k.classList.add("full-width"),m=[f.elem("div",{className:"row-inner-cell"},{children:[k]})],!b&&this._settings.mobileLayout&&m.unshift(f.elem("div",{className:"row-cell-title",textContent:h.translate(a.langKey)})),e=f.elem("div",{className:"row-cell",style:{padding:this._settings.cellPadding+"px"}},{attributes:{"column-id":a.id},children:m}),j=a.renderCellContent(this,k,b),j&&("function"==typeof j.then?(k.appendChild(this._LOADING_ICON_ELEMENT.cloneNode()),l=Promise.resolve(j).then(function(b){this._setFormattedCellContent(b||"",k,a)}.bind(this)),this._cellRenderingPromises[a.id]=l):this._setFormattedCellContent(j,k,a)),n&&(l?l.then(function(){this._highlightMatchInCellContent(k)}.bind(this)):this._highlightMatchInCellContent(k)),!b&&(d[a.id]=e,"function"==typeof a.onCellRendered)))try{a.onCellRendered.call(this,k,this.entry,a)}catch(a){g.error(a)}return b||(e.style.height=c+"px"),e},d.prototype._isNumberCompareBarColumn=function(a){return a.type===a.TYPE.NUMBER&&a.numberType!==a.NUMBER_TYPE.CUSTOM&&a.numberCompareBar},d.prototype._columnShouldHaveFullWidthCellContent=function(a){return this._isNumberCompareBarColumn(a)},d.prototype._renderLoadingElement=function(){return this._renderedLoadingElement||(this._renderedLoadingElement=f.elem("div",{className:"flex-centered row-loading"},{children:[f.elem("f-icon",{className:"fa-loading icon-lg"})]})),this._renderedLoadingElement.style.height=this.getHeight()+"px",this._renderedLoadingElement},d.prototype._setFormattedCellContent=function(a,b,c){for(;b.lastChild;)b.removeChild(b.lastChild);a instanceof HTMLElement||a instanceof DocumentFragment?b.appendChild(a):"string"==typeof a&&c.trustCellFormatterForHTML?b.innerHTML=a:b.textContent=a},d.prototype._applyClassAndWaitForTransition=function(a,b){return new Promise(function(c){var d=function(){a.classList.remove(b),a.removeEventListener("transitionend",d),c()}.bind(this);a.addEventListener("transitionend",d),setTimeout(function(){a.classList.add(b)})})},d.prototype._getCanReorderFunctionResult=function(){if(null==this._canReorderResult&&(this._canReorderResult=!0,"function"==typeof this._settings.canReorderFunction))try{this._canReorderResult=!!this._settings.canReorderFunction.call(this,this.entry)}catch(a){g.error(a)}return this._canReorderResult},d.prototype._LOADING_ICON_ELEMENT=f.elem("f-icon",{className:"fa-loading"}),b.exports=d},{"../browser":4,"../dom":9,"../highlighter":12,"../lang":23,"../log":24,"./collection-value":46,"./row-interface":59}],61:[function(a,b,c){"use strict";function d(a,b){this._settings=a,this._source=b,this._popUp=null,this._currentSection=null,this._collapseAllCallback=null,this._expandAllCallback=null,this._renameSequenceGroupingValueCallback=null,this._deleteSequenceGroupingValueCallback=null,this._create()}var e=a("../pop-up"),f=a("../dom"),g=a("../lang");d.prototype.onCollapseAll=function(a){this._collapseAllCallback=a},d.prototype.onExpandAll=function(a){this._expandAllCallback=a},d.prototype.onRenameSequenceGrouping=function(a){this._renameSequenceGroupingValueCallback=a},d.prototype.onDeleteSequenceGrouping=function(a){this._deleteSequenceGroupingValueCallback=a},d.prototype.showForSection=function(a,b,c){var d=f.elem("div");d.appendChild(e.createMenuButton({lang:"Expand All",icon:"fa-plus",onClick:function(){"function"==typeof this._expandAllCallback&&this._expandAllCallback(),this._popUp.hide()}.bind(this)})),d.appendChild(e.createMenuButton({lang:"Collapse All",icon:"fa-minus",onClick:function(){"function"==typeof this._collapseAllCallback&&this._collapseAllCallback(),this._popUp.hide()}.bind(this)})),this._settings.customSequenceGrouping&&this._addSequenceGroupingItems(a,d),this._popUp.show(d,b,c)},d.prototype.destroy=function(){this._popUp.destroy()},d.prototype._addSequenceGroupingItems=function(a,b){var c=a.firstRow.getSequenceGroupingValue();c&&!a.firstRow.isImplicitSequenceGrouping()&&(b.appendChild(f.elem("div",{className:"separator"})),this._settings.ngInject(["$scope","slide",function(d,f){b.appendChild(e.createMenuButton({lang:"Rename Sequence Grouping",icon:"fa-pencil",onClick:function(){var b=d.$new(!0);b.existing=c,b.used=this._source.getAllSectionValues(),f.open("editSequenceGrouping",{template:'<f-mutable-edit-sequence-grouping existing="::existing" used="::used"></f-mutable-edit-sequence-grouping>',parentScope:b,options:{title:g.translate("Rename Sequence Grouping"),fullHeight:!0}}).then(function(b){"function"==typeof this._renameSequenceGroupingValueCallback&&this._renameSequenceGroupingValueCallback(a,b)}.bind(this)).finally(function(){b.$destroy()}),this._popUp.hide()}.bind(this)}))}.bind(this)]),b.appendChild(e.createMenuButton({lang:"Delete Sequence Grouping",icon:"fa-trash-o",onClick:function(){"function"==typeof this._deleteSequenceGroupingValueCallback&&this._deleteSequenceGroupingValueCallback(a),this._popUp.hide()}.bind(this)})))},d.prototype._create=function(){this._popUp=new e({allowVerticalAdjustment:this._settings.inline,class:"mutable-section-settings"})},b.exports=d},{"../dom":9,"../lang":23,"../pop-up":29}],62:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.id=a,this.firstRow=b,this.rows=c,this.insertedIndex=null,this._column=d,this._settings=e,this._rowCount=c.length,this._sectionHeightPromise=null,this._sectionHeight=null,this._renderedSection=null,this._renderedCell=null,this._renderedVisualToggle=null,this._toggleCallback=null,this._contextMenuCallback=null,this._searchValue=null}var e=a("./row-interface"),f=a("../dom");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.setSearchValue=function(a){this._searchValue=a},d.prototype.render=function(){return this._renderedSection||(this._renderedSection=f.elem("div",{className:"row section"},{children:[this._renderCell()],attributes:{"section-id":this.id},events:{contextmenu:function(a){"function"==typeof this._contextMenuCallback&&(this._contextMenuCallback(this,a.pageX,a.pageY),a.preventDefault(),a.stopPropagation())}.bind(this)}})),this.updateCells(),this._renderedSection},d.prototype.getRenderCompletePromise=function(){return null},d.prototype.calculateHeight=function(){return this._sectionHeightPromise||(this._sectionHeightPromise=this.firstRow.calculateCellHeight(this._column).then(function(a){this._sectionHeight=a}.bind(this))),this._sectionHeightPromise},d.prototype.getHeight=function(){return this._sectionHeight},d.prototype.getRowCount=function(){return this._rowCount},d.prototype.updateCells=function(){var a;this._settings.mobileLayout||(a=this._settings.getTotalColumnWidthSum(),this._renderCell().style.width=a+"px")},d.prototype.getRendered=function(){return this._renderedSection},d.prototype.isAddedToDOM=function(){return!(!this._renderedSection||!this._renderedSection.parentElement)},d.prototype.updateVisualToggle=function(a){var b=this._renderVisualToggle();a?b.classList.add("active"):b.classList.remove("active")},d.prototype.onToggle=function(a){this._toggleCallback=a},d.prototype.onContextMenu=function(a){this._contextMenuCallback=a},d.prototype._renderCell=function(){var a,b,c;return this._renderedCell||(a=this.firstRow.renderOneOffCell(this._column),b=f.elem("div",{className:"section-inner-cell"},{children:[f.elem("f-icon",{className:"fa-loading"})]}),c=f.elem("span",{className:"number-bubble row-count",textContent:this.getRowCount()}),this._searchValue&&c.classList.add("search-match-highlight"),this._renderedCell=f.elem("div",{className:"section-cell",style:{height:this.getHeight()+"px",padding:this._settings.cellPadding+"px"}},{children:[f.elem("label",{className:"section-label"},{children:[this._renderVisualToggle(),b,c]})]}),this.firstRow.getRenderCompletePromise().then(function(){var c=a.children[0].cloneNode(!0);c.classList.remove("row-inner-cell"),c.classList.add("section-inner-cell"),b.parentElement.insertBefore(c,b),b.parentElement.removeChild(b)}.bind(this))),this._renderedCell},d.prototype._renderVisualToggle=function(){var a;return this._renderedVisualToggle||(a="compact-visual-toggle",this._settings.isSectionExpanded(this.id)&&(a+=" active"),this._renderedVisualToggle=f.elem("button",{type:"button",className:a},{events:{click:function(){"function"==typeof this._toggleCallback&&this._toggleCallback(this)}.bind(this)}})),this._renderedVisualToggle},b.exports=d},{"../dom":9,"./row-interface":59}],63:[function(a,b,c){"use strict";function d(a,b,c){this._settings=a,this._row=b,this._oldLabel=b.getSequenceGroupingValue(),this._newLabel=c}d.prototype.execute=function(){return Promise.resolve(this._settings.editSequenceGroupingValue(this._row.entry,this._newLabel))},d.prototype.undo=function(){return Promise.resolve(this._settings.editSequenceGroupingValue(this._row.entry,this._oldLabel))},b.exports=d},{}],64:[function(a,b,c){"use strict";function d(a,b,c){if(!a.columns)throw new Error("No columns provided.");this._Table=c,this._ngScope=null,this._ngInjector=null,this.id=c.ID_PROCESSOR(a.id||window.location.pathname),this.inline=b,this.mobileLayout="boolean"==typeof a.mobileLayout?a.mobileLayout:f.responsive.isSmall(),this.rowHeight=a.rowHeight||c.DEFAULT_ROW_HEIGHT,this.cellPadding=a.cellPadding||c.DEFAULT_CELL_PADDING,this.rowHeightFunction=a.rowHeightFunction,this.collectionLimit=null==a.collectionLimit?5:a.collectionLimit,this.customSequenceGrouping="boolean"==typeof a.customSequenceGrouping&&a.customSequenceGrouping,this.editSequenceGroupingValue="function"==typeof a.editSequenceGroupingValue?a.editSequenceGroupingValue:c.DEFAULT_EDIT_SEQUENCE_GROUPING_VALUE,this.mobileLayout||f.isMobile()?this.reordering=!1:this.reordering="boolean"==typeof a.reordering&&a.reordering,this.reorderRow="function"==typeof a.reorderRow?a.reorderRow:c.DEFAULT_REORDER_FUNCTION,this.canReorderFunction=a.canReorderFunction,this.SORT_DIRECTION=c.SORT_DIRECTION,this.customSequenceGrouping||this.reordering?this.sorting=!1:this.sorting="boolean"!=typeof a.sorting||a.sorting,this.defaultSortColumn=a.defaultSortColumn,this.defaultSortDirection=a.defaultSortDirection||c.DEFAULT_SORT_DIRECTION,this.mobileLayout?(this.persistColumns=!1,this.persistExpandedSections=!1):(this.persistColumns="boolean"!=typeof a.persistColumns||a.persistColumns,this.persistExpandedSections="boolean"!=typeof a.persistExpandedSections||a.persistExpandedSections),this.customSequenceGrouping?this.sections=!1:this.sections="boolean"!=typeof a.sections||a.sections,this.reordering?this.userDefinedSections=!1:this.userDefinedSections="boolean"!=typeof a.userDefinedSections||a.userDefinedSections,this.defaultSectionColumn=a.defaultSectionColumn,this.sortSections="boolean"!=typeof a.sortSections||a.sortSections,this.sectionSortDirection=a.sectionSortDirection||c.DEFAULT_SORT_DIRECTION,this.sectionContextMenuItems=a.sectionContextMenuItems,this.onRowRendered=a.onRowRendered,this.onChunkAdded=a.onChunkAdded,this._tooltips=[],this.columnsMap={},this.columns=a.columns.map(this._createColumn.bind(this)),this.customSequenceGrouping&&this.columns.push(this._createColumn({id:this.HIDDEN_SEQUENCE_GROUPING_COLUMN,type:e.prototype.TYPE.SIMPLE,hidden:!0,cellValueFunction:function(b){var d=this,e="function"===a.sequenceGroupingValueFunction?a.sequenceGroupingValueFunction:c.DEFAULT_SEQUENCE_GROUPING_VALUE_FUNCTION,f=e(b);return f||"function"!=typeof a.implicitSequenceGroupingValueFunction||(f=a.implicitSequenceGroupingValueFunction(b),f&&d.setImplicitSequenceGrouping()),f}})),this.mobileLayout&&a.mobileColumns?this.defaultColumnIDs=a.mobileColumns:(this.defaultColumnIDs=a.defaultColumns,this._mobileColumnLimit=2),this.activeColumns=null,this.sectionColumn=null,this._expandedSections=null,this._visibleColumnsSet=null,this._now=new Date,this._initializeColumns(!0),this._initializeSectionColumn(!0),this._initializeSortingColumn(!0),this._initializeExpandedSections(!0)}var e=a("./column"),f=a("../browser"),g={ACTIVE_COLUMNS:"activeColumns",SECTION_COLUMN:"sectionColumn",SORT_COLUMN:"sortColumn",SORT_DIRECTION:"sortDirection",EXPANDED_SECTIONS:"expandedSections"};d.prototype.HIDDEN_SEQUENCE_GROUPING_COLUMN="__hiddenSequenceGrouping__",d.prototype.resetState=function(){Object.keys(g).forEach(function(a){var b=g[a];this._removeFromLocalStorage(b)}.bind(this)),this._initializeColumns(),this._initializeSectionColumn(),this._initializeSortingColumn(),this._initializeExpandedSections()},d.prototype.setAndPersistActiveColumns=function(a){this._setActiveColumns(a),this.persistCurrentColumns()},d.prototype.addColumnAndPersist=function(a,b){this._addColumn(a,b),this.persistCurrentColumns()},d.prototype.removeColumnAndPersist=function(a){this._removeColumn(a),this.persistCurrentColumns()},d.prototype.prepareHeaderCellsForMeasure=function(){this.activeColumns.forEach(function(a){a.prepareHeaderCellForMeasure()})},d.prototype.measureAndSetHeaderCellWidths=function(){this.activeColumns.forEach(function(a){a.measureHeaderCellAndSetWidth()})},d.prototype.prepareHeaderCellsForMinimumMeasure=function(){this.activeColumns.forEach(function(a){a.prepareHeaderCellForMinimumMeasure()})},d.prototype.measureAndSetMinimumHeaderCellWidths=function(){this.activeColumns.forEach(function(a){a.measureHeaderCellMinimumAndSet()})},d.prototype.removeHeaderCellsMinimumMeasureClass=function(){this.activeColumns.forEach(function(a){a.removeHeaderCellMinimumMeasureClass()})},d.prototype.setColumnWidths=function(a){this.activeColumns.forEach(function(b,c){b.setWidth(a[c])}),this.updateColumnHeaderCellPositions()},d.prototype.updateColumnHeaderCellPositions=function(){var a=this.getActiveColumnsInOrder(),b=0;a.forEach(function(c,d){var e=c.getWidth();c.setLeftOffset(b),c.setFirstVisible(0===d),c.setLastVisible(d===a.length-1),c.updateHeaderCellPosition(),b+=e})},d.prototype.getColumnWidths=function(){return this.activeColumns.map(function(a){return a.getWidth()})},d.prototype.getTotalColumnWidthSum=function(){return this.activeColumns.reduce(function(a,b){return a+b.getWidth()},0)},d.prototype.getActiveColumnsInOrder=function(){return this.activeColumns.slice().sort(function(a,b){return a.currentIndex-b.currentIndex})},d.prototype.setAndPersistSectionColumn=function(a){this._setSectionColumn(a),this.persistColumns&&this._setInLocalStorage(g.SECTION_COLUMN,a.id),this.persistExpandedSections&&this._removeFromLocalStorage(g.EXPANDED_SECTIONS),this._initializeExpandedSections()},d.prototype.removeSectionColumnAndPersist=function(){this._removeSectionColumn(),this.persistColumns&&this._setInLocalStorage(g.SECTION_COLUMN,""),this.persistExpandedSections&&this._removeFromLocalStorage(g.EXPANDED_SECTIONS),this._initializeExpandedSections()},d.prototype.expandSectionAndPersist=function(a,b){b?this._expandedSections.add(a):this._expandedSections.delete(a),this.persistExpandedSections&&this._setInLocalStorage(g.EXPANDED_SECTIONS,Array.from(this._expandedSections))},d.prototype.isSectionExpanded=function(a){return this._expandedSections.has(a)},d.prototype.sortByColumnAndPersist=function(a,b){this._sortByColumn(a,b),this.persistColumns&&(this._setInLocalStorage(g.SORT_COLUMN,a.id),this._setInLocalStorage(g.SORT_DIRECTION,a.getSortDirection()))},d.prototype.persistCurrentColumns=function(){this.persistColumns&&this._setInLocalStorage(g.ACTIVE_COLUMNS,this.getActiveColumnsInOrder().map(function(a){return a.id}))},d.prototype.ngEnhance=function(a,b){this._ngScope=a,this._ngInjector=b},d.prototype.ngInject=function(a){this._ngScope&&this._ngInjector&&this._ngInjector.invoke(a,null,{$scope:this._ngScope})},d.prototype.registerTooltip=function(a){this._tooltips.push(a)},d.prototype.getNow=function(){return this._now},d.prototype.getHiddenSequenceGroupingColumn=function(){return this.columnsMap[this.HIDDEN_SEQUENCE_GROUPING_COLUMN]},d.prototype.getVisibleColumnsSet=function(){return this._visibleColumnsSet},d.prototype.setVisibleColumnsSet=function(a){this._visibleColumnsSet=a},d.prototype.resetVisibleColumns=function(){this._visibleColumnsSet=new Set(this.activeColumns)},d.prototype.destroy=function(){this._tooltips.forEach(function(a){a.destroy()})},d.prototype._createLocalStorageKey=function(a){return["muTable",this.id,a].join("#")},d.prototype._getFromLocalStorage=function(a){var b=this._createLocalStorageKey(a);return JSON.parse(localStorage.getItem(b))},d.prototype._setInLocalStorage=function(a,b){var c=this._createLocalStorageKey(a);localStorage.setItem(c,JSON.stringify(b))},d.prototype._removeFromLocalStorage=function(a){var b=this._createLocalStorageKey(a);localStorage.removeItem(b)},d.prototype._persistCurrentSectionColumn=function(){this._setInLocalStorage(g.ACTIVE_COLUMNS,this.getActiveColumnsInOrder().map(function(a){return a.id}))},d.prototype._setActiveColumns=function(a,b){this.activeColumns=this.columns.filter(function(c){var d=a.indexOf(c.id),e=d>=0;return b&&c.reset(),e?(c.currentIndex=d,c.setFirstVisible(0===d),c.setLastVisible(d===a.length-1)):(c.currentIndex=null,b||(c.sort(!1),c.setFilter(null))),e}.bind(this)),this.resetVisibleColumns()},d.prototype._initializeColumns=function(a){var b=[],c=function(a){var b=[];return Array.isArray(a)&&(b=Array.from(new Set(a)).filter(function(a){var b=this.columnsMap[a];return b&&!b.hidden}.bind(this))),b}.bind(this);a&&this.persistColumns&&(b=c(this._getFromLocalStorage(g.ACTIVE_COLUMNS))),b.length||(b=c(this.defaultColumnIDs),b.length||(b=this.columns.filter(function(a){return!a.hidden}).map(function(a){return a.id}))),this.mobileLayout&&this._mobileColumnLimit&&(b=b.slice(0,this._mobileColumnLimit)),this._setActiveColumns(b,!0)},d.prototype._addColumn=function(a,b){b=Math.min(b,this.activeColumns.length);var c=this.columnsMap[a];this.activeColumns.forEach(function(a){a.currentIndex>=b&&a.currentIndex++}),this.activeColumns.push(c),c.currentIndex=b},d.prototype._removeColumn=function(a){var b=this.columnsMap[a],c=b.currentIndex;this.activeColumns.splice(this.activeColumns.indexOf(b),1),this.activeColumns.forEach(function(a){a.currentIndex>c&&a.currentIndex--}),b.currentIndex=null,b.setFilter(null)},d.prototype._removeSectionColumn=function(){this.sectionColumn&&(this.sectionColumn.setSection(!1),this._addColumn(this.sectionColumn.id,this.activeColumns.length),this.sectionColumn=null)},d.prototype._setSectionColumn=function(a){this._removeSectionColumn(),null!=a.currentIndex&&this._removeColumn(a.id),this.sectionColumn=a,a.setSection(!0),this._expandedSections=new Set},d.prototype._initializeSectionColumn=function(a){var b,c;if(this.sectionColumn=null,this.sections&&(a&&this.persistColumns&&(c=this._getFromLocalStorage(g.SECTION_COLUMN)),"string"!=typeof c&&(c=this.defaultSectionColumn),c&&(b=this.columnsMap[c])))return void this._setSectionColumn(b)},d.prototype._sortByColumn=function(a,b){a.sort(!0,b),this.activeColumns.forEach(function(b){b.isSorted()&&b!==a&&b.sort(!1)}.bind(this))},d.prototype._initializeSortingColumn=function(a){var b,c,d,e=[this.SORT_DIRECTION.ASCENDING,this.SORT_DIRECTION.DESCENDING];if(this.sorting&&(a&&this.persistColumns&&(c=this._getFromLocalStorage(g.SORT_COLUMN),d=this._getFromLocalStorage(g.SORT_DIRECTION),e.indexOf(d)<0&&(d=null)),"string"!=typeof c&&(c=this.defaultSortColumn,d=null),c&&(b=this.columnsMap[c],b&&null!=b.currentIndex)))return void this._sortByColumn(b,d)},d.prototype._initializeExpandedSections=function(a){var b,c=new Set;(this.sections||this.customSequenceGrouping)&&a&&this.persistExpandedSections&&(b=this._getFromLocalStorage(g.EXPANDED_SECTIONS),Array.isArray(b)&&(c=new Set(b))),this._expandedSections=c},d.prototype._createColumn=function(a){var b,c,d;if("object"==typeof a)b=a,c=a.id;else{if(c=a,!this._Table.STANDARD_COLUMNS[c])throw new Error('Undefined standard column "'+c+'".');b=Object.assign({id:c},this._Table.STANDARD_COLUMNS[c])}return d=new e(b,this),this.columnsMap[c]=d,d},b.exports=d},{"../browser":4,"./column":48}],65:[function(a,b,c){"use strict";function d(a,b,c,d){this._input=null==a?"":String(a),this._row=b,this._column=c,this._settings=d,this._formatted=null}var e=a("../lang"),f=a("../dom"),g=a("../util").fastLocaleCompare,h="Uncategorized";d.prototype.getValue=function(){return this._input},d.prototype.format=function(){var a,b;return null==this._formatted&&(this._settings.customSequenceGrouping&&this._column.id===this._settings.HIDDEN_SEQUENCE_GROUPING_COLUMN?(a=this._input,a&&!this._row.isImplicitSequenceGrouping()||(b="empty-sequence-grouping"),a||(a=e.translate(h)),this._formatted=f.elem("div",{className:b,textContent:a})):this._formatted=this._input),this._formatted},d.prototype.compareTo=function(a){return g(this._input,a.getValue())},d.prototype.matchedBySearch=function(a){return this._input.toLowerCase().indexOf(a)>=0},b.exports=d},{"../dom":9,"../lang":23,"../util":75}],66:[function(a,b,c){"use strict";function d(a,b){this.id=i.uniqueID(),this._source=a,this._settings=null,this._sectionColumn=null,this._sequenceGroupingColumn=null,this._phasePromises=Object.create(null),this._sourceRows=null,this._flattenedRows=null,this._searchValue=null,this._mouseEnterRowCallback=null,this._mouseDownRowCallback=null,this._clickRowCallback=null,this._doubleClickRowCallback=null,this._rowContextMenuCallback=null,this._toggleSectionCallback=null,this._entryUpdatedCallback=null,this._rowMaskedCallback=null,this._sectionContextMenuCallback=null,this._rowCacheClearLevel=j.NONE,this._locatedRow=null,this._rowLocateFunction=null,this._allSectionValues=null,this.updateSettings(b)}var e=a("./simple-value"),f=a("./row"),g=a("./section"),h=a("../sort"),i=a("../util"),j={NONE:"none",ROW_ELEMENT:"rowElement",ALL:"all"};d.prototype.updateSettings=function(a){a&&(this._settings=a)},d.prototype.getRows=function(){return this._sourceRows&&this._rowCacheClearLevel!==j.NONE&&(this._sourceRows.forEach(function(a){this._rowCacheClearLevel===j.ROW_ELEMENT?a.clearRowElementCache():a.clearAllCache()}.bind(this)),this._rowCacheClearLevel=j.NONE),Object.keys(this._PHASES).reduce(function(a,b){var c=this._PHASES[b];return a.then(function(){return this._phasePromises[c]||(this._phasePromises[c]=this._PHASE_FUNCTIONS[c].apply(this,arguments)),this._phasePromises[c]}.bind(this))}.bind(this),Promise.resolve())},d.prototype.search=function(a){this._searchValue=a,this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},d.prototype.isSearchValueSet=function(){return!!this._searchValue},d.prototype.locate=function(a){this._locatedRow=null,this._rowLocateFunction=a,this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},d.prototype.filterAndSection=function(){this._clearCacheForPhase(this._PHASES.FILTER_AND_SECTION)},d.prototype.sort=function(){this._clearCacheForPhase(this._PHASES.SORT_ROWS)},d.prototype.moveRow=function(a){var b,c=this._sourceRows[a.originalSourceIndex];if(a.originalSourceIndex<=a.newSourceIndex)for(b=c.sourceIndex+1;b<=a.newSourceIndex;b++)this._sourceRows[b].sourceIndex--,this._sourceRows[b-1]=this._sourceRows[b];else for(b=c.sourceIndex;b>a.newSourceIndex;b--)this._sourceRows[b]=this._sourceRows[b-1],this._sourceRows[b].sourceIndex++;this._sourceRows[a.newSourceIndex]=c,c.sourceIndex=a.newSourceIndex},d.prototype.getLocatedRow=function(){return this._locatedRow},d.prototype.getSourceRows=function(){return this._sourceRows},d.prototype.getAllSectionValues=function(){return this._allSectionValues},d.prototype.unsetLocatedRow=function(){this._locatedRow=null,this._rowLocateFunction=null},d.prototype.getRowsWithinSameSequenceGrouping=function(a){var b,c,d=a.firstRow.getSequenceGroupingValue(),e=[];for(b=a.firstRow.sourceIndex;b<this._sourceRows.length&&(c=this._sourceRows[b].getSequenceGroupingValue(),!c||c===d);b++)e.push(this._sourceRows[b]);return e},d.prototype.getRowsWithSameSequenceGroupingValue=function(a,b){var c,d,e=a.firstRow.getSequenceGroupingValue(),f=[];for(b=null==b?a.firstRow.sourceIndex:b,c=b;c<this._sourceRows.length;c++)if(d=this._sourceRows[c].getSequenceGroupingValue()){if(d!==e)break;f.push(this._sourceRows[c])}return f},d.prototype.clearRenderedRowElementCache=function(){this._rowCacheClearLevel=j.ROW_ELEMENT},d.prototype.clearAllRowCache=function(){this._rowCacheClearLevel=j.ALL},d.prototype.expandAllSections=function(){this._toggleSections(!0)},d.prototype.collapseAllSections=function(){this._toggleSections(!1)},d.prototype.onMouseEnterRow=function(a){this._mouseEnterRowCallback=a},d.prototype.onMouseDownInsideRow=function(a){this._mouseDownRowCallback=a},d.prototype.onClickRow=function(a){this._clickRowCallback=a},d.prototype.onDoubleClickRow=function(a){this._doubleClickRowCallback=a},d.prototype.onRowContextMenu=function(a){this._rowContextMenuCallback=a},d.prototype.onToggleSection=function(a){this._toggleSectionCallback=a},d.prototype.onEntryUpdated=function(a){this._entryUpdatedCallback=a},d.prototype.onRowMasked=function(a){this._rowMaskedCallback=a},d.prototype.onSectionContextMenu=function(a){this._sectionContextMenuCallback=a},d.prototype._PHASES={RETRIEVE:0,FILTER_AND_SECTION:1,SORT_SECTIONS:2,SORT_ROWS:3,FLATTEN:4},d.prototype._clearCacheForPhase=function(a){Object.keys(this._phasePromises).forEach(function(b){Number(b)>=a&&delete this._phasePromises[b]}.bind(this))},d.prototype._retrieveRows=function(){var a=function(){"function"==typeof this._mouseEnterRowCallback&&this._mouseEnterRowCallback.apply(null,arguments)}.bind(this),b=function(){"function"==typeof this._mouseDownRowCallback&&this._mouseDownRowCallback.apply(null,arguments)}.bind(this),c=function(){"function"==typeof this._clickRowCallback&&this._clickRowCallback.apply(null,arguments)}.bind(this),d=function(){"function"==typeof this._doubleClickRowCallback&&this._doubleClickRowCallback.apply(null,arguments)}.bind(this),e=function(){"function"==typeof this._rowContextMenuCallback&&this._rowContextMenuCallback.apply(null,arguments)}.bind(this),g=function(){"function"==typeof this._entryUpdatedCallback&&this._entryUpdatedCallback.apply(null,arguments)}.bind(this),h=function(){"function"==typeof this._rowMaskedCallback&&this._rowMaskedCallback.apply(null,arguments)}.bind(this);return Promise.resolve(this._source).then(function(i){var j=[];if(Array.isArray(i))return this._sourceRows=i.map(function(i,k){var l=new f(this.id+(k+1),i,this._settings);return l.sourceIndex=k,l.onMouseEnter(a),l.onMouseDown(b),l.onClick(c),l.onDoubleClick(d),l.onContextMenu(e),l.onEntryUpdated(g),l.onMasked(h),j.push(l.initialize()),l}.bind(this)),Promise.all(j);throw new Error("Invalid source")}.bind(this))},d.prototype._filterAndCreateSections=function(){var a,b=[],c=new Map,d=this._settings.activeColumns.filter(function(a){return a.isFiltered()}),f=Promise.resolve(),g=this._sourceRows;return this._sectionColumn=this._settings.sectionColumn,this._sequenceGroupingColumn=this._settings.getHiddenSequenceGroupingColumn(),a=this._searchValue?this._settings.activeColumns:d,this._sectionColumn&&(a=a.concat([this._sectionColumn])),this._sequenceGroupingColumn&&(a=a.concat([this._sequenceGroupingColumn])),a.length&&(f=Promise.all(g.map(function(b){return Promise.all(a.map(function(a){return b.getCellValue(a)}))}))),this._allSectionValues=new Set,f.then(function(){return new Promise(function(a){var f=new e(""),h={sectionValue:f,rows:[]};g.forEach(function(a){var e,g,i,j=!0,k=!this._rowLocated&&this._rowLocateFunction&&this._rowLocateFunction(a.entry);a.setSearchValue(this._searchValue),k?(j=!0,a.setLocated(!0),this._locatedRow=a,this._rowLocateFunction=null):(this._searchValue&&(j=!1,this._settings.activeColumns.forEach(function(b){var c=b.searchMatchesRow(this._searchValue,a);return c&&(a.setSearchMatchForColumn(b.id),j=!0),c}.bind(this))),j=j&&d.every(function(b){return b.filterMatchesRow(a)})),e=this._sequenceGroupingColumn?a.getCellValueSync(this._sequenceGroupingColumn):this._sectionColumn?a.getCellValueSync(this._sectionColumn):f,g=e.getValue(),g&&(b.showSections||a.isImplicitSequenceGrouping()||(b.showSections=!0),this._allSectionValues.add(g)),this._sequenceGroupingColumn?!g||g===f.getValue()&&h.implicitSequenceGrouping===a.isImplicitSequenceGrouping()?(i=h,g=f.getValue()):i={implicitSequenceGrouping:a.isImplicitSequenceGrouping(),sectionValue:e,firstRow:a,rows:[]}:i=c.get(g)||{sectionValue:e,firstRow:a,rows:[]},j&&(i.rows.push(a),a===this._locatedRow&&(i.containsLocatedRow=!0),this._sequenceGroupingColumn?b.length&&b[b.length-1]===i||b.push(i):c.has(g)||(c.set(g,i),b.push(i))),this._sequenceGroupingColumn&&i!==h&&(h=i,f=e)}.bind(this)),a(b)}.bind(this))}.bind(this))},d.prototype._getSortDirectionMultiplier=function(a){return a===this._settings.SORT_DIRECTION.ASCENDING?1:-1},d.prototype._sortSections=function(a){var b,c,d=Promise.resolve(a);return this._settings.sortSections&&this._sectionColumn&&(b=this._getSortDirectionMultiplier(this._settings.sectionSortDirection),c=this._sectionColumn.getSortComparator(),d=new Promise(function(d){h(a,function(a,d){var e=a.sectionValue,f=d.sectionValue,g=a.rows[0].entry,h=d.rows[0].entry;return b*c(e,f,g,h)},function(){d(a)})})),d},d.prototype._sortRows=function(a){var b,c,d,e,f,g=Promise.resolve(a);if(this._settings.sorting){for(b=0;b<this._settings.activeColumns.length;b++)if(d=this._settings.activeColumns[b],d.isSorted()){c=d;break}c&&(e=this._getSortDirectionMultiplier(c.getSortDirection()),f=c.getSortComparator(),g=Promise.all(a.map(function(a){return new Promise(function(b){Promise.all(a.rows.map(function(a){return a.getCellValue(c)})).then(function(){requestAnimationFrame(function(){h(a.rows,function(a,b){var d=a.getCellValueSync(c),g=b.getCellValueSync(c);return e*f(d,g,a.entry,b.entry)},b)})})})})).then(function(){return a}))}return g},d.prototype._flatten=function(a){var b=[],c=function(a){this._toggleSections(!this._settings.isSectionExpanded(a.id),a.id),"function"==typeof this._toggleSectionCallback&&this._toggleSectionCallback(a.insertedIndex)}.bind(this),d=function(){this._sectionContextMenuCallback&&this._sectionContextMenuCallback.apply(null,arguments)}.bind(this);return new Promise(function(e){var f=[],h=0;a.forEach(function(e){var i,j=e.sectionValue.getValue();a.showSections?(i=new g(j,e.firstRow||e.rows[0],e.rows,this._sectionColumn||this._sequenceGroupingColumn,this._settings),i.setSearchValue(this._searchValue),i.onToggle(c),i.onContextMenu(d),b.push(i),f.push(i),i.insertedIndex=h,h++,e.containsLocatedRow&&this._settings.expandSectionAndPersist(i.id,!0),this._settings.isSectionExpanded(i.id)?(f=f.concat(e.rows),e.rows.forEach(function(a){a.insertedIndex=h,a.section=i,h++})):e.rows.forEach(function(a){a.insertedIndex=null,a.section=i})):(f=f.concat(e.rows),e.rows.forEach(function(a){a.insertedIndex=h,a.section=null,h++}))}.bind(this)),this._sections=b,this._flattenedRows=f,e(f)}.bind(this))},d.prototype._PHASE_FUNCTIONS=function(){var a=d.prototype._PHASES,b=Object.create(null);return b[a.RETRIEVE]=d.prototype._retrieveRows,b[a.FILTER_AND_SECTION]=d.prototype._filterAndCreateSections,b[a.SORT_SECTIONS]=d.prototype._sortSections,b[a.SORT_ROWS]=d.prototype._sortRows,b[a.FLATTEN]=d.prototype._flatten,b}(),d.prototype._toggleSections=function(a,b){var c=0,d=!1,e=new Map;this._sections.forEach(function(f){
var g=null==b||f.id===b,h=this._settings.isSectionExpanded(f.id);g&&a!==h&&(f.updateVisualToggle(a),a?Array.prototype.splice.apply(this._flattenedRows,[c+1,0].concat(f.rows)):this._flattenedRows.splice(c+1,f.getRowCount()),e.set(f.id,a),d=!0),d?(f.insertedIndex=c++,(g&&a||!g&&h)&&f.rows.forEach(function(a){a.insertedIndex=c++})):c=this._settings.isSectionExpanded(f.id)?f.rows[f.rows.length-1].insertedIndex+1:f.insertedIndex+1}.bind(this)),e.forEach(function(a,b){this._settings.expandSectionAndPersist(b,a)}.bind(this))},b.exports=d},{"../sort":45,"../util":75,"./row":60,"./section":62,"./simple-value":65}],67:[function(a,b,c){"use strict";function d(a,b,c){this._input=a,this._row=b,this._column=c}var e=a("../util").fastLocaleCompare,f=a("../log");d.prototype.getValue=function(){return this._input},d.prototype.format=function(){throw new Error("Should not be called")},d.prototype.compareTo=function(a){return e(this.getValue(),a.getValue())},d.prototype.matchedBySearch=function(a){var b,c=!1;if("function"==typeof this._column.cellSearchFunction)try{if(b=this._column.cellSearchFunction.call(this._row,this._row.entry,a),"boolean"==typeof b)return b}catch(a){f.error(a)}return this._input&&(c=this._input.toLowerCase().indexOf(a)>=0),c},b.exports=d},{"../log":24,"../util":75}],68:[function(a,b,c){"use strict";function d(a){this._settings=a,this._popUp=null,this._hideCallback=null,this._resetColumnsCallback=null,this._bestFitColumnsCallback=null,this._changeColumnsCallback=null,this._removeSectionColumnCallback=null,this._removeFiltersCallback=null,this._columnSelectionOptions=null,this._pendingColumnSelection=null,this._columnSelectionChanged=!1,this._create()}var e=a("../pop-up"),f=a("../dom"),g=a("../lang"),h=a("../util").fastLocaleCompare;d.prototype.show=function(a,b){this._columnSelectionChanged=!1,this._popUp.show(this._createContent(),a,b)},d.prototype.hide=function(){this._popUp.hide()},d.prototype.onHide=function(a){this._hideCallback=a},d.prototype.onResetColumns=function(a){this._resetColumnsCallback=a},d.prototype.onBestFitColumns=function(a){this._bestFitColumnsCallback=a},d.prototype.onChangeColumns=function(a){this._changeColumnsCallback=a},d.prototype.onRemoveSectionColumn=function(a){this._removeSectionColumnCallback=a},d.prototype.onRemoveFilters=function(a){this._removeFiltersCallback=a},d.prototype.destroy=function(){this.hide(),this._popUp.destroy()},d.prototype._createContent=function(){var a,b,c=f.elem("div",{className:"flex-column flex-grow hidden-overflow"}),d=this._settings.sections&&this._settings.userDefinedSections,i=this._settings.activeColumns.some(function(a){return a.isFiltered()}),j=function(a){return this._pendingColumnSelection.has(a.id)?"fa-apply":""}.bind(this),k=function(){var b=a.children[0];this._pendingColumnSelection.size?b.removeAttribute("disabled"):b.setAttribute("disabled","disabled")}.bind(this);return this._pendingColumnSelection=new Set,this._columnSelectionOptions=this._settings.getActiveColumnsInOrder().map(function(a){return this._pendingColumnSelection.add(a.id),a}.bind(this)).concat(this._settings.columns.filter(function(a){return null==a.currentIndex&&!a.isSection()&&!a.hidden}).sort(function(a,b){return h(g.translate(a.langKey),g.translate(b.langKey))})),d&&this._settings.sectionColumn&&(c.appendChild(e.createMenuButton({lang:{key:'Remove Group By "{0}"',interpolate:[g.translate(this._settings.sectionColumn.langKey)]},icon:"fa-remove-folder",onClick:function(){this.hide(),"function"==typeof this._removeSectionColumnCallback&&this._removeSectionColumnCallback(this._settings.sectionColumn)}.bind(this)})),c.appendChild(f.elem("div",{className:"separator"}))),c.appendChild(e.createMenuButton({lang:"Best Fit All Columns",icon:"fa-th",onClick:function(){this.hide(),"function"==typeof this._bestFitColumnsCallback&&this._bestFitColumnsCallback()}.bind(this)})),i&&c.appendChild(e.createMenuButton({lang:"Remove All Filters",icon:"fa-trash-o",onClick:function(){this.hide(),"function"==typeof this._removeFiltersCallback&&this._removeFiltersCallback()}.bind(this)})),c.appendChild(e.createMenuButton({lang:"Reset Table",icon:"fa-reset",onClick:function(){this.hide(),"function"==typeof this._resetColumnsCallback&&this._resetColumnsCallback()}.bind(this)})),c.appendChild(f.elem("div",{className:"heading",textContent:g.translate("Select Columns")})),b=f.elem("div",{className:"auto-overflow"}),this._columnSelectionOptions.map(function(a){var c=e.createMenuButton({lang:a.langKey,icon:j(a),onClick:function(b,c,d){this._pendingColumnSelection.has(a.id)?this._pendingColumnSelection.delete(a.id):this._pendingColumnSelection.add(a.id),d.className=j(a),k(),this._columnSelectionChanged=!0}.bind(this)});return b.appendChild(c),c.children[0]}.bind(this)),c.appendChild(b),c.appendChild(f.elem("div",{className:"separator"})),a=e.createMenuButton({lang:"Apply",icon:"fa-apply",buttonAttributes:{disabled:"disabled"},onClick:function(){this.hide()}.bind(this)}),c.appendChild(a),c.appendChild(e.createMenuButton({lang:"Cancel",icon:"fa-cancel",onClick:function(){this._columnSelectionChanged=!1,this.hide()}.bind(this)})),c},d.prototype._create=function(){this._popUp=new e({allowVerticalAdjustment:this._settings.inline,class:"mutable-table-settings flex-column flex-grow hidden-overflow"}),this._popUp.onHide(function(){this._columnSelectionChanged&&this._pendingColumnSelection.size&&"function"==typeof this._changeColumnsCallback&&this._changeColumnsCallback(this._columnSelectionOptions.filter(function(a){return this._pendingColumnSelection.has(a.id)}.bind(this)).map(function(a){return a.id})),"function"==typeof this._hideCallback&&this._hideCallback()}.bind(this))},b.exports=d},{"../dom":9,"../lang":23,"../pop-up":29,"../util":75}],69:[function(a,b,c){"use strict";function d(a){a=a||{},this.element=null,this._settings=null,this._source=null,this._inline=a.inline||!1,this._header=null,this._virtualizedRows=null,this._ngScope=a.ngScope,this._ngInjector=a.ngInjector,this._selectionChangeCallback=null,this._doubleClickRowCallback=null,this._contextMenuCallback=null,this._loadingCallback=null,this._verticalScrollJump=null,this._verticalScrollInterval=null,this._horizontalScrollJump=null,this._horizontalScrollInterval=null,this._tableContainerElement=null,this._loadingElement=null,this._createElement(),this.update(a)}var e=a("./source"),f=a("./settings"),g=a("./header"),h=a("./virtualized-rows"),i=a("../dom"),j=a("../shortcuts");d.STANDARD_COLUMNS={},d.SORT_DIRECTION={ASCENDING:"asc",DESCENDING:"desc"},d.DEFAULT_ROW_HEIGHT=19,d.DEFAULT_CELL_PADDING=7,d.DEFAULT_SORT_DIRECTION=d.SORT_DIRECTION.ASCENDING,d.ID_PROCESSOR=function(a){return a},d.DEFAULT_REORDER_FUNCTION=function(){return Promise.resolve()},d.DEFAULT_SEQUENCE_GROUPING_VALUE_FUNCTION=function(){throw new Error("Not implemented")},d.DEFAULT_EDIT_SEQUENCE_GROUPING_VALUE=function(){return Promise.reject("Not implemented")},d.prototype.updateSettings=function(a){this.update({settings:a})},d.prototype.updateSource=function(a){this.update({source:a})},d.prototype.update=function(a){a.settings&&(this._settings&&this._settings.destroy(),this._settings=new f(a.settings,this._inline,d),this._ngScope&&this._ngInjector&&this._settings.ngEnhance(this._ngScope,this._ngInjector),this._header.setSettings(this._settings),this._source&&this._source.updateSettings(this._settings)),a.source&&(this._source=new e(a.source,this._settings),this._header.setSource(this._source)),this._settings&&this._source&&this._render()},d.prototype.clearSelection=function(){this._virtualizedRows&&this._virtualizedRows.clearSelectionAndNotify()},d.prototype.onSelectionChange=function(a){this._selectionChangeCallback=a},d.prototype.onDoubleClickRow=function(a){this._doubleClickRowCallback=a},d.prototype.onLoading=function(a){this._loadingCallback=a},d.prototype.setContextMenuCallback=function(a){this._contextMenuCallback=a},d.prototype.search=function(a){var b;return this._source&&this._virtualizedRows?(a="string"==typeof a&&a?a.toLowerCase():null,this._source.search(a),b=this._virtualizedRows.render()):b=Promise.reject(),b},d.prototype.locate=function(a){var b;if(this._source&&this._virtualizedRows){if("function"==typeof a)b=a;else{if("object"!=typeof a)throw new Error("Invalid argument for locate");b=function(b){return Object.keys(a).every(function(c){return b[c]===a[c]})}}this._source.locate(b),this._virtualizedRows.render({keepScrollPosition:!0})}},d.prototype.setRowSequenceGroupingValue=function(a,b){this._virtualizedRows&&null!=a.insertedIndex&&this._virtualizedRows.setRowSequenceGroupingValue(a,b)},d.prototype.getSettings=function(){return this._settings},d.prototype.getAllSectionValues=function(){if(this._source)return this._source.getAllSectionValues()},d.prototype.notifyParentElementWidthChange=function(){this._virtualizedRows&&this._virtualizedRows.parentElementWidthChanged()},d.prototype.destroy=function(){this._settings&&this._settings.destroy(),this._header&&this._header.destroy(),this._destroyVirtualRows(),this.element.parentElement&&this.element.parentElement.removeChild(this.element)},d.prototype._destroyVirtualRows=function(){this._virtualizedRows&&this._virtualizedRows.destroy(),this._virtualizedRows=null},d.prototype._setLoading=function(a){var b="mutable-invisible",c=Promise.resolve();return a?(this._loadingElement.classList.contains(b)&&(c=new Promise(function(a){var b=function(){this._loadingElement.removeEventListener("transitionend",b),a()}.bind(this);this._loadingElement.addEventListener("transitionend",b)}.bind(this))),this._loadingElement.classList.remove(b)):this._loadingElement.classList.add(b),"function"==typeof this._loadingCallback&&setTimeout(function(){this._loadingCallback(a)}.bind(this)),c},d.prototype._render=function(){this._settings&&this._source&&(this._destroyVirtualRows(),this._virtualizedRows=new h(this._tableContainerElement,this._header,this._source,this._settings,this._inline),this._virtualizedRows.setLoadCallback(this._setLoading.bind(this)),this._virtualizedRows.onSelectionChange(this._selectionChange.bind(this)),this._virtualizedRows.onDoubleClickRow(this._doubleClickRow.bind(this)),this._virtualizedRows.onRowContextMenu(this._rowContextMenu.bind(this)),this._header.setVirtualizedRows(this._virtualizedRows),this._settings.reordering?this.element.classList.add("reorderable-rows"):this.element.classList.remove("reorderable-rows"),this._settings.mobileLayout?this.element.classList.add("mobile-layout"):this.element.classList.remove("mobile-layout"),this._virtualizedRows.render())},d.prototype._selectionChange=function(a){"function"==typeof this._selectionChangeCallback&&setTimeout(function(){this._selectionChangeCallback(a)}.bind(this))},d.prototype._doubleClickRow=function(a){"function"==typeof this._doubleClickRowCallback&&setTimeout(function(){this._doubleClickRowCallback(a)}.bind(this))},d.prototype._rowContextMenu=function(a,b){"function"==typeof this._contextMenuCallback&&setTimeout(function(){this._contextMenuCallback(b)}.bind(this))},d.prototype._setupMouseUp=function(){this.element.addEventListener("mouseup",function(){this._header&&this._header.isResizing()?this._header.stopResizing():this._header&&this._header.isReordering()?this._header.stopReordering():this._virtualizedRows&&this._virtualizedRows.isReorderingRow()&&this._virtualizedRows.stopReorderingRow()}.bind(this))},d.prototype._setupMouseMove=function(){var a=50,b=20,c=50,d=50,e=20,f=50,g=function(a){var b=i.getElementOffset(this.element);return{top:a.pageY-b.top,left:a.pageX-b.left}}.bind(this);this.element.addEventListener("mousemove",function(h){var i,j;this._header&&this._header.isResizing()&&this._header.resizeFromMouseMove(h),this._header&&this._header.isReordering()?(this._header.reorderFromMouseMove(h),i=g(h),i.left<d?j=-e:this.element.clientWidth-i.left<=d&&(j=e),j!==this._horizontalScrollJump&&(clearInterval(this._horizontalScrollInterval),j&&(this._horizontalScrollInterval=setInterval(function(){this._tableContainerElement.scrollLeft+=j}.bind(this),f)),this._horizontalScrollJump=j)):clearInterval(this._horizontalScrollInterval),this._virtualizedRows&&this._virtualizedRows.isReorderingRow()?(this._virtualizedRows.reorderRowFromMouseMove(h),i=g(h),i.top-this._header.height<=a?j=-b:this.element.clientHeight-i.top<=a&&(j=b),j!==this._verticalScrollJump&&(clearInterval(this._verticalScrollInterval),j&&(this._verticalScrollInterval=setInterval(function(){this._tableContainerElement.scrollTop+=j}.bind(this),c)),this._verticalScrollJump=j)):clearInterval(this._verticalScrollInterval)}.bind(this))},d.prototype._setupKeyboardShortcuts=function(){var a=j.createShortcutChecker([j.SHORTCUTS.PREVIOUS,j.SHORTCUTS.NEXT,j.SHORTCUTS.SELECT_ALL],function(a,b){switch(a){case j.SHORTCUTS.PREVIOUS:this._virtualizedRows&&this._virtualizedRows.focusPreviousEntry();break;case j.SHORTCUTS.NEXT:this._virtualizedRows&&this._virtualizedRows.focusNextEntry();break;case j.SHORTCUTS.SELECT_ALL:this._virtualizedRows&&this._virtualizedRows.selectAllEntries()}b.preventDefault()}.bind(this)),b=j.createShortcutChecker([j.SHORTCUTS.SELECT],function(a,b){switch(a){case j.SHORTCUTS.SELECT:this._virtualizedRows&&this._virtualizedRows.selectFocusedEntry(b)}b.preventDefault()}.bind(this));this.element.addEventListener("keydown",a),this.element.addEventListener("keyup",b)},d.prototype._createElement=function(){var a="mutable";this._inline&&(a+=" inline"),this._tableContainerElement=i.elem("div",{className:"table-container"}),this._loadingElement=i.elem("div",{className:"loading-container flex-centered",innerHTML:'<f-icon class="fa-loading icon-xxl"></f-icon>'}),this.element=i.elem("div",{className:a,tabIndex:1},{children:[this._tableContainerElement,this._loadingElement]}),this._header=new g(this.element,this._tableContainerElement),this.element.appendChild(this._header.element),this.element.appendChild(this._tableContainerElement),this.element.appendChild(this._loadingElement),this._setupMouseMove(),this._setupMouseUp(),this._setupKeyboardShortcuts()},b.exports=window.MuTable=d},{"../dom":9,"../shortcuts":42,"./header":54,"./settings":64,"./source":66,"./virtualized-rows":70}],70:[function(a,b,c){"use strict";function d(a,b,c,d,e){this._element=a,this._header=b,this._source=c,this._settings=d,this._inline=e,this._element.innerHTML="",this._verticalScrollerElement=k.elem("div",{className:"vertical-scroller"}),this._horizontalScrollerElement=k.elem("div",{className:"horizontal-scroller"}),this._scrollerContainer=k.elem("div",{className:"scrollers"},{children:[this._verticalScrollerElement,this._horizontalScrollerElement]}),this._noResultsElement=k.elem("div",{className:"no-results flex-centered"},{children:[k.elem("span",{textContent:l.translate("No results")})]}),this._element.appendChild(this._scrollerContainer),this._loadCallback=null,this._displayHeight=null,this._displayWidth=null,this._parentTableElementWidth=null,this._needsDisplayCalculation=!0,this._displayBuffer=null,this._retrievedRows=null,this._addedRows=null,this._rowOffsets=null,this._focusedRow=null,this._sectionSettingsPopUp=null,this._selectionChangeCallback=null,this._doubleClickRowCallback=null,this._selectedRows=null,this._lastSelectIndex=null,this._targetColumnID=null,this._targetColumnValuePromise=null,this._targetColumnCell=null,this._rowContextMenuCallback=null,this._scrollListener=null,this._scrollDirectionDownwards=!0,this._resizeListener=null,this._renderInProgress=!1,this._renderWithoutChunking=!1,this._renderID=0,this._renderScrollTop=null,this._renderForceSetScrollTop=!1,this._renderScrollLeft=null,this._renderRowsRemoved=!1,this._renderCurrentIndex=null,this._renderStartIndex=null,this._renderEndIndex=null,this._renderStep=null,this._renderRowIDMap=null,this._visibleColumnsChanged=!1,this._updateCellsID=0,this._maxRenderChunkSize=null,this._headerRendered=!1,this._activeReorderingRow=null,this._destroyed=!1,this._source.onMouseEnterRow(this._mouseEnterRow.bind(this)),this._source.onMouseDownInsideRow(this._mouseDownRow.bind(this)),this._source.onClickRow(this._clickRow.bind(this)),this._source.onDoubleClickRow(this._doubleClickRow.bind(this)),this._source.onRowContextMenu(this._rowContextMenu.bind(this)),this._source.onToggleSection(this._toggleSection.bind(this)),this._source.onEntryUpdated(this._entryUpdated.bind(this)),this._source.onRowMasked(this._rowMasked.bind(this)),this._source.onSectionContextMenu(this._showSectionContextMenu.bind(this)),this._debouncedTriggerChunkAddedCallback=i.debounce(300,this._triggerChunkAddedCallback.bind(this)),this._inline||(this._calculateAbsoluteDisplayHeight(),this._listenOnWindowResize()),this._listenOnScroll()}var e=a("./section"),f=a("./section-settings-pop-up"),g=a("./sequence-grouping-operation"),h=a("./move-row-operation"),i=a("../util"),j=a("../log"),k=a("../dom"),l=a("../lang"),m=a("../notify"),n=a("../browser"),o=5,p=800,q=400,r=300,s=50,t="Your changes have been saved",u="Failed to save changes";d.prototype.setLoadCallback=function(a){this._loadCallback=a},d.prototype.onSelectionChange=function(a){this._selectionChangeCallback=a},d.prototype.onDoubleClickRow=function(a){this._doubleClickRowCallback=a},d.prototype.onRowContextMenu=function(a){this._rowContextMenuCallback=a},d.prototype.render=function(a){return a=a||{},a.columnsChanged&&(this._needsDisplayCalculation=!0,this._settings.resetVisibleColumns(),this._source.clearRenderedRowElementCache()),a.clearAllRowCache&&this._source.clearAllRowCache(),this._renderWithoutChunking=a.withouthChunking||!1,this._retrievedRows=null,this._rowOffsets=null,this._clearSelection(),this._notifySelectionChange(),this._scrollDirectionDownwards=!0,this._renderForScrollTop(a.keepScrollPosition?this._element.scrollTop:0,!0)},d.prototype.bestFitRendered=function(){return this._needsDisplayCalculation=!0,this._renderForScrollTop(this._element.scrollTop)},d.prototype.fitContentsForRenderedColumn=function(a){var b=0;this._addedRows.forEach(function(b){b instanceof e||b.prepareCellForMeasure(a)}),this._addedRows.forEach(function(c){var d;c instanceof e||(d=c.measureCell(a),d>b&&(b=d))}),a.setWidth(b),this._settings.updateColumnHeaderCellPositions(),this.calculateVisibleColumns(),this.updateVisibleRowCells()},d.prototype.parentElementWidthChanged=function(){var a,b;this._inline&&this._parentTableElementWidth&&(a=this._element.offsetWidth,b=this._element.parentElement.offsetWidth,b>a&&(this._parentTableElementWidth=b,this._needsDisplayCalculation=!0,this._renderForScrollTop(this._element.scrollTop)))},d.prototype.resizeColumnStart=function(a){this._resizeReorderStart(a,"resizing")},d.prototype.resizeColumnStop=function(a){this._resizeReorderStop(a,"resizing")},d.prototype.reorderColumnStart=function(a){this._resizeReorderStart(a,"reordering-column")},d.prototype.reorderColumnStop=function(a){this._resizeReorderStop(a,"reordering-column")},d.prototype.calculateVisibleColumns=function(){var a=this._settings.getActiveColumnsInOrder(),b=this._settings.getVisibleColumnsSet(),c=new Set,d=this._renderScrollLeft,e=d+this._displayWidth,f=0,g=!1,h=0;a.forEach(function(a){var i=a.getWidth(),j=f+i,k=b.has(a);f>=d&&f<=e||j>=d&&j<=e?(c.add(a),h++,k||(g=!0)):k&&(g=!0),f+=i}.bind(this)),this._settings.setVisibleColumnsSet(c),(this._needsDisplayCalculation||g)&&this._calculateMaxRenderChunkSize(h),this._visibleColumnsChanged=g},d.prototype.updateVisibleRowCells=function(){var a=this._renderID,b=++this._updateCellsID,c=0,d=function(){var e,f=0;if(a===this._renderID&&b===this._updateCellsID){for(e=window.performance.now();c<this._addedRows.length&&(this._needsDisplayCalculation||this._renderWithoutChunking||!this._visibleColumnsChanged||!(f>=this._maxRenderChunkSize||window.performance.now()-e>=o));)this._addedRows[c].updateCells(this._displayWidth),f++,c++;c<this._addedRows.length?requestAnimationFrame(d):this._visibleColumnsChanged=!1}}.bind(this);this._inline&&this._calculateAndApplyInlineDisplayWidth(),d()},d.prototype.focusPreviousEntry=function(){var a,b,c,d;if(this._focusedRow){for(d=0,a=this._focusedRow.insertedIndex-1;a>=0;a--)if(b=this._retrievedRows[a],d+=b.getHeight(),!(b instanceof e)){c=b;break}c&&(this._focusRow(c),this._rowOffsets[c.insertedIndex]<this._element.scrollTop&&(this._element.scrollTop-=d))}},d.prototype.focusNextEntry=function(){var a,b,c,d;if(this._focusedRow&&!this.isReorderingRow()){for(d=0,a=this._focusedRow.insertedIndex+1;a<this._retrievedRows.length;a++)if(b=this._retrievedRows[a],d+=b.getHeight(),!(b instanceof e)){c=b;break}c&&(this._focusRow(c),this._rowOffsets[c.insertedIndex]+c.getHeight()>this._element.scrollTop+this._displayHeight&&(this._element.scrollTop+=d))}},d.prototype.selectFocusedEntry=function(a){this._focusedRow&&this._clickRow(this._focusedRow,a)},d.prototype.selectAllEntries=function(){this._retrievedRows.forEach(function(a){this._selectRow(a,!0)}.bind(this)),this._notifySelectionChange()},d.prototype.clearSelectionAndNotify=function(){this._clearSelection(),this._notifySelectionChange()},d.prototype.isReorderingRow=function(){return!(!this._activeReorderingRow||this._activeReorderingRow.ending)},d.prototype.hasRowReorderingStarted=function(){return!(!this._activeReorderingRow||!this._activeReorderingRow.detached)},d.prototype.reorderRowFromMouseMove=function(a){var b,c,d,e,f=k.getElementOffset(this._element.parentElement),g=a.pageY-f.top+this._activeReorderingRow.mouseTopOffset;this._activeReorderingRow.detached?(b=k.getElementOffset(this._element),c=a.pageY-b.top+this._element.scrollTop+this._activeReorderingRow.mouseTopOffset,e=this._activeReorderingRow.row,d=e.insertedIndex,this._activeReorderingRow.topThreshold&&c<=this._activeReorderingRow.topThreshold?this._swapReorderingRow("up",c):this._activeReorderingRow.bottomThreshold&&c+e.getHeight()>=this._activeReorderingRow.bottomThreshold&&this._swapReorderingRow("down",c)):this._startDragToReorderRows(),this._activeReorderingRow.rowElement.style.top=g+"px"},d.prototype.stopReorderingRow=function(){var a,b,c,d,e,f;this._activeReorderingRow.detached&&(a=this._element.parentElement,c=this._activeReorderingRow.rowElement,b=this._activeReorderingRow.row,d=b.insertedIndex,e=this._activeReorderingRow.originalInsertedIndex,a.classList.remove("rows-reordering"),c.classList.remove("reordering-row"),c.style.top=this._rowOffsets[d]+"px",this._element.appendChild(c),e!==d&&(f=new h(this._settings,this._source,b,this._retrievedRows,e,d),f.execute().then(function(){this._settings.customSequenceGrouping?(this._source.filterAndSection(),this.render({clearAllRowCache:!0,keepScrollPosition:!0}).then(function(){m.post(l.translate(t),m.LEVEL.SUCCESS)})):m.post(l.translate(t),m.LEVEL.SUCCESS)}.bind(this),function(){var a=function(){this._source.filterAndSection(),this.render({clearAllRowCache:this._settings.customSequenceGrouping,keepScrollPosition:!0})}.bind(this);m.post(l.translate(u),m.LEVEL.ERROR),this._loadCallback(!0).then(function(){f.undo().then(a,a)}.bind(this))}.bind(this)))),this._activeReorderingRow.ending=!0,setTimeout(function(){this._activeReorderingRow=null}.bind(this))},d.prototype.setRowSequenceGroupingValue=function(a,b){var c,d,e=[];a.section&&(c=this._source.getRowsWithSameSequenceGroupingValue(a.section,a.sourceIndex+1),e=c.map(function(a){return new g(this._settings,a,null)}.bind(this)),a.section.firstRow===a&&(d=a.section.firstRow.getSequenceGroupingValue(),b&&this._settings.isSectionExpanded(d)&&this._settings.expandSectionAndPersist(b,!0),this._settings.expandSectionAndPersist(d,!1))),e.push(new g(this._settings,a,b)),this._loadCallback(!0).then(function(){Promise.all(e.map(function(a){return a.execute()})).then(function(){this._source.filterAndSection(),this.render({clearAllRowCache:!0,keepScrollPosition:!!b})}.bind(this),function(){this._loadCallback(!1)}.bind(this))}.bind(this))},d.prototype.destroy=function(){this._sectionSettingsPopUp&&this._sectionSettingsPopUp.destroy(),this._scrollListener&&this._element.removeEventListener("scroll",this._scrollListener),this._resizeListener&&window.removeEventListener("resize",this._resizeListener),this._destroyed=!0},d.prototype._resizeReorderStart=function(a,b){this._addedRows.forEach(function(c){var d;c instanceof e||(d=c.renderCell(a),d.classList.add(b))}.bind(this))},d.prototype._resizeReorderStop=function(a,b){this._addedRows.forEach(function(c){var d;c instanceof e||(d=c.renderCell(a),d.classList.remove(b))}.bind(this)),this._updateHorizontalScroller()},d.prototype._calculateDisplayBuffer=function(){var a=100,b=300,c=1/3;this._displayBuffer=Math.min(Math.max(a,Math.ceil(this._displayHeight*c)),b)},d.prototype._calculateAbsoluteDisplayHeight=function(){this._displayHeight=this._element.clientHeight,this._calculateDisplayBuffer()},d.prototype._calculateAbsoluteDisplayWidth=function(){this._displayWidth=this._element.clientWidth},d.prototype._updateDisplay=function(){this._calculateAbsoluteDisplayHeight(),this._needsDisplayCalculation=!0,this._settings.resetVisibleColumns(),this._renderForScrollTop(this._element.scrollTop)},d.prototype._listenOnScroll=function(){var a,b=!1,c=function(){this._scrollDirectionDownwards=a>=this._renderScrollTop,this._renderForScrollTop(a),a=null}.bind(this);this._scrollListener=function(){var d=this._element.scrollTop,e=this._element.scrollLeft;null!=a?a=d:Math.abs(d-this._renderScrollTop)>=this._displayBuffer&&(a=d,requestAnimationFrame(c)),e!==this._renderScrollLeft&&(this._renderScrollLeft=e,this.calculateVisibleColumns(),this._visibleColumnsChanged&&!b&&(requestAnimationFrame(function(){this.updateVisibleRowCells(),b=!1}.bind(this)),b=!0))}.bind(this),this._element.addEventListener("scroll",this._scrollListener)},d.prototype._listenOnWindowResize=function(){this._resizeListener=i.debounce(200,function(){this._updateDisplay()}.bind(this)),window.addEventListener("resize",this._resizeListener)},d.prototype._calculateOffsetsFromIndex=function(a,b){var c,d;for(b=b||this._retrievedRows.length-1,d=a>0?this._rowOffsets[a]:0,this._rowOffsets.length>this._retrievedRows.length&&(this._rowOffsets=this._rowOffsets.slice(0,a)),c=a;c<=b;c++)this._rowOffsets[c]=d,d+=this._retrievedRows[c].getHeight();this._updateVerticalScroller()},d.prototype._calculateRowOffsets=function(){var a;return a=this._rowOffsets?Promise.resolve():Promise.all(this._retrievedRows.map(function(a){return a.calculateHeight()})).then(function(){this._rowOffsets=[],this._calculateOffsetsFromIndex(0)}.bind(this))},d.prototype._calculateAndApplyInlineDisplayHeight=function(){this._displayHeight=Math.min(r,Math.max(s,this._getTotalRowHeight())),this._calculateDisplayBuffer(),this._element.style.height=this._displayHeight+"px"},d.prototype._calculateAndApplyInlineDisplayWidth=function(){this._displayWidth=Math.min(p,Math.max(q,this._settings.getTotalColumnWidthSum())),this._scrollbarWidth=this._element.offsetWidth-this._element.clientWidth,this._element.style.width=this._displayWidth+this._scrollbarWidth+"px"},d.prototype._getParentTableElementWidth=function(){return null==this._parentTableElementWidth&&(this._parentTableElementWidth=this._element.parentElement.clientWidth),this._parentTableElementWidth},d.prototype._expandColumnsToFillSpace=function(a,b){var c,d,e,f,g=b.reduce(function(a,b){return a+b},0),h=a-g;if(h>0)for(f=Array.from(Array(this._settings.activeColumns.length).keys()),e=Math.floor(h/f.length),c=0;c<f.length;c++)d=f[c],c===f.length-1?b[d]+=h:(b[d]+=e,h-=e);return b},d.prototype._measureAndSetColumnWidths=function(){var a,b,c,d,f=function(a,b){return a+b};c=this._inline?p:this._displayWidth,this._settings.prepareHeaderCellsForMeasure(),this._settings.measureAndSetHeaderCellWidths(),this._settings.prepareHeaderCellsForMinimumMeasure(),b=this._settings.getColumnWidths(),this._addedRows.forEach(function(a){a instanceof e||a.prepareForMeasure()}),this._settings.measureAndSetMinimumHeaderCellWidths(),this._addedRows.forEach(function(a){var c;a instanceof e||(c=a.measure(),c.forEach(function(a,c){a>b[c]&&(b[c]=a)}))}),this._settings.removeHeaderCellsMinimumMeasureClass(),a=b.reduce(f,0),a<c&&(this._inline?(d=Math.max(q,this._getParentTableElementWidth()),a<d&&this._expandColumnsToFillSpace(d,b)):this._expandColumnsToFillSpace(c,b)),this._settings.setColumnWidths(b),this._inline&&this._calculateAndApplyInlineDisplayWidth(),this.calculateVisibleColumns(),this.updateVisibleRowCells()},d.prototype._getTotalRowHeight=function(){var a,b=0;return this._retrievedRows.length&&(a=this._retrievedRows.length-1,b=this._rowOffsets[a]+this._retrievedRows[a].getHeight()),b},d.prototype._updateVerticalScroller=function(){this._verticalScrollerElement.style.height=this._getTotalRowHeight()+"px"},d.prototype._updateHorizontalScroller=function(){this._horizontalScrollerElement.style.width=this._settings.getTotalColumnWidthSum()+"px"},d.prototype._getFirstIndexForOffset=function(a){var b=i.binaryInsertIndex(this._rowOffsets,a,function(a,b){return a-b});return b>0&&this._rowOffsets[b]>a&&b--,b},d.prototype._addChunkedRows=function(a,b){var c=function(){var a=!1;return this._retrievedRows.length&&(a=this._renderStep>0?this._renderEndIndex-this._renderCurrentIndex>=0:this._renderEndIndex-this._renderCurrentIndex<=0),a}.bind(this),d=function(){var a,b,c,d,e,f=Array.from(this._element.children);if(!this._renderRowsRemoved){for(a=0;a<f.length;a++)b=f[a],b.classList.contains("row")&&(c=b.classList.contains("section")?b.getAttribute("section-id"):b.getAttribute("row-id"),d=this._renderRowIDMap.get(c),e=d&&d.getRendered(),d&&b===e||this._element.removeChild(b));this._renderRowsRemoved=!0}}.bind(this),f=function(){if(this._destroyed||this._renderID!==a)return void b();for(var d,g,h,i,j,k=document.createDocumentFragment(),l=window.performance.now(),m=0;c()&&(this._needsDisplayCalculation||this._renderWithoutChunking||!(m>=this._maxRenderChunkSize||window.performance.now()-l>=o));)d=this._retrievedRows[this._renderCurrentIndex],j=d instanceof e,g=d.render(this._displayWidth),h=this._rowOffsets[this._renderCurrentIndex],this._activeReorderingRow&&this._activeReorderingRow.row===d||(g.style.top=h+"px",g.setAttribute("inserted-index",this._renderCurrentIndex),d.isAddedToDOM()||k.appendChild(g),i||j||(i=d),this._addedRows.push(d)),j||d.setLocated(!1),this._renderCurrentIndex+=this._renderStep,m++;this._element.appendChild(k),n.isMobile()||!i||this._focusedRow&&this._focusedRow.isAddedToDOM()||this._focusRow(i),c()?requestAnimationFrame(f):this._debouncedTriggerChunkAddedCallback()}.bind(this),g=function(){this._needsDisplayCalculation&&(d(),this._inline||this._calculateAbsoluteDisplayWidth(),this._settings.mobileLayout?this._calculateMaxRenderChunkSize(this._settings.activeColumns.length):this._measureAndSetColumnWidths(),this._updateHorizontalScroller()),this._settings.mobileLayout||this._header.show(),this._loadCallback(!1),this._needsDisplayCalculation=!1,this._renderWithoutChunking=!1,this._renderInProgress=!1,this._renderForceSetScrollTop=!1,this._headerRendered=!0,b()}.bind(this);this._needsDisplayCalculation||d(),c()?(this._noResultsElement.parentElement&&this._element.removeChild(this._noResultsElement),f(),this._needsDisplayCalculation?Promise.all(Array.from(this._renderRowIDMap.values()).map(function(a){return a.getRenderCompletePromise()})).then(g):g()):(this._element.appendChild(this._noResultsElement),g())},d.prototype._chunkedRender=function(a,b){this._destroyed||(this._settings.mobileLayout||this._headerRendered&&!this._needsDisplayCalculation||this._header.render(),this._calculateRowOffsets().then(function(){var c,d,e,f,g,h,i=this._retrievedRows,j=this._source.getLocatedRow();this._inline&&this._needsDisplayCalculation&&this._calculateAndApplyInlineDisplayHeight(),j?(this._source.unsetLocatedRow(),g=this._rowOffsets[j.insertedIndex]-this._displayHeight/2+j.getHeight()/2,this._element.scrollTop=g,this._renderScrollTop=g):this._renderForceSetScrollTop&&(h=this._getTotalRowHeight(),this._renderScrollTop>=h&&(this._renderScrollTop=Math.max(h-this._displayHeight,0)),this._element.scrollTop=this._renderScrollTop),this._needsDisplayCalculation&&(this._element.scrollLeft=0,
this._renderScrollLeft=0);var k=this._renderScrollTop-this._displayBuffer,l=this._renderScrollTop+this._displayHeight+this._displayBuffer,m=this._getFirstIndexForOffset(k),n=m;if(this._renderRowIDMap=new Map,f=[],i.length)for(c=m,d=k;d<l&&c<i.length;)e=i[c],f.push(e),this._renderRowIDMap.set(e.id,e),d=this._rowOffsets[c],n=c++;this._scrollDirectionDownwards?(this._renderStartIndex=this._renderCurrentIndex=m,this._renderEndIndex=n,this._renderStep=1):(this._renderStartIndex=this._renderCurrentIndex=n,this._renderEndIndex=m,this._renderStep=-1),this._addedRows=[],this._activeReorderingRow&&this._addedRows.push(this._activeReorderingRow.row),this._addChunkedRows(a,b)}.bind(this)))},d.prototype._calculateMaxRenderChunkSize=function(a){var b=50,c=10,d=3,e=10,f=function(a){var f=(b-c)/(d-e);return Math.ceil(f*(a-d)+b)};this._maxRenderChunkSize=Math.min(Math.max(f(a),c),b)},d.prototype._renderForScrollTop=function(a,b){return new Promise(function(c,d){var e;this._renderInProgress?d("Render in progress"):(this._renderInProgress=!0,this._renderScrollTop=a,this._renderForceSetScrollTop=b||!1,this._renderRowsRemoved=!1,e=++this._renderID,this._retrievedRows?this._chunkedRender(e,c):this._loadCallback(!0).then(function(){this._source.getRows().then(function(a){this._destroyed||(this._retrievedRows=a,this._chunkedRender(e,c))}.bind(this))}.bind(this)),this._renderInProgress=!0)}.bind(this))},d.prototype._focusRow=function(a){this._focusedRow&&this._focusedRow.focus(!1),a.focus(!0),this._focusedRow=a},d.prototype._clearSelection=function(){this._selectedRows&&this._selectedRows.forEach(function(a){a.select(!1)}),this._selectedRows=new Set,this._lastSelectIndex=null},d.prototype._selectRow=function(a,b){a.select(b),!b||a instanceof e?this._selectedRows.delete(a):this._selectedRows.add(a),this._lastSelectIndex=a.insertedIndex},d.prototype._notifySelectionChange=function(){var a,b,c;"function"==typeof this._selectionChangeCallback&&(a=[],b=[],this._selectedRows.forEach(function(c){a.push(c.entry),b.push(c)}),null!=this._lastSelectIndex&&(c=this._retrievedRows[this._lastSelectIndex].entry),this._selectionChangeCallback({entries:a,lastSelectedEntry:c,rows:b,targetColumnID:this._targetColumnID,targetColumnValuePromise:this._targetColumnValuePromise,targetColumnCell:this._targetColumnCell}))},d.prototype._mouseEnterRow=function(a){this.isReorderingRow()||this._header.isResizing()||this._header.isReordering()||this._focusRow(a)},d.prototype._mouseDownRow=function(a,b){var c,d;!this._settings.reordering||!a.isReorderable()||this.isReorderingRow()||this._header.isResizing()||this._header.isReordering()||(c=this._getCellElementFromEvent(b),c&&c.classList.contains("first-cell")&&(d=k.getElementOffset(a.render()),this._activeReorderingRow={originalInsertedIndex:a.insertedIndex,row:a,mouseTopOffset:d.top-b.pageY}))},d.prototype._clickRow=function(a,b){var c,d,e=b&&b.shiftKey,f=b&&(b.ctrlKey||b.metaKey);if(!this.hasRowReorderingStarted()){if(f)this._selectRow(a,!this._selectedRows.has(a));else if(e&&null!=this._lastSelectIndex){if(d=this._lastSelectIndex,d<a.insertedIndex)for(this._clearSelection(),c=d;c<=a.insertedIndex;c++)this._selectRow(this._retrievedRows[c],!0);else if(d>a.insertedIndex)for(this._clearSelection(),c=a.insertedIndex;c<=d;c++)this._selectRow(this._retrievedRows[c],!0);this._lastSelectIndex=d,document.getSelection().removeAllRanges()}else this._clearSelection(),this._selectRow(a,!0);this._updateClickedColumn(a,b),this._notifySelectionChange()}},d.prototype._doubleClickRow=function(a){"function"==typeof this._doubleClickRowCallback&&this._doubleClickRowCallback(a)},d.prototype._rowContextMenu=function(a,b){this.isReorderingRow()&&this.stopReorderingRow(),this._selectedRows.has(a)||(this._clearSelection(),this._selectRow(a,!0)),this._updateClickedColumn(a,b),this._notifySelectionChange(),document.getSelection().removeAllRanges(),"function"==typeof this._rowContextMenuCallback&&this._rowContextMenuCallback(a,b)},d.prototype._getCellElementFromEvent=function(a){for(var b=a.target;b&&!i.elementMatchesSelector(b,".row-cell");)b=b.parentElement;return b},d.prototype._updateClickedColumn=function(a,b){var c,d=this._getCellElementFromEvent(b);d&&(c=d.getAttribute("column-id"),this._targetColumnID=c,this._targetColumnValuePromise=Promise.resolve(a.getCellValue(this._settings.columnsMap[c])),this._targetColumnCell=d)},d.prototype._entryUpdated=function(a){if(this._calculateOffsetsFromIndex(a.insertedIndex),this._addedRows.forEach(function(b){var c;b.insertedIndex>a.insertedIndex&&(c=this._rowOffsets[b.insertedIndex],b.render().style.top=c+"px")}.bind(this)),"function"==typeof this._settings.onChunkAdded)try{this._settings.onChunkAdded(this._element)}catch(a){j.error(a)}},d.prototype._rowMasked=function(a){this._selectRow(a,!1),this._focusedRow===a&&(a.focus(!1),this._focusedRow=null),this._notifySelectionChange()},d.prototype._toggleSection=function(){this.render({keepScrollPosition:!0,withouthChunking:!0})},d.prototype._showSectionContextMenu=function(a,b,c){this._sectionSettingsPopUp||(this._sectionSettingsPopUp=new f(this._settings,this._source),this._sectionSettingsPopUp.onCollapseAll(function(){this._source.collapseAllSections(),this.render()}.bind(this)),this._sectionSettingsPopUp.onExpandAll(function(){this._source.expandAllSections(),this.render()}.bind(this)),this._sectionSettingsPopUp.onRenameSequenceGrouping(function(a,b){this.setRowSequenceGroupingValue(a.firstRow,b)}.bind(this)),this._sectionSettingsPopUp.onDeleteSequenceGrouping(function(a){this.setRowSequenceGroupingValue(a.firstRow,null)}.bind(this))),this._sectionSettingsPopUp.showForSection(a,b,c)},d.prototype._triggerChunkAddedCallback=function(){"function"==typeof this._settings.onChunkAdded&&this._settings.onChunkAdded(this._element)},d.prototype._startDragToReorderRows=function(){var a=this._activeReorderingRow.row.render(),b=this._element.parentElement;b.classList.add("rows-reordering"),a.classList.add("reordering-row"),b.appendChild(a),Object.assign(this._activeReorderingRow,{detached:!0,rowElement:a}),this._updateReorderingRowThresholds()},d.prototype._canSwapReorderingRowWithIndex=function(a,b){var c,d=this._activeReorderingRow.originalInsertedIndex,f=this._retrievedRows[a],g=f instanceof e,h="up"===b?a-1:a+1,i=!1;return a===d||!g&&f.isReorderable()?i=!0:this._settings.customSequenceGrouping&&g&&h>=0&&h<this._retrievedRows.length&&(c=this._retrievedRows[h],c instanceof e||!c.isReorderable()||(i=!0)),i},d.prototype._updateReorderingRowThresholds=function(){var a,b,c,d=this._activeReorderingRow.row.insertedIndex;for(a=d-1;a>=0;){if(this._canSwapReorderingRowWithIndex(a,"up")){b=this._getTopReorderThreshold(a);break}if(!this._settings.customSequenceGrouping)break;a--}for(a=d+1;a<this._retrievedRows.length;){if(this._canSwapReorderingRowWithIndex(a,"down")){c=this._getBottomReorderThreshold(a);break}if(!this._settings.customSequenceGrouping)break;a++}this._activeReorderingRow.topThreshold=b,this._activeReorderingRow.bottomThreshold=c},d.prototype._isIndexSection=function(a){return this._retrievedRows[a]instanceof e},d.prototype._getTopReorderThreshold=function(a){var b=this._rowOffsets[a];return b+.4*this._retrievedRows[a].getHeight()},d.prototype._getBottomReorderThreshold=function(a){var b=this._rowOffsets[a];return b+.6*this._retrievedRows[a].getHeight()},d.prototype._swapReorderingRow=function(a,b){var c,d,e,f,g,h,i=this._activeReorderingRow.row,j=i.insertedIndex;if("up"===a)for(c=j;c>0&&b<=this._getTopReorderThreshold(c-1);)this._canSwapReorderingRowWithIndex(c-1,"up")&&(f=c-1),c--;else for(c=j;c<this._retrievedRows.length-1&&b+i.getHeight()>=this._getBottomReorderThreshold(c+1);)this._canSwapReorderingRowWithIndex(c+1,"down")&&(f=c+1),c++;if(j<=f)for(g=j,h=f,c=j+1;c<=f;c++)this._retrievedRows[c].insertedIndex--,this._retrievedRows[c-1]=this._retrievedRows[c];else for(g=f,h=j,c=j;c>f;c--)this._retrievedRows[c]=this._retrievedRows[c-1],this._retrievedRows[c].insertedIndex++;for(this._retrievedRows[f]=i,i.insertedIndex=f,this._calculateOffsetsFromIndex(g,h),c=g;c<=h;c++)d=this._rowOffsets[c],e=this._retrievedRows[c].render(),e.setAttribute("inserted-index",c),c!==f&&(e.style.top=d+"px");this._updateReorderingRowThresholds()},b.exports=d},{"../browser":4,"../dom":9,"../lang":23,"../log":24,"../notify":28,"../util":75,"./move-row-operation":55,"./section":62,"./section-settings-pop-up":61,"./sequence-grouping-operation":63}],71:[function(a,b,c){"use strict";b.exports=a("./tooltip")},{"./tooltip":74}],72:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){this.placementLocation=a,this.left=b,this.top=c,this._width=d,this._height=e,this._leftUnder=f.leftMin-b,this._leftOver=b+d-f.leftMax,this._topUnder=f.topMin-c,this._topOver=c+e-f.topMax,this._fallback=!1}var e=10;d.BUFFER=5,d.LOCATION={TOP_RIGHT:"topRight",BOTTOM_RIGHT:"bottomRight",BOTTOM_LEFT:"bottomLeft",TOP_LEFT:"topLeft"},d.createForLocation=function(a,b,c,e,f){var g,h;return a===d.LOCATION.TOP_RIGHT?(g=b.left,h=b.top-e):a===d.LOCATION.BOTTOM_RIGHT?(g=b.left,h=b.top):a===d.LOCATION.BOTTOM_LEFT?(g=b.left-c,h=b.top):(g=b.left-c,h=b.top-e),new d(a,g,h,c,e,f)},d.prototype.isValid=function(){return[this._leftUnder,this._leftOver,this._topUnder,this._topOver].every(function(a){return a<=0})},d.prototype.fallback=function(a){this._leftUnder>0?this.left+=this._leftUnder:this._leftOver>0&&(this.left-=this._leftOver),a&&(this._topUnder>0?this.top+=this._topUnder:this._topOver>0&&(this.top-=this._topOver)),this._fallback=!0},d.prototype.getTransitionMargin=function(){var a=0,b=[d.LOCATION.TOP_RIGHT,d.LOCATION.BOTTOM_RIGHT];return this._fallback||(a=b.indexOf(this.placementLocation)>=0?Math.min(e,Math.abs(this._leftOver)):-Math.min(e,Math.abs(this._leftUnder))),{left:a}},b.exports=d},{}],73:[function(a,b,c){"use strict";function d(a,b,c,d){this._type=a,this._fixed=b,this._document=c,this._container=d,this._trackingCursor=!1,this._cursorTrackingListener=null,this._pageX=null,this._pageY=null,this._element=null}var e=a("../dom"),f=a("./placement").LOCATION,g=10,h=10,i=5,j=[f.TOP_RIGHT,f.BOTTOM_RIGHT],k=[f.BOTTOM_LEFT,f.BOTTOM_RIGHT];d.TYPE={CURSOR:"cursor",ELEMENT:"element"},d.prototype.updateOptions=function(a,b){(a!==d.TYPE.CURSOR||b)&&this.stopCursorTracking(),this._type=a,this._fixed=b},d.prototype.setElement=function(a){this._element=a},d.prototype._getCursorPosition=function(a,b){var c,d;if(!this._pageX||!this._pageY)throw new Error('"pageX" or "pageY" not provided to show.');return c=j.indexOf(a)>=0?g:-g,d=k.indexOf(a)>=0?h:-h,{left:this._pageX-b.left+c,top:this._pageY-b.top+d}},d.prototype._getElementPosition=function(a,b){var c,d,f=e.getElementOffset(this._element);return c=j.indexOf(a)>=0?f.left-b.left+this._element.offsetWidth+i:f.left-b.left-i,d=k.indexOf(a)>=0?f.top-b.top+this._element.offsetHeight:f.top-b.top,{left:c,top:d}},d.prototype.getPosition=function(a){var b=e.getElementOffset(this._container);return this._type===d.TYPE.CURSOR?this._getCursorPosition(a,b):this._getElementPosition(a,b)},d.prototype.setStartingCursorPosition=function(a,b){this._pageX=a,this._pageY=b},d.prototype.startCursorTracking=function(a){this._type!==d.TYPE.CURSOR||this._fixed||this._trackingCursor||(this._trackingCursor=!0,this._cursorTrackingListener=function(b){this._pageX=b.pageX,this._pageY=b.pageY,a()}.bind(this),this._container.addEventListener("mousemove",this._cursorTrackingListener))},d.prototype.stopCursorTracking=function(){this._trackingCursor&&(this._container.removeEventListener("mousemove",this._cursorTrackingListener),this._trackingCursor=!1)},b.exports=d},{"../dom":9,"./placement":72}],74:[function(a,b,c){"use strict";function d(a,b,c){this._window=b||d.DEFAULT_TARGET_WINDOW,this._document=this._window.document,this._container=c||d.DEFAULT_CONTAINER||this._document.body,this._element=this._document.createElement("div"),this._element.classList.add("base-tooltip"),this._contentElement=this._document.createElement("div"),this._contentElement.classList.add("base-tooltip-content"),this._element.appendChild(this._contentElement),this._innerContentElement=this._document.createElement("div"),this._contentElement.appendChild(this._innerContentElement),this._footerElement=this._document.createElement("div"),this._footerElement.classList.add("base-tooltip-footer"),this._footerElement.innerHTML="<span>"+d.FOOTER_CLOSE_TEXT+"</span>",this._contentElement.appendChild(this._footerElement),this._addedToDOM=!1,this._id=e.uniqueID(),this.visible=!1,this._visibleSince=null,this._content=null,this._contentRendered=!1,this._showTimeout=null,this._hideTimeout=null,this._triggerElement=null,this._triggerElementEnterListener=null,this._triggerElementLeaveListener=null,this._triggerElementClickListener=null,this._containerScrollListener=null,this._onShowCallback=null,this._onHideCallback=null,this._transitionInProgress=!1,this._listeningOnScroll=!1,this._lastPlacementLocation=null,this._lastLeft=null,this._lastTop=null,this._target=null,this._cursorInsideContent=!1,this._maskInstance=null,this._showDelay=null,this._showDelayPeriod=null,this._transition=null,this._placementLocation=null,this._fixed=null,this._fixedPeriod=null,this._maxWidth=null,this._hideOnScroll=null,this._mask=null,this.setDisplayOptions(a),this._hide(),this._startContentHoverListener(),this._startContentTapListener(),this._startTransitionListener()}var e=a("../util"),f=a("../browser"),g=a("../mask"),h=a("./target"),i=a("./placement"),j="tooltip-id",k=200;d.DEFAULT_TARGET_WINDOW=window,d.DEFAULT_CONTAINER=null,d.FOOTER_CLOSE_TEXT="Tap to close",d.PLACEMENT_TYPE=h.TYPE,d.PLACEMENT_LOCATION=i.LOCATION,d.DEFAULT_DISPLAY_OPTIONS={allowVerticalAdjustment:!0,autoPositionUpdate:!0,class:null,fixed:!1,fixedPeriod:500,hideOnScroll:!0,mask:!1,maxWidth:600,padContent:!0,placementLocation:f.isMobile()?d.PLACEMENT_LOCATION.BOTTOM_RIGHT:d.PLACEMENT_LOCATION.TOP_RIGHT,placementLocationChangeOnceVisible:!0,placementType:d.PLACEMENT_TYPE.CURSOR,showDelay:!1,showDelayPeriod:500,transition:!0},d._ELEMENT_BASED_INSTANCES={},d.addToElement=function(a,b,c,e){var f,g,h=new d(c);return h.setContent(b),e||(f=a.getAttribute(j),f&&(g=d._ELEMENT_BASED_INSTANCES[f],g&&g.destroy()),d._ELEMENT_BASED_INSTANCES[h._id]=h),h.showOnElementHover(a),h},d.cleanupElementTooltips=function(){Object.keys(d._ELEMENT_BASED_INSTANCES).forEach(function(a){var b=d._ELEMENT_BASED_INSTANCES[a];b.destroy()})},d.prototype.setDisplayOptions=function(a){a=Object.assign({},d.DEFAULT_DISPLAY_OPTIONS,a);var b=f.isMobile()?d.PLACEMENT_TYPE.ELEMENT:a.placementType,c="base-tooltip-inner-content ";a.padContent&&(c+="padded "),a.class&&(c+=a.class),this._innerContentElement.className=c,this._showDelay=a.showDelay,this._showDelayPeriod=a.showDelayPeriod,this._transition=a.transition,this._placementLocation=a.placementLocation,this._fixed=a.fixed,this._fixedPeriod=a.fixedPeriod,this._maxWidth=a.maxWidth,this._hideOnScroll=a.hideOnScroll,this._allowVerticalAdjustment=a.allowVerticalAdjustment,this._autoPositionUpdate=a.autoPositionUpdate,this._placementLocationChangeOnceVisible=a.placementLocationChangeOnceVisible,this._mask=a.mask,this._maskClass=a.maskClass,this._target?this._target.updateOptions(b,this._fixed):this._target=new h(b,this._fixed,this._document,this._container),this._setupAutoPositionUpdate()},d.prototype.resetDisplayOptions=function(){this.setDisplayOptions()},d.prototype.setContent=function(a){!a||this._content&&a===this._content||(this._content=a,this._contentRendered=!1,this.visible&&this._show())},d.prototype.showOnElementHover=function(a){var b=a.getAttribute(j);if(b&&b!==this._id)throw new Error("Tooltip trigger element already referenced by another tooltip.");this._stopListeningOnTriggerElement(),this._triggerElement=a,this._target.setElement(a),f.isMobile()||(this._triggerElementEnterListener=function(a){this.show(null,a.pageX,a.pageY)}.bind(this),this._triggerElement.addEventListener("mouseenter",this._triggerElementEnterListener)),this._triggerElementLeaveListener=function(){this.hide()}.bind(this),this._triggerElement.addEventListener("mouseleave",this._triggerElementLeaveListener),this._triggerElementClickListener=function(b){if(!this._shouldIgnoreClickOnElement(a)){var c;this.visible?(c=(new Date).getTime(),c-this._visibleSince>k&&this.hide(!0)):this.show(null,b.pageX,b.pageY),b.preventDefault()}}.bind(this),this._triggerElement.addEventListener("click",this._triggerElementClickListener),f.isiOS()&&(this._triggerElement.style.cursor="pointer"),this._triggerElement.setAttribute(j,this._id)},d.prototype.onShow=function(a){this._onShowCallback=a},d.prototype.onHide=function(a){this._onHideCallback=a},d.prototype.show=function(a,b,c){this.setContent(a),b&&c&&this._target.setStartingCursorPosition(b,c),this._window.clearTimeout(this._showTimeout),this._window.clearTimeout(this._hideTimeout),this._target.startCursorTracking(function(){this.visible&&this._updatePosition()}.bind(this)),this._startContainerScrollListener(),this._showDelay&&!this.visible?this._showTimeout=this._window.setTimeout(function(){this._show()}.bind(this),this._showDelayPeriod):this._show()},d.prototype.hide=function(a){!a&&this._fixed&&this._fixedPeriod?this._hideTimeout=this._window.setTimeout(function(){this._fixed&&this._cursorInsideContent||this._hide()}.bind(this),this._fixedPeriod):this._hide()},d.prototype.destroy=function(){this._hide(!0),this._stopListeningOnTriggerElement(),this._stopAutoPositionUpdate()},d.prototype._shouldIgnoreClickOnElement=function(a){if(e.elementMatchesSelector(a,e.FOCUSABLE_SELECTOR))return!0;do{if(a.getAttribute("ng-click"))return!0;a=a.parentElement}while(a);return!1},d.prototype._hide=function(){this._removeFromDOM(),this._window.clearTimeout(this._showTimeout),this._window.clearTimeout(this._hideTimeout),this._target.stopCursorTracking(),this._stopContainerScrollListener(),this._hideMask(),this.visible&&"function"==typeof this._onHideCallback&&this._onHideCallback(),this._contentElement.classList.remove("with-transition"),this._transitionInProgress=!1,this._cursorInsideContent=!1,this.visible=!1},d.prototype._show=function(){var a=this.visible;if(!this._content)throw new Error("Content not set.");this._contentRendered||("string"==typeof this._content?this._innerContentElement.innerHTML=this._content:(this._innerContentElement.innerHTML="",this._innerContentElement.appendChild(this._content)),this._contentRendered=!0),this._addedToDOM||(this._container.appendChild(this._element),this._addedToDOM=!0),this._updatePosition(),this._showMask(),a||"function"!=typeof this._onShowCallback||this._onShowCallback()},d.prototype._removeFromDOM=function(){this._element.parentElement&&this._element.parentElement.removeChild(this._element),this._addedToDOM=!1},d.prototype._removeTooltipReference=function(){var a=this._triggerElement.getAttribute(j);a===this._id&&this._triggerElement.removeAttribute(j),delete d._ELEMENT_BASED_INSTANCES[this._id]},d.prototype._stopListeningOnTriggerElement=function(){this._triggerElement&&(this._triggerElement.removeEventListener("mouseenter",this._triggerElementEnterListener),this._triggerElement.removeEventListener("mouseleave",this._triggerElementLeaveListener),this._triggerElement.removeEventListener("click",this._triggerElementClickListener),this._removeTooltipReference()),this._triggerElement=null},d.prototype._applyTransition=function(a){var b=a.getTransitionMargin();this._contentElement.classList.remove("with-transition"),this._contentElement.style.opacity=0,this._contentElement.style["margin-left"]=b.left+"px",this._transitionInProgress=!0,this._window.setTimeout(function(){this._contentElement.classList.add("with-transition"),this._contentElement.style.opacity=1,this._contentElement.style["margin-left"]=null}.bind(this))},d.prototype._getPlacementLocationOrder=function(){var a;return this._placementLocation===i.LOCATION.TOP_RIGHT?(a=[i.LOCATION.TOP_RIGHT],this._allowVerticalAdjustment&&a.push(i.LOCATION.BOTTOM_RIGHT),a.push(i.LOCATION.TOP_LEFT),this._allowVerticalAdjustment&&a.push(i.LOCATION.BOTTOM_LEFT)):this._placementLocation===i.LOCATION.BOTTOM_RIGHT?(a=[i.LOCATION.BOTTOM_RIGHT],this._allowVerticalAdjustment&&a.push(i.LOCATION.TOP_RIGHT),a.push(i.LOCATION.BOTTOM_LEFT),this._allowVerticalAdjustment&&a.push(i.LOCATION.TOP_LEFT)):this._placementLocation===i.LOCATION.TOP_LEFT?(a=[i.LOCATION.TOP_LEFT],this._allowVerticalAdjustment&&a.push(i.LOCATION.BOTTOM_LEFT),a.push(i.LOCATION.TOP_RIGHT),this._allowVerticalAdjustment&&a.push(i.LOCATION.BOTTOM_RIGHT)):(a=[i.LOCATION.BOTTOM_LEFT],this._allowVerticalAdjustment&&a.push(i.LOCATION.TOP_LEFT),a.push(i.LOCATION.BOTTOM_RIGHT),this._allowVerticalAdjustment&&a.push(i.LOCATION.TOP_RIGHT)),a},d.prototype._updatePosition=function(a){var b,c,d,e,f,g,h,j=this._window.getComputedStyle(this._contentElement),k=parseInt(j["margin-left"],10),l=parseInt(j["margin-top"],10),m=Math.min(this._container.clientWidth-2*i.BUFFER,this._maxWidth),n=this._container.clientHeight-2*i.BUFFER,o={leftMin:i.BUFFER,leftMax:this._container.clientWidth-i.BUFFER,topMin:i.BUFFER,topMax:this._container.clientHeight-i.BUFFER},p={};if(this._element.classList.add("invisible"),this._element.style.top="0px",this._element.style.left="0px",c=this._element.clientWidth-k,d=this._element.clientHeight-l,this.visible&&!this._placementLocationChangeOnceVisible)e=this._lastPlacementLocation,f=new i(e,this._lastLeft,this._lastTop,c,d,o),f.isValid()||f.fallback(this._allowVerticalAdjustment);else{for(h=this._getPlacementLocationOrder(),b=0;b<h.length&&(e=h[b],f=p[e]=i.createForLocation(e,this._target.getPosition(e),c,d,o),!f.isValid());b++)f=null;f||(e=h[0],f=p[e],f.fallback(this._allowVerticalAdjustment))}g=!this.visible||e!==this._lastPlacementLocation||this._transitionInProgress&&a,this.visible||(this._visibleSince=(new Date).getTime()),this._element.style.left=f.left+"px",this._element.style.top=f.top+"px",this._element.classList.remove("invisible"),this._allowVerticalAdjustment?this._contentElement.style["max-height"]=n+"px":this._contentElement.style["max-height"]=n-f.top+i.BUFFER+"px",this._contentElement.style["max-width"]=m+"px",this.visible=!0,this._lastPlacementLocation=e,this._lastLeft=f.left,this._lastTop=f.top,this._transition&&g&&this._applyTransition(f)},d.prototype._startContentHoverListener=function(){this._contentElement.addEventListener("mouseenter",function(){this._fixed&&this._fixedPeriod&&(this._cursorInsideContent=!0,this._window.clearTimeout(this._hideTimeout))}.bind(this)),this._contentElement.addEventListener("mouseleave",function(){this._fixed&&this._fixedPeriod&&(this._cursorInsideContent=!1,this.hide())}.bind(this))},d.prototype._startContentTapListener=function(){f.isMobile()&&this._contentElement.addEventListener("touchstart",function(a){this.visible&&(a.preventDefault(),this.hide(!0))}.bind(this))},d.prototype._setupAutoPositionUpdate=function(){var a=function(a){return a.target!==this._contentElement||"childList"===a.type}.bind(this);this._autoPositionUpdate?this._observer||(this._observer=new MutationObserver(function(b){this.visible&&b.some(a)&&this._updatePosition(!0)}.bind(this)),this._observer.observe(this._contentElement,{childList:!0,attributes:!0,subtree:!0})):this._stopAutoPositionUpdate()},d.prototype._stopAutoPositionUpdate=function(){this._observer&&this._observer.disconnect()},d.prototype._startTransitionListener=function(){this._contentElement.addEventListener("transitionend",function(){this._transitionInProgress=!1}.bind(this))},d.prototype._startContainerScrollListener=function(){!this._listeningOnScroll&&this._hideOnScroll&&(this._containerScrollListener=function(a){var b=a.target,c=!1;if(this.visible){for(;b;){if(b===this._element){c=!0;break}b=b.parentElement}c||this.hide(!0)}}.bind(this),this._container.addEventListener("scroll",this._containerScrollListener,!0),this._listeningOnScroll=!0)},d.prototype._stopContainerScrollListener=function(){this._listeningOnScroll&&(this._container.removeEventListener("scroll",this._containerScrollListener),this._listeningOnScroll=!1)},d.prototype._showMask=function(){var a;this._mask&&(this._maskInstance||(a="tooltip-mask","string"==typeof this._maskClass&&(a+=" "+this._maskClass),this._maskInstance=new g(a,this._container)),this._maskInstance.displayAndListen(this._id,function(){this.hide()}.bind(this)))},d.prototype._hideMask=function(){this._maskInstance&&this._maskInstance.hide(this._id)},b.exports=d,window.Tooltip=d},{"../browser":4,"../mask":26,"../util":75,"./placement":72,"./target":73}],75:[function(a,b,c){"use strict";var d={};d.FOCUSABLE_SELECTOR=['a[href]:not([tabindex="-1"])','area[href]:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])','[contentEditable=true]:not([tabindex="-1"])',"input[type=radio]:not(.bare)+label"].join(",");var e=/^[\w\-.\s]*$/;d.fastLocaleCompare=function(a,b){return e.test(a)&&e.test(b)?(a=a.toLowerCase(),b=b.toLowerCase(),a>b?1:a===b?0:-1):a.localeCompare(b,void 0,{sensitivity:"base"})},d.uniqueID=function(){return"_"+Math.random().toString(36).substr(2,9)},d.debounce=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){b.apply(d,e)},a)}},d.getOrigin=function(a){a=a||window;var b=a.location,c="*";return a.frameElement&&a.frameElement.srcdoc||(c=b.origin||b.protocol+"//"+b.host),c},d.isTrustedOrigin=function(a){var b=!0,c=d.getOrigin();return"*"!==c&&(b=a===c),b},d.getComputedStyle=function(a){var b=a.ownerDocument.defaultView;return b&&b.opener||(b=window),b.getComputedStyle(a)},d.elementIsFlex=function(a){return/flex/.test(d.getComputedStyle(a).display)};var f=/[-\/\\^$*+?.()|[\]{}]/g;d.preRegexEscape=function(a){return a.replace(f,"\\$&")},d.elementMatchesSelector=function(a,b){var c,d,e=["matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"];for(c=0;c<e.length;c++)if(d=a[e[c]],"function"==typeof d)return d.call(a,b);throw new Error("Browser doesn't support selector matching")},d.binaryInsertIndex=function(a,b,c){var d,e,f,g,h=a.length;if(0===h)return 0;for(f=0,g=h-1;;){if(e=Math.ceil((f+g)/2),d=c(a[e],b),0===d)return e;if(d<0){if(f=e+1,f>g)return e+1}else if(g=e-1,f>g)return e}},b.exports=d},{}]},{},[1])(1)}),b.exports}),function(a){"use strict";a.BUILD={CONFIG:{CONFIG_BUILD_NUMBER:1575,CONFIG_GUI_NO:"30cf633bfb2210af603f817d96aeaf32",CONFIG_HYPERVISOR:!0,CONFIG_MAJOR_NUM:5,CONFIG_MINOR_NUM:6,CONFIG_MODEL_LEVEL:"HIG",CONFIG_PATCH_NUM:4,CONFIG_SQL_LOG:!0},PLATFORM:{ABBREV:"FGVMK6",CONFIG_BUILD_LABEL:"GA",CONFIG_USER_DISK:!0,GUI_SHOW_ADMIN_CONCURRENT:!0,GUI_SHOW_FORTICLOUD_ACTIVATE_LOG_OPTION:!0,GUI_SHOW_LOG_TRAFFIC_START:!0,GUI_SHOW_MGMT_VDOM_SYNC:!0,GUI_SHOW_VDOM_WHEN_DISABLED:1,HAVE_CAPWAP_AC:!0,HAVE_FORTIVIEW_COUNTRIES:1,HAVE_HA:!0,HAVE_LOCAL_REV_CONTROL:!0,HAVE_PACKET_CAPTURE:!0,HAVE_SSH_PROXY:1,HAVE_SSL_ACCEL:1,HAVE_USB:!0,IFACE_NAME_EXT:"port2"},SYMBOLS:{ADMIN_ROOT_PROFILE:"prof_admin",APS_FGFM_CONN_ST_UP:2,APS_FGFM_REG_ST_REGISTERED:2,CFG_ER_ENTRY_EXISTS:-5,CFG_OK:0,CL_CAT_OFF_UNRATED:0,CSR_OU_CNT_MAX:5,CSR_OU_NAME_LEN:64,CW_FWF_MESH_INTF:"wl.mesh",DEFAULT_RMSG_GROUP_NAME:"default",DMGMT_VF_NAME:"dmgmt-vdom",FIELD_TYPE_DATE:3,FIELD_TYPE_DATE_TIME:10,FIELD_TYPE_ENUM:12,FIELD_TYPE_EXPIRY:8,FIELD_TYPE_INTEGER:1,FIELD_TYPE_IP_HOST:4,FIELD_TYPE_IP_PORT_RANGE:11,FIELD_TYPE_IP_RANGE:5,FIELD_TYPE_POLICY_ID:7,FIELD_TYPE_PORT:6,FIELD_TYPE_PROTOCOL:9,FIELD_TYPE_STRING:0,FIELD_TYPE_TIME:2,FIPS_MIN_PASSWD_LEN:8,FORTIPRESENCE_MAX_SECRET_LEN:16,FSAE_GUEST_GROUP_NAME:"SSO_Guest_Users",FTK_SN_PREFIX:"FTK",FTM_SN_PREFIX:"FTKMOB",HA_AA:1,HA_ADMIN_ACC_PROFILE:"FGT_ha_acc_profile",HA_AP:2,HA_STANDALONE:0,IPS_ATTR_APP:2,IPS_ATTR_APP_CAT:6,IPS_ATTR_APP_SUB_CAT:7,IPS_ATTR_BEHAVIOR:10,IPS_ATTR_ID_ALL:-1,IPS_ATTR_ID_MAX:64,IPS_ATTR_LOCATION:5,IPS_ATTR_MAX:11,IPS_ATTR_NONE:0,IPS_ATTR_OS:1,IPS_ATTR_PROTOCOL:3,IPS_ATTR_SEVERITY:4,IPS_ATTR_TECHNOLOGY:9,IPS_ATTR_VENDOR:8,LDB_SVR_MAX_MONITORS:5,LICENSE_STATUS_CLOUD_CONFIRM_EMAIL:"cloud_confirm_email",LICENSE_STATUS_CLOUD_ERROR:"cloud_error",LICENSE_STATUS_CLOUD_LOGGED_IN:"cloud_logged_in",LICENSE_STATUS_CLOUD_LOGGED_OUT:"cloud_logged_out",LICENSE_STATUS_CLOUD_LOGIN_IN_PROGRESS:"cloud_login_in_progress",LICENSE_STATUS_DB_TYPE_EXTENDED:"db_type_extended",LICENSE_STATUS_DB_TYPE_EXTREME:"db_type_extreme",LICENSE_STATUS_DB_TYPE_NORMAL:"db_type_normal",LICENSE_STATUS_EXPIRED:"expired",LICENSE_STATUS_EXPIRES_SOON:"expires_soon",LICENSE_STATUS_FREE_LICENSE:"free_license",LICENSE_STATUS_FREE_LICENSE_EXHAUSTED:"free_license_exhausted",LICENSE_STATUS_LICENSED:"licensed",LICENSE_STATUS_LICENSED_EXHAUSTED:"licensed_exhausted",LICENSE_STATUS_NOT_REGISTERED:"not_registered",LICENSE_STATUS_NO_LICENSE:"no_license",LICENSE_STATUS_NO_SUPPORT:"no_support",LICENSE_STATUS_PENDING:"pending",LICENSE_STATUS_REGISTERED:"registered",LICENSE_STATUS_SANDBOX_DISABLED:"sandbox_disabled",LICENSE_STATUS_SANDBOX_ENABLED:"sandbox_enabled",LICENSE_STATUS_SANDBOX_REACHABLE:"sandbox_reachable",LICENSE_STATUS_SANDBOX_TYPE_APPLIANCE:"sandbox_type_appliance",LICENSE_STATUS_SANDBOX_TYPE_CLOUD:"sandbox_type_cloud",LICENSE_STATUS_SANDBOX_UNREACHABLE:"sandbox_unreachable",LICENSE_STATUS_UNAVAILABLE:"unavailable",LICENSE_STATUS_VM_ERROR:"vm_error",LICENSE_STATUS_VM_EVAL:"vm_eval",LICENSE_STATUS_VM_EXPIRED:"vm_expired",LICENSE_STATUS_VM_INVALID:"vm_invalid",LICENSE_STATUS_VM_INVALID_COPY:"vm_invalid_copy",LICENSE_STATUS_VM_STARTUP:"vm_startup",LICENSE_STATUS_VM_VALID:"vm_valid",LICENSE_STATUS_VM_WAIT_AUTH:"vm_wait_auth",LOCAL_FSSO_CLIENT:"Local FSSO Agent",LOG_FIELD_FCLD_FILTER:4,LOG_FIELD_GUI_DEFAULT:1,LOG_PRESENT_DEVICE_FAZ:2,LOG_PRESENT_DEVICE_FDS:4,LOG_SUBTYPE_EVENT_DSSCC:9,LOG_SUBTYPE_EVENT_ENDPOINT:7,LOG_SUBTYPE_EVENT_HA:8,LOG_SUBTYPE_EVENT_ROUTER:3,LOG_SUBTYPE_EVENT_SECURITY_AUDIT:10,LOG_SUBTYPE_EVENT_SYSTEM:0,LOG_SUBTYPE_EVENT_USER:2,LOG_SUBTYPE_EVENT_VPN:1,LOG_SUBTYPE_EVENT_WAD:5,LOG_SUBTYPE_EVENT_WIRELESS:4,MIN_CLEAR_PASSWORD_LEN:1,OBJECT_AVATAR_MAX_SIZE:4096,POE_STATUS_DELIVERING_POWER:"delivering_power",POE_STATUS_DISABLED:"disabled",POE_STATUS_FAULT:"fault",POE_STATUS_OTHERFAULT:"otherfault",POE_STATUS_REQ_POWER:"req_power",POE_STATUS_SEARCHING:"searching",POE_STATUS_TESTMODE:"testmode",POE_STATUS_UNKNOWN:"unknown",PORT_POWER_STATUS_DELIVERING_POWER:2,PORT_POWER_STATUS_DISABLED:0,PORT_POWER_STATUS_FAULT:4,PORT_POWER_STATUS_OTHERFAULT:5,PORT_POWER_STATUS_REQ_POWER:6,PORT_POWER_STATUS_SEARCHING:1,PORT_POWER_STATUS_TESTMODE:3,ROOT_VF_NAME:"root",RPT_SB_STATUS_NONE:-4,SDNC_SVR_PORT_DEFAULT:5671,SDNC_UPDATE_INTERVAL_DEFAULT:60,SSLVPN_ACTION_LOGINHISTORY:2,SSLVPN_ACTION_SAVE_CUSTOM_LANG:3,SSLVPN_ACTION_STATUS:1,SSLVPN_TUN_IPv4_ADDR_NAME:"SSLVPN_TUNNEL_ADDR1",SSLVPN_TUN_IPv6_ADDR_NAME:"SSLVPN_TUNNEL_IPv6_ADDR1",SUPER_ADMIN_PROFILE:"super_admin",VMMODEL_04:8,WIRELESS_MODE_CLIENT:2,WIRELESS_MODE_NORMAL:0,WIRELESS_MODE_WTP:1}},a.CONFIG_GUI_NO=a.BUILD.CONFIG.CONFIG_GUI_NO,a.DEBUG=a.BUILD.CONFIG.CONFIG_DEBUG}(window.fweb=window.fweb||{}),fweb_define("jquery",[],null,function(){var a=void 0;if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(b,c){function d(a){var b=!!a&&"length"in a&&a.length,c=oa.type(a);return"function"!==c&&!oa.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a,b,c){if(oa.isFunction(b))return oa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return oa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ya.test(b))return oa.filter(b,a,c);b=oa.filter(b,a)}return oa.grep(a,function(a){return oa.inArray(a,b)>-1!==c})}function f(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function g(a){var b={};return oa.each(a.match(Ea)||[],function(a,c){b[c]=!0}),b}function h(){
ea.addEventListener?(ea.removeEventListener("DOMContentLoaded",i),b.removeEventListener("load",i)):(ea.detachEvent("onreadystatechange",i),b.detachEvent("onload",i))}function i(){(ea.addEventListener||"load"===b.event.type||"complete"===ea.readyState)&&(h(),oa.ready())}function j(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Ja,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ia.test(c)?oa.parseJSON(c):c)}catch(a){}oa.data(a,b,c)}else c=void 0}return c}function k(a){var b;for(b in a)if(("data"!==b||!oa.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function l(a,b,c,d){if(Ha(a)){var e,f,g=oa.expando,h=a.nodeType,i=h?oa.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=da.pop()||oa.guid++:g),i[j]||(i[j]=h?{}:{toJSON:oa.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=oa.extend(i[j],b):i[j].data=oa.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[oa.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[oa.camelCase(b)])):e=f,e}}function m(a,b,c){if(Ha(a)){var d,e,f=a.nodeType,g=f?oa.cache:a,h=f?a[oa.expando]:oa.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){oa.isArray(b)?b=b.concat(oa.map(b,oa.camelCase)):b in d?b=[b]:(b=oa.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!k(d):!oa.isEmptyObject(d))return}(c||(delete g[h].data,k(g[h])))&&(f?oa.cleanData([a],!0):ma.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}function n(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return oa.css(a,b,"")},i=h(),j=c&&c[3]||(oa.cssNumber[b]?"":"px"),k=(oa.cssNumber[b]||"px"!==j&&+i)&&La.exec(oa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,oa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function o(a){var b=Ta.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function p(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||oa.nodeName(d,b)?f.push(d):oa.merge(f,p(d,b));return void 0===b||b&&oa.nodeName(a,b)?oa.merge([a],f):f}function q(a,b){for(var c,d=0;null!=(c=a[d]);d++)oa._data(c,"globalEval",!b||oa._data(b[d],"globalEval"))}function r(a){Pa.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b,c,d,e){for(var f,g,h,i,j,k,l,m=a.length,n=o(b),s=[],t=0;t<m;t++)if(g=a[t],g||0===g)if("object"===oa.type(g))oa.merge(s,g.nodeType?[g]:g);else if(Va.test(g)){for(i=i||n.appendChild(b.createElement("div")),j=(Qa.exec(g)||["",""])[1].toLowerCase(),l=Ua[j]||Ua._default,i.innerHTML=l[1]+oa.htmlPrefilter(g)+l[2],f=l[0];f--;)i=i.lastChild;if(!ma.leadingWhitespace&&Sa.test(g)&&s.push(b.createTextNode(Sa.exec(g)[0])),!ma.tbody)for(g="table"!==j||Wa.test(g)?"<table>"!==l[1]||Wa.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;f--;)oa.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k);for(oa.merge(s,i.childNodes),i.textContent="";i.firstChild;)i.removeChild(i.firstChild);i=n.lastChild}else s.push(b.createTextNode(g));for(i&&n.removeChild(i),ma.appendChecked||oa.grep(p(s,"input"),r),t=0;g=s[t++];)if(d&&oa.inArray(g,d)>-1)e&&e.push(g);else if(h=oa.contains(g.ownerDocument,g),i=p(n.appendChild(g),"script"),h&&q(i),c)for(f=0;g=i[f++];)Ra.test(g.type||"")&&c.push(g);return i=null,n}function t(){return!0}function u(){return!1}function v(){try{return ea.activeElement}catch(a){}}function w(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)w(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=u;else if(!e)return a;return 1===f&&(g=e,e=function(a){return oa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=oa.guid++)),a.each(function(){oa.event.add(this,b,e,d,c)})}function x(a,b){return oa.nodeName(a,"table")&&oa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){return a.type=(null!==oa.find.attr(a,"type"))+"/"+a.type,a}function z(a){var b=fb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function A(a,b){if(1===b.nodeType&&oa.hasData(a)){var c,d,e,f=oa._data(a),g=oa._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)oa.event.add(b,c,h[c][d])}g.data&&(g.data=oa.extend({},g.data))}}function B(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ma.noCloneEvent&&b[oa.expando]){e=oa._data(b);for(d in e.events)oa.removeEvent(b,d,e.handle);b.removeAttribute(oa.expando)}"script"===c&&b.text!==a.text?(y(b).text=a.text,z(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ma.html5Clone&&a.innerHTML&&!oa.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Pa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function C(a,b,c,d){b=ga.apply([],b);var e,f,g,h,i,j,k=0,l=a.length,m=l-1,n=b[0],o=oa.isFunction(n);if(o||l>1&&"string"==typeof n&&!ma.checkClone&&eb.test(n))return a.each(function(e){var f=a.eq(e);o&&(b[0]=n.call(this,e,f.html())),C(f,b,c,d)});if(l&&(j=s(b,a[0].ownerDocument,!1,a,d),e=j.firstChild,1===j.childNodes.length&&(j=e),e||d)){for(h=oa.map(p(j,"script"),y),g=h.length;k<l;k++)f=j,k!==m&&(f=oa.clone(f,!0,!0),g&&oa.merge(h,p(f,"script"))),c.call(a[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,oa.map(h,z),k=0;k<g;k++)f=h[k],Ra.test(f.type||"")&&!oa._data(f,"globalEval")&&oa.contains(i,f)&&(f.src?oa._evalUrl&&oa._evalUrl(f.src):oa.globalEval((f.text||f.textContent||f.innerHTML||"").replace(gb,"")));j=e=null}return a}function D(a,b,c){for(var d,e=b?oa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||oa.cleanData(p(d)),d.parentNode&&(c&&oa.contains(d.ownerDocument,d)&&q(p(d,"script")),d.parentNode.removeChild(d));return a}function E(a,b){var c=oa(b.createElement(a)).appendTo(b.body),d=oa.css(c[0],"display");return c.detach(),d}function F(a){var b=ea,c=kb[a];return c||(c=E(a,b),"none"!==c&&c||(jb=(jb||oa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(jb[0].contentWindow||jb[0].contentDocument).document,b.write(),b.close(),c=E(a,b),jb.detach()),kb[a]=c),c}function G(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function H(a){if(a in zb)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),c=yb.length;c--;)if(a=yb[c]+b,a in zb)return a}function I(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=oa._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Na(d)&&(f[g]=oa._data(d,"olddisplay",F(d.nodeName)))):(e=Na(d),(c&&"none"!==c||!e)&&oa._data(d,"olddisplay",e?c:oa.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function J(a,b,c){var d=vb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function K(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=oa.css(a,c+Ma[f],!0,e)),d?("content"===c&&(g-=oa.css(a,"padding"+Ma[f],!0,e)),"margin"!==c&&(g-=oa.css(a,"border"+Ma[f]+"Width",!0,e))):(g+=oa.css(a,"padding"+Ma[f],!0,e),"padding"!==c&&(g+=oa.css(a,"border"+Ma[f]+"Width",!0,e)));return g}function L(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=pb(a),g=ma.boxSizing&&"border-box"===oa.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=qb(a,b,f),(e<0||null==e)&&(e=a.style[b]),mb.test(e))return e;d=g&&(ma.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+K(a,b,c||(g?"border":"content"),d,f)+"px"}function M(a,b,c,d,e){return new M.prototype.init(a,b,c,d,e)}function N(){return b.setTimeout(function(){Ab=void 0}),Ab=oa.now()}function O(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=Ma[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function P(a,b,c){for(var d,e=(S.tweeners[b]||[]).concat(S.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function Q(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Na(a),p=oa._data(a,"fxshow");c.queue||(h=oa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,oa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=oa.css(a,"display"),k="none"===j?oa._data(a,"olddisplay")||F(a.nodeName):j,"inline"===k&&"none"===oa.css(a,"float")&&(ma.inlineBlockNeedsLayout&&"inline"!==F(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ma.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Cb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||oa.style(a,d)}else j=void 0;if(oa.isEmptyObject(m))"inline"===("none"===j?F(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=oa._data(a,"fxshow",{}),f&&(p.hidden=!o),o?oa(a).show():l.done(function(){oa(a).hide()}),l.done(function(){var b;oa._removeData(a,"fxshow");for(b in m)oa.style(a,b,m[b])});for(d in m)g=P(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b){var c,d,e,f,g;for(c in a)if(d=oa.camelCase(c),e=b[d],f=a[c],oa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=oa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function S(a,b,c){var d,e,f=0,g=S.prefilters.length,h=oa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ab||N(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:oa.extend({},b),opts:oa.extend(!0,{specialEasing:{},easing:oa.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ab||N(),duration:c.duration,tweens:[],createTween:function(b,c){var d=oa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(R(k,j.opts.specialEasing);f<g;f++)if(d=S.prefilters[f].call(j,a,k,j.opts))return oa.isFunction(d.stop)&&(oa._queueHooks(j.elem,j.opts.queue).stop=oa.proxy(d.stop,d)),d;return oa.map(k,P,j),oa.isFunction(j.opts.start)&&j.opts.start.call(a,j),oa.fx.timer(oa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function T(a){return oa.attr(a,"class")||""}function U(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Ea)||[];if(oa.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function V(a,b,c,d){function e(h){var i;return f[h]=!0,oa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===_b;return e(b.dataTypes[0])||!f["*"]&&e("*")}function W(a,b){var c,d,e=oa.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&oa.extend(!0,a,c),a}function X(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Y(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Z(a){return a.style&&a.style.display||oa.css(a,"display")}function $(a){if(!oa.contains(a.ownerDocument||ea,a))return!0;for(;a&&1===a.nodeType;){if("none"===Z(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}function _(a,b,c,d){var e;if(oa.isArray(b))oa.each(b,function(b,e){c||ec.test(a)?d(a,e):_(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==oa.type(b))d(a,b);else for(e in b)_(a+"["+e+"]",b[e],c,d)}function aa(){try{return new b.XMLHttpRequest}catch(a){}}function ba(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function ca(a){return oa.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var da=[],ea=b.document,fa=da.slice,ga=da.concat,ha=da.push,ia=da.indexOf,ja={},ka=ja.toString,la=ja.hasOwnProperty,ma={},na="1.12.4",oa=function(a,b){return new oa.fn.init(a,b)},pa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,qa=/^-ms-/,ra=/-([\da-z])/gi,sa=function(a,b){return b.toUpperCase()};oa.fn=oa.prototype={jquery:na,constructor:oa,selector:"",length:0,toArray:function(){return fa.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:fa.call(this)},pushStack:function(a){var b=oa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return oa.each(this,a)},map:function(a){return this.pushStack(oa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ha,sort:da.sort,splice:da.splice},oa.extend=oa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||oa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(oa.isPlainObject(c)||(b=oa.isArray(c)))?(b?(b=!1,f=a&&oa.isArray(a)?a:[]):f=a&&oa.isPlainObject(a)?a:{},g[d]=oa.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},oa.extend({expando:"jQuery"+(na+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===oa.type(a)},isArray:Array.isArray||function(a){return"array"===oa.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!oa.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==oa.type(a)||a.nodeType||oa.isWindow(a))return!1;try{if(a.constructor&&!la.call(a,"constructor")&&!la.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(!ma.ownFirst)for(b in a)return la.call(a,b);for(b in a);return void 0===b||la.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ja[ka.call(a)]||"object":typeof a},globalEval:function(a){a&&oa.trim(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(qa,"ms-").replace(ra,sa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,e=0;if(d(a))for(c=a.length;e<c&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(pa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?oa.merge(c,"string"==typeof a?[a]:a):ha.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(ia)return ia.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var e,f,g=0,h=[];if(d(a))for(e=a.length;g<e;g++)f=b(a[g],g,c),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,c),null!=f&&h.push(f);return ga.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),oa.isFunction(a))return c=fa.call(arguments,2),d=function(){return a.apply(b||this,c.concat(fa.call(arguments)))},d.guid=a.guid=a.guid||oa.guid++,d},now:function(){return+new Date},support:ma}),"function"==typeof Symbol&&(oa.fn[Symbol.iterator]=da[Symbol.iterator]),oa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ja["[object "+b+"]"]=b.toLowerCase()});var ta=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(a){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f));
}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(b);oa.find=ta,oa.expr=ta.selectors,oa.expr[":"]=oa.expr.pseudos,oa.uniqueSort=oa.unique=ta.uniqueSort,oa.text=ta.getText,oa.isXMLDoc=ta.isXML,oa.contains=ta.contains;var ua=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&oa(a).is(c))break;d.push(a)}return d},va=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},wa=oa.expr.match.needsContext,xa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ya=/^.[^:#\[\.,]*$/;oa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?oa.find.matchesSelector(d,a)?[d]:[]:oa.find.matches(a,oa.grep(b,function(a){return 1===a.nodeType}))},oa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(oa(a).filter(function(){for(b=0;b<e;b++)if(oa.contains(d[b],this))return!0}));for(b=0;b<e;b++)oa.find(a,d[b],c);return c=this.pushStack(e>1?oa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&wa.test(a)?oa(a):a||[],!1).length}});var za,Aa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ba=oa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||za,"string"==typeof a){if(d="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:Aa.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof oa?b[0]:b,oa.merge(this,oa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ea,!0)),xa.test(d[1])&&oa.isPlainObject(b))for(d in b)oa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}if(e=ea.getElementById(d[2]),e&&e.parentNode){if(e.id!==d[2])return za.find(a);this.length=1,this[0]=e}return this.context=ea,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):oa.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(oa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),oa.makeArray(a,this))};Ba.prototype=oa.fn,za=oa(ea);var Ca=/^(?:parents|prev(?:Until|All))/,Da={children:!0,contents:!0,next:!0,prev:!0};oa.fn.extend({has:function(a){var b,c=oa(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(oa.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=wa.test(a)||"string"!=typeof a?oa(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&oa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?oa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?oa.inArray(this[0],oa(a)):oa.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(oa.uniqueSort(oa.merge(this.get(),oa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),oa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ua(a,"parentNode")},parentsUntil:function(a,b,c){return ua(a,"parentNode",c)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return ua(a,"nextSibling")},prevAll:function(a){return ua(a,"previousSibling")},nextUntil:function(a,b,c){return ua(a,"nextSibling",c)},prevUntil:function(a,b,c){return ua(a,"previousSibling",c)},siblings:function(a){return va((a.parentNode||{}).firstChild,a)},children:function(a){return va(a.firstChild)},contents:function(a){return oa.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:oa.merge([],a.childNodes)}},function(a,b){oa.fn[a]=function(c,d){var e=oa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=oa.filter(d,e)),this.length>1&&(Da[a]||(e=oa.uniqueSort(e)),Ca.test(a)&&(e=e.reverse())),this.pushStack(e)}});var Ea=/\S+/g;oa.Callbacks=function(a){a="string"==typeof a?g(a):oa.extend({},a);var b,c,d,e,f=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<f.length;)f[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,h.push(c)),function b(c){oa.each(c,function(c,d){oa.isFunction(d)?a.unique&&k.has(d)||f.push(d):d&&d.length&&"string"!==oa.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return oa.each(arguments,function(a,b){for(var c;(c=oa.inArray(b,f,c))>-1;)f.splice(c,1),c<=i&&i--}),this},has:function(a){return a?oa.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=h=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=!0,c||k.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},oa.extend({Deferred:function(a){var b=[["resolve","done",oa.Callbacks("once memory"),"resolved"],["reject","fail",oa.Callbacks("once memory"),"rejected"],["notify","progress",oa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return oa.Deferred(function(c){oa.each(b,function(b,f){var g=oa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&oa.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?oa.extend(a,d):d}},e={};return d.pipe=d.then,oa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fa.call(arguments),g=f.length,h=1!==g||a&&oa.isFunction(a.promise)?g:0,i=1===h?a:oa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&oa.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var Fa;oa.fn.ready=function(a){return oa.ready.promise().done(a),this},oa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?oa.readyWait++:oa.ready(!0)},ready:function(a){(a===!0?--oa.readyWait:oa.isReady)||(oa.isReady=!0,a!==!0&&--oa.readyWait>0||(Fa.resolveWith(ea,[oa]),oa.fn.triggerHandler&&(oa(ea).triggerHandler("ready"),oa(ea).off("ready"))))}}),oa.ready.promise=function(a){if(!Fa)if(Fa=oa.Deferred(),"complete"===ea.readyState||"loading"!==ea.readyState&&!ea.documentElement.doScroll)b.setTimeout(oa.ready);else if(ea.addEventListener)ea.addEventListener("DOMContentLoaded",i),b.addEventListener("load",i);else{ea.attachEvent("onreadystatechange",i),b.attachEvent("onload",i);var c=!1;try{c=null==b.frameElement&&ea.documentElement}catch(a){}c&&c.doScroll&&!function a(){if(!oa.isReady){try{c.doScroll("left")}catch(c){return b.setTimeout(a,50)}h(),oa.ready()}}()}return Fa.promise(a)},oa.ready.promise();var Ga;for(Ga in oa(ma))break;ma.ownFirst="0"===Ga,ma.inlineBlockNeedsLayout=!1,oa(function(){var a,b,c,d;c=ea.getElementsByTagName("body")[0],c&&c.style&&(b=ea.createElement("div"),d=ea.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ma.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=ea.createElement("div");ma.deleteExpando=!0;try{delete a.test}catch(a){ma.deleteExpando=!1}a=null}();var Ha=function(a){var b=oa.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||b!==!0&&a.getAttribute("classid")===b)},Ia=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ja=/([A-Z])/g;oa.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?oa.cache[a[oa.expando]]:a[oa.expando],!!a&&!k(a)},data:function(a,b,c){return l(a,b,c)},removeData:function(a,b){return m(a,b)},_data:function(a,b,c){return l(a,b,c,!0)},_removeData:function(a,b){return m(a,b,!0)}}),oa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=oa.data(f),1===f.nodeType&&!oa._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=oa.camelCase(d.slice(5)),j(f,d,e[d])));oa._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){oa.data(this,a)}):arguments.length>1?this.each(function(){oa.data(this,a,b)}):f?j(f,a,oa.data(f,a)):void 0},removeData:function(a){return this.each(function(){oa.removeData(this,a)})}}),oa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=oa._data(a,b),c&&(!d||oa.isArray(c)?d=oa._data(a,b,oa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=oa.queue(a,b),d=c.length,e=c.shift(),f=oa._queueHooks(a,b),g=function(){oa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return oa._data(a,c)||oa._data(a,c,{empty:oa.Callbacks("once memory").add(function(){oa._removeData(a,b+"queue"),oa._removeData(a,c)})})}}),oa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?oa.queue(this[0],a):void 0===b?this:this.each(function(){var c=oa.queue(this,a,b);oa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&oa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){oa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=oa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=oa._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;ma.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=ea.getElementsByTagName("body")[0],c&&c.style?(b=ea.createElement("div"),d=ea.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(ea.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ka=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,La=new RegExp("^(?:([+-])=|)("+Ka+")([a-z%]*)$","i"),Ma=["Top","Right","Bottom","Left"],Na=function(a,b){return a=b||a,"none"===oa.css(a,"display")||!oa.contains(a.ownerDocument,a)},Oa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===oa.type(c)){e=!0;for(h in c)Oa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,oa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(oa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Pa=/^(?:checkbox|radio)$/i,Qa=/<([\w:-]+)/,Ra=/^$|\/(?:java|ecma)script/i,Sa=/^\s+/,Ta="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var a=ea.createElement("div"),b=ea.createDocumentFragment(),c=ea.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ma.leadingWhitespace=3===a.firstChild.nodeType,ma.tbody=!a.getElementsByTagName("tbody").length,ma.htmlSerialize=!!a.getElementsByTagName("link").length,ma.html5Clone="<:nav></:nav>"!==ea.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),ma.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",ma.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=ea.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),ma.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,ma.noCloneEvent=!!a.addEventListener,a[oa.expando]=1,ma.attributes=!a.getAttribute(oa.expando)}();var Ua={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ma.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ua.optgroup=Ua.option,Ua.tbody=Ua.tfoot=Ua.colgroup=Ua.caption=Ua.thead,Ua.th=Ua.td;var Va=/<|&#?\w+;/,Wa=/<tbody/i;!function(){var a,c,d=ea.createElement("div");for(a in{submit:!0,change:!0,focusin:!0})c="on"+a,(ma[a]=c in b)||(d.setAttribute(c,"t"),ma[a]=d.attributes[c].expando===!1);d=null}();var Xa=/^(?:input|select|textarea)$/i,Ya=/^key/,Za=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$a=/^(?:focusinfocus|focusoutblur)$/,_a=/^([^.]*)(?:\.(.+)|)/;oa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=oa._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=oa.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return"undefined"==typeof oa||a&&oa.event.triggered===a.type?void 0:oa.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(Ea)||[""],h=b.length;h--;)f=_a.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=oa.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=oa.event.special[n]||{},l=oa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&oa.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),oa.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=oa.hasData(a)&&oa._data(a);if(q&&(k=q.events)){for(b=(b||"").match(Ea)||[""],j=b.length;j--;)if(h=_a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=oa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||oa.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)oa.event.remove(a,n+b[j],c,d,!0);oa.isEmptyObject(k)&&(delete q.handle,oa._removeData(a,"events"))}},trigger:function(a,c,d,e){var f,g,h,i,j,k,l,m=[d||ea],n=la.call(a,"type")?a.type:a,o=la.call(a,"namespace")?a.namespace.split("."):[];if(h=k=d=d||ea,3!==d.nodeType&&8!==d.nodeType&&!$a.test(n+oa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,a=a[oa.expando]?a:new oa.Event(n,"object"==typeof a&&a),a.isTrigger=e?2:3,a.namespace=o.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),c=null==c?[a]:oa.makeArray(c,[a]),j=oa.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!oa.isWindow(d)){for(i=j.delegateType||n,$a.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||ea)&&m.push(k.defaultView||k.parentWindow||b)}for(l=0;(h=m[l++])&&!a.isPropagationStopped();)a.type=l>1?i:j.bindType||n,f=(oa._data(h,"events")||{})[a.type]&&oa._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&Ha(h)&&(a.result=f.apply(h,c),a.result===!1&&a.preventDefault());if(a.type=n,!e&&!a.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&Ha(d)&&g&&d[n]&&!oa.isWindow(d)){k=d[g],k&&(d[g]=null),oa.event.triggered=n;try{d[n]()}catch(a){}oa.event.triggered=void 0,k&&(d[g]=k)}return a.result}},dispatch:function(a){a=oa.event.fix(a);var b,c,d,e,f,g=[],h=fa.call(arguments),i=(oa._data(this,"events")||{})[a.type]||[],j=oa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=oa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((oa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?oa(e,this).index(i)>-1:oa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[oa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Za.test(e)?this.mouseHooks:Ya.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new oa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||ea),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||ea,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==v()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===v()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(oa.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return oa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=oa.extend(new oa.Event,c,{type:a,isSimulated:!0});oa.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},oa.removeEvent=ea.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},oa.Event=function(a,b){return this instanceof oa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?t:u):this.type=a,b&&oa.extend(this,b),this.timeStamp=a&&a.timeStamp||oa.now(),void(this[oa.expando]=!0)):new oa.Event(a,b)},oa.Event.prototype={constructor:oa.Event,isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=t,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=t,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=t,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},oa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){oa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||oa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ma.submit||(oa.event.special.submit={setup:function(){return!oa.nodeName(this,"form")&&void oa.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=oa.nodeName(b,"input")||oa.nodeName(b,"button")?oa.prop(b,"form"):void 0;c&&!oa._data(c,"submit")&&(oa.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),oa._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&oa.event.simulate("submit",this.parentNode,a))},teardown:function(){return!oa.nodeName(this,"form")&&void oa.event.remove(this,"._submit")}}),ma.change||(oa.event.special.change={setup:function(){return Xa.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(oa.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),oa.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),oa.event.simulate("change",this,a)})),!1):void oa.event.add(this,"beforeactivate._change",function(a){var b=a.target;Xa.test(b.nodeName)&&!oa._data(b,"change")&&(oa.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||oa.event.simulate("change",this.parentNode,a)}),oa._data(b,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return oa.event.remove(this,"._change"),!Xa.test(this.nodeName)}}),ma.focusin||oa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){oa.event.simulate(b,a.target,oa.event.fix(a))};oa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=oa._data(d,b);e||d.addEventListener(a,c,!0),oa._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=oa._data(d,b)-1;e?oa._data(d,b,e):(d.removeEventListener(a,c,!0),oa._removeData(d,b))}}}),oa.fn.extend({on:function(a,b,c,d){return w(this,a,b,c,d)},one:function(a,b,c,d){return w(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,oa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=u),this.each(function(){oa.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){oa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return oa.event.trigger(a,b,c,!0)}});var ab=/ jQuery\d+="(?:null|\d+)"/g,bb=new RegExp("<(?:"+Ta+")[\\s/>]","i"),cb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,db=/<script|<style|<link/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^true\/(.*)/,gb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,hb=o(ea),ib=hb.appendChild(ea.createElement("div"));oa.extend({htmlPrefilter:function(a){return a.replace(cb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=oa.contains(a.ownerDocument,a);if(ma.html5Clone||oa.isXMLDoc(a)||!bb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(f=ib.firstChild)),!(ma.noCloneEvent&&ma.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||oa.isXMLDoc(a)))for(d=p(f),h=p(a),g=0;null!=(e=h[g]);++g)d[g]&&B(e,d[g]);if(b)if(c)for(h=h||p(a),d=d||p(f),g=0;null!=(e=h[g]);g++)A(e,d[g]);else A(a,f);return d=p(f,"script"),d.length>0&&q(d,!i&&p(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var c,d,e,f,g=0,h=oa.expando,i=oa.cache,j=ma.attributes,k=oa.event.special;null!=(c=a[g]);g++)if((b||Ha(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?oa.event.remove(c,d):oa.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j||"undefined"==typeof c.removeAttribute?c[h]=void 0:c.removeAttribute(h),da.push(e))}}}),oa.fn.extend({domManip:C,detach:function(a){return D(this,a,!0)},remove:function(a){return D(this,a)},text:function(a){return Oa(this,function(a){return void 0===a?oa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ea).createTextNode(a))},null,a,arguments.length)},append:function(){return C(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=x(this,a);b.appendChild(a)}})},prepend:function(){return C(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=x(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return C(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return C(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&oa.cleanData(p(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&oa.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return oa.clone(this,a,b)})},html:function(a){return Oa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ab,""):void 0;if("string"==typeof a&&!db.test(a)&&(ma.htmlSerialize||!bb.test(a))&&(ma.leadingWhitespace||!Sa.test(a))&&!Ua[(Qa.exec(a)||["",""])[1].toLowerCase()]){a=oa.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(oa.cleanData(p(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return C(this,arguments,function(b){var c=this.parentNode;oa.inArray(this,a)<0&&(oa.cleanData(p(this)),c&&c.replaceChild(b,this))},a)}}),oa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){oa.fn[a]=function(a){for(var c,d=0,e=[],f=oa(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),oa(f[d])[b](c),ha.apply(e,c.get());return this.pushStack(e)}});var jb,kb={HTML:"block",BODY:"block"},lb=/^margin/,mb=new RegExp("^("+Ka+")(?!px)[a-z%]+$","i"),nb=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},ob=ea.documentElement;!function(){function a(){var a,k,l=ea.documentElement;l.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c=e=h=!1,d=g=!0,b.getComputedStyle&&(k=b.getComputedStyle(j),c="1%"!==(k||{}).top,h="2px"===(k||{}).marginLeft,e="4px"===(k||{
width:"4px"}).width,j.style.marginRight="50%",d="4px"===(k||{marginRight:"4px"}).marginRight,a=j.appendChild(ea.createElement("div")),a.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",j.style.width="1px",g=!parseFloat((b.getComputedStyle(a)||{}).marginRight),j.removeChild(a)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",a=j.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===a[0].offsetHeight,f&&(a[0].style.display="",a[1].style.display="none",f=0===a[0].offsetHeight)),l.removeChild(i)}var c,d,e,f,g,h,i=ea.createElement("div"),j=ea.createElement("div");j.style&&(j.style.cssText="float:left;opacity:.5",ma.opacity="0.5"===j.style.opacity,ma.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",ma.clearCloneStyle="content-box"===j.style.backgroundClip,i=ea.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),ma.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,oa.extend(ma,{reliableHiddenOffsets:function(){return null==c&&a(),f},boxSizingReliable:function(){return null==c&&a(),e},pixelMarginRight:function(){return null==c&&a(),d},pixelPosition:function(){return null==c&&a(),c},reliableMarginRight:function(){return null==c&&a(),g},reliableMarginLeft:function(){return null==c&&a(),h}}))}();var pb,qb,rb=/^(top|right|bottom|left)$/;b.getComputedStyle?(pb=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=b),c.getComputedStyle(a)},qb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||pb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||oa.contains(a.ownerDocument,a)||(g=oa.style(a,b)),c&&!ma.pixelMarginRight()&&mb.test(g)&&lb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):ob.currentStyle&&(pb=function(a){return a.currentStyle},qb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||pb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),mb.test(g)&&!rb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});var sb=/alpha\([^)]*\)/i,tb=/opacity\s*=\s*([^)]*)/i,ub=/^(none|table(?!-c[ea]).+)/,vb=new RegExp("^("+Ka+")(.*)$","i"),wb={position:"absolute",visibility:"hidden",display:"block"},xb={letterSpacing:"0",fontWeight:"400"},yb=["Webkit","O","Moz","ms"],zb=ea.createElement("div").style;oa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=qb(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ma.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=oa.camelCase(b),i=a.style;if(b=oa.cssProps[h]||(oa.cssProps[h]=H(h)||h),g=oa.cssHooks[b]||oa.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=La.exec(c))&&e[1]&&(c=n(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(oa.cssNumber[h]?"":"px")),ma.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(a){}}},css:function(a,b,c,d){var e,f,g,h=oa.camelCase(b);return b=oa.cssProps[h]||(oa.cssProps[h]=H(h)||h),g=oa.cssHooks[b]||oa.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=qb(a,b,d)),"normal"===f&&b in xb&&(f=xb[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),oa.each(["height","width"],function(a,b){oa.cssHooks[b]={get:function(a,c,d){if(c)return ub.test(oa.css(a,"display"))&&0===a.offsetWidth?nb(a,wb,function(){return L(a,b,d)}):L(a,b,d)},set:function(a,c,d){var e=d&&pb(a);return J(a,c,d?K(a,b,d,ma.boxSizing&&"border-box"===oa.css(a,"boxSizing",!1,e),e):0)}}}),ma.opacity||(oa.cssHooks.opacity={get:function(a,b){return tb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=oa.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===oa.trim(f.replace(sb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=sb.test(f)?f.replace(sb,e):f+" "+e)}}),oa.cssHooks.marginRight=G(ma.reliableMarginRight,function(a,b){if(b)return nb(a,{display:"inline-block"},qb,[a,"marginRight"])}),oa.cssHooks.marginLeft=G(ma.reliableMarginLeft,function(a,b){if(b)return(parseFloat(qb(a,"marginLeft"))||(oa.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-nb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"}),oa.each({margin:"",padding:"",border:"Width"},function(a,b){oa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ma[d]+b]=f[d]||f[d-2]||f[0];return e}},lb.test(a)||(oa.cssHooks[a+b].set=J)}),oa.fn.extend({css:function(a,b){return Oa(this,function(a,b,c){var d,e,f={},g=0;if(oa.isArray(b)){for(d=pb(a),e=b.length;g<e;g++)f[b[g]]=oa.css(a,b[g],!1,d);return f}return void 0!==c?oa.style(a,b,c):oa.css(a,b)},a,b,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Na(this)?oa(this).show():oa(this).hide()})}}),oa.Tween=M,M.prototype={constructor:M,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||oa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(oa.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.options.duration?this.pos=b=oa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=oa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){oa.fx.step[a.prop]?oa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[oa.cssProps[a.prop]]&&!oa.cssHooks[a.prop]?a.elem[a.prop]=a.now:oa.style(a.elem,a.prop,a.now+a.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},oa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},oa.fx=M.prototype.init,oa.fx.step={};var Ab,Bb,Cb=/^(?:toggle|show|hide)$/,Db=/queueHooks$/;oa.Animation=oa.extend(S,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return n(c.elem,a,La.exec(b),c),c}]},tweener:function(a,b){oa.isFunction(a)?(b=a,a=["*"]):a=a.match(Ea);for(var c,d=0,e=a.length;d<e;d++)c=a[d],S.tweeners[c]=S.tweeners[c]||[],S.tweeners[c].unshift(b)},prefilters:[Q],prefilter:function(a,b){b?S.prefilters.unshift(a):S.prefilters.push(a)}}),oa.speed=function(a,b,c){var d=a&&"object"==typeof a?oa.extend({},a):{complete:c||!c&&b||oa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!oa.isFunction(b)&&b};return d.duration=oa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in oa.fx.speeds?oa.fx.speeds[d.duration]:oa.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){oa.isFunction(d.old)&&d.old.call(this),d.queue&&oa.dequeue(this,d.queue)},d},oa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Na).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=oa.isEmptyObject(a),f=oa.speed(b,c,d),g=function(){var b=S(this,oa.extend({},a),f);(e||oa._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=oa.timers,g=oa._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||oa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=oa._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=oa.timers,g=d?d.length:0;for(c.finish=!0,oa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),oa.each(["toggle","show","hide"],function(a,b){var c=oa.fn[b];oa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(O(b,!0),a,d,e)}}),oa.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){oa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),oa.timers=[],oa.fx.tick=function(){var a,b=oa.timers,c=0;for(Ab=oa.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||oa.fx.stop(),Ab=void 0},oa.fx.timer=function(a){oa.timers.push(a),a()?oa.fx.start():oa.timers.pop()},oa.fx.interval=13,oa.fx.start=function(){Bb||(Bb=b.setInterval(oa.fx.tick,oa.fx.interval))},oa.fx.stop=function(){b.clearInterval(Bb),Bb=null},oa.fx.speeds={slow:600,fast:200,_default:400},oa.fn.delay=function(a,c){return a=oa.fx?oa.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,d){var e=b.setTimeout(c,a);d.stop=function(){b.clearTimeout(e)}})},function(){var a,b=ea.createElement("input"),c=ea.createElement("div"),d=ea.createElement("select"),e=d.appendChild(ea.createElement("option"));c=ea.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",ma.getSetAttribute="t"!==c.className,ma.style=/top/.test(a.getAttribute("style")),ma.hrefNormalized="/a"===a.getAttribute("href"),ma.checkOn=!!b.value,ma.optSelected=e.selected,ma.enctype=!!ea.createElement("form").enctype,d.disabled=!0,ma.optDisabled=!e.disabled,b=ea.createElement("input"),b.setAttribute("value",""),ma.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),ma.radioValue="t"===b.value}();var Eb=/\r/g,Fb=/[\x20\t\r\n\f]+/g;oa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=oa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,oa(this).val()):a,null==e?e="":"number"==typeof e?e+="":oa.isArray(e)&&(e=oa.map(e,function(a){return null==a?"":a+""})),b=oa.valHooks[this.type]||oa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=oa.valHooks[e.type]||oa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Eb,""):null==c?"":c)}}}),oa.extend({valHooks:{option:{get:function(a){var b=oa.find.attr(a,"value");return null!=b?b:oa.trim(oa.text(a)).replace(Fb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(ma.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!oa.nodeName(c.parentNode,"optgroup"))){if(b=oa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=oa.makeArray(b),g=e.length;g--;)if(d=e[g],oa.inArray(oa.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(a){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),oa.each(["radio","checkbox"],function(){oa.valHooks[this]={set:function(a,b){if(oa.isArray(b))return a.checked=oa.inArray(oa(a).val(),b)>-1}},ma.checkOn||(oa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Gb,Hb,Ib=oa.expr.attrHandle,Jb=/^(?:checked|selected)$/i,Kb=ma.getSetAttribute,Lb=ma.input;oa.fn.extend({attr:function(a,b){return Oa(this,oa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){oa.removeAttr(this,a)})}}),oa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?oa.prop(a,b,c):(1===f&&oa.isXMLDoc(a)||(b=b.toLowerCase(),e=oa.attrHooks[b]||(oa.expr.match.bool.test(b)?Hb:Gb)),void 0!==c?null===c?void oa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=oa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!ma.radioValue&&"radio"===b&&oa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(Ea);if(f&&1===a.nodeType)for(;c=f[e++];)d=oa.propFix[c]||c,oa.expr.match.bool.test(c)?Lb&&Kb||!Jb.test(c)?a[d]=!1:a[oa.camelCase("default-"+c)]=a[d]=!1:oa.attr(a,c,""),a.removeAttribute(Kb?c:d)}}),Hb={set:function(a,b,c){return b===!1?oa.removeAttr(a,c):Lb&&Kb||!Jb.test(c)?a.setAttribute(!Kb&&oa.propFix[c]||c,c):a[oa.camelCase("default-"+c)]=a[c]=!0,c}},oa.each(oa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Ib[b]||oa.find.attr;Lb&&Kb||!Jb.test(b)?Ib[b]=function(a,b,d){var e,f;return d||(f=Ib[b],Ib[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,Ib[b]=f),e}:Ib[b]=function(a,b,c){if(!c)return a[oa.camelCase("default-"+b)]?b.toLowerCase():null}}),Lb&&Kb||(oa.attrHooks.value={set:function(a,b,c){return oa.nodeName(a,"input")?void(a.defaultValue=b):Gb&&Gb.set(a,b,c)}}),Kb||(Gb={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},Ib.id=Ib.name=Ib.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},oa.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:Gb.set},oa.attrHooks.contenteditable={set:function(a,b,c){Gb.set(a,""!==b&&b,c)}},oa.each(["width","height"],function(a,b){oa.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),ma.style||(oa.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Mb=/^(?:input|select|textarea|button|object)$/i,Nb=/^(?:a|area)$/i;oa.fn.extend({prop:function(a,b){return Oa(this,oa.prop,a,b,arguments.length>1)},removeProp:function(a){return a=oa.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(a){}})}}),oa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&oa.isXMLDoc(a)||(b=oa.propFix[b]||b,e=oa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=oa.find.attr(a,"tabindex");return b?parseInt(b,10):Mb.test(a.nodeName)||Nb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ma.hrefNormalized||oa.each(["href","src"],function(a,b){oa.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ma.optSelected||(oa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),oa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oa.propFix[this.toLowerCase()]=this}),ma.enctype||(oa.propFix.enctype="encoding");var Ob=/[\t\r\n\f]/g;oa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(oa.isFunction(a))return this.each(function(b){oa(this).addClass(a.call(this,b,T(this)))});if("string"==typeof a&&a)for(b=a.match(Ea)||[];c=this[i++];)if(e=T(c),d=1===c.nodeType&&(" "+e+" ").replace(Ob," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=oa.trim(d),e!==h&&oa.attr(c,"class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(oa.isFunction(a))return this.each(function(b){oa(this).removeClass(a.call(this,b,T(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Ea)||[];c=this[i++];)if(e=T(c),d=1===c.nodeType&&(" "+e+" ").replace(Ob," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=oa.trim(d),e!==h&&oa.attr(c,"class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):oa.isFunction(a)?this.each(function(c){oa(this).toggleClass(a.call(this,c,T(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=oa(this),f=a.match(Ea)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=T(this),b&&oa._data(this,"__className__",b),oa.attr(this,"class",b||a===!1?"":oa._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+T(c)+" ").replace(Ob," ").indexOf(b)>-1)return!0;return!1}}),oa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){oa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),oa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Pb=b.location,Qb=oa.now(),Rb=/\?/,Sb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oa.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var c,d=null,e=oa.trim(a+"");return e&&!oa.trim(e.replace(Sb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():oa.error("Invalid JSON: "+a)},oa.parseXML=function(a){var c,d;if(!a||"string"!=typeof a)return null;try{b.DOMParser?(d=new b.DOMParser,c=d.parseFromString(a,"text/xml")):(c=new b.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(a){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||oa.error("Invalid XML: "+a),c};var Tb=/#.*$/,Ub=/([?&])_=[^&]*/,Vb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xb=/^(?:GET|HEAD)$/,Yb=/^\/\//,Zb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$b={},_b={},ac="*/".concat("*"),bc=Pb.href,cc=Zb.exec(bc.toLowerCase())||[];oa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bc,type:"GET",isLocal:Wb.test(cc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ac,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oa.parseJSON,"text xml":oa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?W(W(a,oa.ajaxSettings),b):W(oa.ajaxSettings,a)},ajaxPrefilter:U($b),ajaxTransport:U(_b),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&b.clearTimeout(i),k=void 0,h=e||"",w.readyState=a>0?4:0,f=a>=200&&a<300||304===a,d&&(t=X(m,w,d)),t=Y(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(oa.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(oa.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,!a&&x||(x="error",a<0&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--oa.active||oa.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=oa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?oa(n):oa.event,p=oa.Deferred(),q=oa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Vb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||bc)+"").replace(Tb,"").replace(Yb,cc[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=oa.trim(m.dataType||"*").toLowerCase().match(Ea)||[""],null==m.crossDomain&&(e=Zb.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===cc[1]&&e[2]===cc[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(cc[3]||("http:"===cc[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=oa.param(m.data,m.traditional)),V($b,m,c,w),2===u)return w;j=oa.event&&m.global,j&&0===oa.active++&&oa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Xb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Rb.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Ub.test(g)?g.replace(Ub,"$1_="+Qb++):g+(Rb.test(g)?"&":"?")+"_="+Qb++)),m.ifModified&&(oa.lastModified[g]&&w.setRequestHeader("If-Modified-Since",oa.lastModified[g]),oa.etag[g]&&w.setRequestHeader("If-None-Match",oa.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ac+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=V(_b,m,c,w)){if(w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=b.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return oa.get(a,b,c,"json")},getScript:function(a,b){return oa.get(a,void 0,b,"script")}}),oa.each(["get","post"],function(a,b){oa[b]=function(a,c,d,e){return oa.isFunction(c)&&(e=e||d,d=c,c=void 0),oa.ajax(oa.extend({url:a,type:b,dataType:e,data:c,success:d},oa.isPlainObject(a)&&a))}}),oa._evalUrl=function(a){return oa.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},oa.fn.extend({wrapAll:function(a){if(oa.isFunction(a))return this.each(function(b){oa(this).wrapAll(a.call(this,b))});if(this[0]){var b=oa(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return oa.isFunction(a)?this.each(function(b){oa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=oa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=oa.isFunction(a);return this.each(function(c){oa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){oa.nodeName(this,"body")||oa(this).replaceWith(this.childNodes)}).end()}}),oa.expr.filters.hidden=function(a){return ma.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:$(a)},oa.expr.filters.visible=function(a){return!oa.expr.filters.hidden(a)};var dc=/%20/g,ec=/\[\]$/,fc=/\r?\n/g,gc=/^(?:submit|button|image|reset|file)$/i,hc=/^(?:input|select|textarea|keygen)/i;oa.param=function(a,b){var c,d=[],e=function(a,b){b=oa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=oa.ajaxSettings&&oa.ajaxSettings.traditional),oa.isArray(a)||a.jquery&&!oa.isPlainObject(a))oa.each(a,function(){e(this.name,this.value)});else for(c in a)_(c,a[c],b,e);return d.join("&").replace(dc,"+")},oa.fn.extend({serialize:function(){return oa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=oa.prop(this,"elements");return a?oa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!oa(this).is(":disabled")&&hc.test(this.nodeName)&&!gc.test(a)&&(this.checked||!Pa.test(a))}).map(function(a,b){var c=oa(this).val();return null==c?null:oa.isArray(c)?oa.map(c,function(a){return{name:b.name,value:a.replace(fc,"\r\n")}}):{name:b.name,value:c.replace(fc,"\r\n")}}).get()}}),oa.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){return this.isLocal?ba():ea.documentMode>8?aa():/^(get|post|head|put|delete|options)$/i.test(this.type)&&aa()||ba()}:aa;var ic=0,jc={},kc=oa.ajaxSettings.xhr();b.attachEvent&&b.attachEvent("onunload",function(){for(var a in jc)jc[a](void 0,!0)}),ma.cors=!!kc&&"withCredentials"in kc,kc=ma.ajax=!!kc,kc&&oa.ajaxTransport(function(a){if(!a.crossDomain||ma.cors){var c;return{send:function(d,e){var f,g=a.xhr(),h=++ic;if(g.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)g[f]=a.xhrFields[f];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(a.hasContent&&a.data||null),c=function(b,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete jc[h],c=void 0,g.onreadystatechange=oa.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(a){i=""}f||!a.isLocal||a.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},a.async?4===g.readyState?b.setTimeout(c):g.onreadystatechange=jc[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}}),oa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return oa.globalEval(a),a}}}),oa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),oa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=ea.head||oa("head")[0]||ea.documentElement;return{send:function(d,e){b=ea.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var lc=[],mc=/(=)\?(?=&|$)|\?\?/;oa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=lc.pop()||oa.expando+"_"+Qb++;return this[a]=!0,a}}),oa.ajaxPrefilter("json jsonp",function(a,c,d){var e,f,g,h=a.jsonp!==!1&&(mc.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&mc.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=oa.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h?a[h]=a[h].replace(mc,"$1"+e):a.jsonp!==!1&&(a.url+=(Rb.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){return g||oa.error(e+" was not called"),g[0]},a.dataTypes[0]="json",f=b[e],b[e]=function(){g=arguments},d.always(function(){void 0===f?oa(b).removeProp(e):b[e]=f,a[e]&&(a.jsonpCallback=c.jsonpCallback,lc.push(e)),g&&oa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),oa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||ea;var d=xa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=s([a],b,e),e&&e.length&&oa(e).remove(),oa.merge([],d.childNodes))};var nc=oa.fn.load;oa.fn.load=function(a,b,c){if("string"!=typeof a&&nc)return nc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=oa.trim(a.slice(h,a.length)),a=a.slice(0,h)),oa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&oa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?oa("<div>").append(oa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},oa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){oa.fn[b]=function(a){return this.on(b,a)}}),oa.expr.filters.animated=function(a){return oa.grep(oa.timers,function(b){return a===b.elem}).length},oa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=oa.css(a,"position"),l=oa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=oa.css(a,"top"),i=oa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&oa.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),oa.isFunction(b)&&(b=b.call(a,c,oa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},oa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){oa.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,oa.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=ca(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===oa.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),oa.nodeName(a[0],"html")||(c=a.offset()),c.top+=oa.css(a[0],"borderTopWidth",!0),c.left+=oa.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-oa.css(d,"marginTop",!0),left:b.left-c.left-oa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!oa.nodeName(a,"html")&&"static"===oa.css(a,"position");)a=a.offsetParent;return a||ob})}}),oa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);oa.fn[a]=function(d){return Oa(this,function(a,d,e){var f=ca(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?oa(f).scrollLeft():e,c?e:oa(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),oa.each(["top","left"],function(a,b){oa.cssHooks[b]=G(ma.pixelPosition,function(a,c){if(c)return c=qb(a,b),mb.test(c)?oa(a).position()[b]+"px":c})}),oa.each({Height:"height",Width:"width"},function(a,b){oa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){oa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Oa(this,function(b,c,d){var e;return oa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,
Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?oa.css(b,c,g):oa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),oa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),oa.fn.size=function(){return this.length},oa.fn.andSelf=oa.fn.addBack,"function"==typeof a&&a.amd&&a("jquery",[],function(){return oa});var oc=b.jQuery,pc=b.$;return oa.noConflict=function(a){return b.$===oa&&(b.$=pc),a&&b.jQuery===oa&&(b.jQuery=oc),oa},c||(b.jQuery=b.$=oa),oa}),null==window.jQuery)throw new Error('Grunt Requireize: module does not define "window.jQuery"');return window.jQuery}),fweb_define("jquery.ui",["jquery"],null,function(){var a=void 0;if(function(b){"function"==typeof a&&a.amd?a(["jquery"],b):b(jQuery)}(function(a){function b(a){for(var b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");return"hidden"!==b}function c(a){for(var b,c;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=e(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function e(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.on("mouseout",c,function(){a(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",c,f)}function f(){a.datepicker._isDisabledDatepicker(n.inline?n.dpDiv.parent()[0]:n.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).addClass("ui-datepicker-next-hover"))}function g(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}function h(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{};var i=(a.ui.version="1.12.1",0),j=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(a){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h={},i=b.split(".")[0];b=b.split(".")[1];var j=i+"-"+b;return d||(d=c,c=a.Widget),a.isArray(d)&&(d=a.extend.apply(null,[{}].concat(d))),a.expr[":"][j.toLowerCase()]=function(b){return!!a.data(b,j)},a[i]=a[i]||{},e=a[i][b],f=a[i][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},a.extend(f,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),g=new c,g.options=a.widget.extend({},g.options),a.each(d,function(b,d){return a.isFunction(d)?void(h[b]=function(){function a(){return c.prototype[b].apply(this,arguments)}function e(a){return c.prototype[b].apply(this,a)}return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(h[b]=d)}),f.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||b:b},h,{constructor:f,namespace:i,widgetName:b,widgetFullName:j}),e?(a.each(e._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)}),delete e._childConstructors):c._childConstructors.push(f),a.widget.bridge(b,f),f},a.widget.extend=function(b){for(var c,d,e=j.call(arguments,1),f=0,g=e.length;f<g;f++)for(c in e[f])d=e[f][c],e[f].hasOwnProperty(c)&&void 0!==d&&(a.isPlainObject(d)?b[c]=a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):b[c]=d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(e){var f="string"==typeof e,g=j.call(arguments,1),h=this;return f?this.length||"instance"!==e?this.each(function(){var c,f=a.data(this,d);return"instance"===e?(h=f,!1):f?a.isFunction(f[e])&&"_"!==e.charAt(0)?(c=f[e].apply(f,g),c!==f&&void 0!==c?(h=c&&c.jquery?h.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+e+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+e+"'")}):h=void 0:(g.length&&(e=a.widget.extend.apply(null,[e].concat(g))),this.each(function(){var b=a.data(this,d);b?(b.option(e||{}),b._init&&b._init()):a.data(this,d,new c(e,this))})),h}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy(),a.each(this.classesElementLookup,function(a,c){b._removeClass(c,a)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),this},_setOptionClasses:function(b){var c,d,e;for(c in b)e=this.classesElementLookup[c],b[c]!==this.options.classes[c]&&e&&e.length&&(d=a(e.get()),this._removeClass(e,c),d.addClass(this._classes({element:d,keys:c,classes:b,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a),a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function c(c,f){var g,h;for(h=0;h<c.length;h++)g=e.classesElementLookup[c[h]]||a(),g=a(b.add?a.unique(g.get().concat(b.element.get())):g.not(b.element).get()),e.classesElementLookup[c[h]]=g,d.push(c[h]),f&&b.classes[c[h]]&&d.push(b.classes[c[h]])}var d=[],e=this;return b=a.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&c(b.keys.match(/\S+/g)||[],!0),b.extra&&c(b.extra.match(/\S+/g)||[]),d.join(" ")},_untrackClassesElement:function(b){var c=this;a.each(c.classesElementLookup,function(d,e){a.inArray(b.target,e)!==-1&&(c.classesElementLookup[d]=a(e.not(b.target).get()))})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,d){d="boolean"==typeof d?d:c;var e="string"==typeof a||null===a,f={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};return f.element.toggleClass(this._classes(f),d),this},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.on(j,k,h):c.on(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.off(c).off(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}});a.widget;!function(){function b(a,b,c){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?c/100:1)]}function c(b,c){return parseInt(a.css(b,c),10)||0}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}var e,f=Math.max,g=Math.abs,h=/left|center|right/,i=/top|center|bottom/,j=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,l=/%$/,m=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=d.children()[0];return a("body").append(d),b=f.offsetWidth,d.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType,f=!d&&!e;return{element:c,isWindow:d,isDocument:e,offset:f?a(b).offset():{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return m.apply(this,arguments);e=a.extend({},e);var l,n,o,p,q,r,s=a(e.of),t=a.position.getWithinInfo(e.within),u=a.position.getScrollInfo(t),v=(e.collision||"flip").split(" "),w={};return r=d(s),s[0].preventDefault&&(e.at="left top"),n=r.width,o=r.height,p=r.offset,q=a.extend({},p),a.each(["my","at"],function(){var a,b,c=(e[this]||"").split(" ");1===c.length&&(c=h.test(c[0])?c.concat(["center"]):i.test(c[0])?["center"].concat(c):["center","center"]),c[0]=h.test(c[0])?c[0]:"center",c[1]=i.test(c[1])?c[1]:"center",a=j.exec(c[0]),b=j.exec(c[1]),w[this]=[a?a[0]:0,b?b[0]:0],e[this]=[k.exec(c[0])[0],k.exec(c[1])[0]]}),1===v.length&&(v[1]=v[0]),"right"===e.at[0]?q.left+=n:"center"===e.at[0]&&(q.left+=n/2),"bottom"===e.at[1]?q.top+=o:"center"===e.at[1]&&(q.top+=o/2),l=b(w.at,n,o),q.left+=l[0],q.top+=l[1],this.each(function(){var d,h,i=a(this),j=i.outerWidth(),k=i.outerHeight(),m=c(this,"marginLeft"),r=c(this,"marginTop"),x=j+m+c(this,"marginRight")+u.width,y=k+r+c(this,"marginBottom")+u.height,z=a.extend({},q),A=b(w.my,i.outerWidth(),i.outerHeight());"right"===e.my[0]?z.left-=j:"center"===e.my[0]&&(z.left-=j/2),"bottom"===e.my[1]?z.top-=k:"center"===e.my[1]&&(z.top-=k/2),z.left+=A[0],z.top+=A[1],d={marginLeft:m,marginTop:r},a.each(["left","top"],function(b,c){a.ui.position[v[b]]&&a.ui.position[v[b]][c](z,{targetWidth:n,targetHeight:o,elemWidth:j,elemHeight:k,collisionPosition:d,collisionWidth:x,collisionHeight:y,offset:[l[0]+A[0],l[1]+A[1]],my:e.my,at:e.at,within:t,elem:i})}),e.using&&(h=function(a){var b=p.left-z.left,c=b+n-j,d=p.top-z.top,h=d+o-k,l={target:{element:s,left:p.left,top:p.top,width:n,height:o},element:{element:i,left:z.left,top:z.top,width:j,height:k},horizontal:c<0?"left":b>0?"right":"center",vertical:h<0?"top":d>0?"bottom":"middle"};n<j&&g(b+c)<n&&(l.horizontal="center"),o<k&&g(d+h)<o&&(l.vertical="middle"),f(g(b),g(c))>f(g(d),g(h))?l.important="horizontal":l.important="vertical",e.using.call(this,a,l)}),i.offset(a.extend(z,{using:h}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&j<=0?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):j>0&&i<=0?a.left=e:i>j?a.left=e+g-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&j<=0?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):j>0&&i<=0?a.top=e:i>j?a.top=e+g-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];k<0?(c=a.left+m+n+o+b.collisionWidth-h-f,(c<0||c<g(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||g(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];k<0?(d=a.top+n+o+p+b.collisionHeight-h-f,(d<0||d<g(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,(c>0||g(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}}}();a.ui.position,a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}}),a.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});a.ui.focusable=function(c,d){var e,f,g,h,i,j=c.nodeName.toLowerCase();return"area"===j?(e=c.parentNode,f=e.name,!(!c.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']"),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(j)?(h=!c.disabled,h&&(i=a(c).closest("fieldset")[0],i&&(h=!i.disabled))):h="a"===j?c.href||d:d,h&&a(c).is(":visible")&&b(a(c)))},a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}});a.ui.focusable,a.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):a(this[0].form)},a.ui.formResetMixin={_formResetHandler:function(){var b=a(this);setTimeout(function(){var c=b.data("ui-form-reset-instances");a.each(c,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var a=this.form.data("ui-form-reset-instances")||[];a.length||this.form.on("reset.ui-form-reset",this._formResetHandler),a.push(this),this.form.data("ui-form-reset-instances",a)}},_unbindFormResetHandler:function(){if(this.form.length){var b=this.form.data("ui-form-reset-instances");b.splice(a.inArray(this,b),1),b.length?this.form.data("ui-form-reset-instances",b):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});var k=(a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},a.ui.escapeSelector=function(){var a=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}(),a.fn.labels=function(){var b,c,d,e,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),d=this.attr("id"),d&&(b=this.eq(0).parents().last(),f=b.add(b.length?b.siblings():this.siblings()),c="label[for='"+a.ui.escapeSelector(d)+"']",e=e.add(f.find(c).addBack(c))),this.pushStack(e))},a.fn.scrollParent=function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},a.extend(a.expr[":"],{tabbable:function(b){var c=a.attr(b,"tabindex"),d=null!=c;return(!d||c>=0)&&a.ui.focusable(b,d)}}),a.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);a(document).on("mouseup",function(){k=!1});a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).on("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!k){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(d&&!e&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),k=!0,!0))}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,k=!1,b.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}},a.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(c){b=a.body}return b||(b=a.body),b.nodeName||(b=a.body),b},a.ui.safeBlur=function(b){b&&"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")};a.widget("ui.draggable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;return!(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(b),!!this.handle&&(this._blurActiveElement(b),this._blockFrames(c.iframeFix===!0?"iframe":c.iframeFix),!0))},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=a.ui.safeActiveElement(this.document[0]),d=a(b.target);d.closest(c).length||a.ui.safeBlur(c)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp(new a.Event("mouseup",b)),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.trigger("focus"),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new a.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(b){return!this.options.handle||!!a(b.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];return this.relativeContainer=null,e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,e))})},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,function(){var a=this;a.isOver?(a.isOver=0,d.cancelHelperRemoval=!0,a.cancelHelperRemoval=!1,a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")},a._mouseStop(b),a.options.helper=a.options._helper):(a.cancelHelperRemoval=!0,a._trigger("deactivate",b,e))})},drag:function(b,c,d){a.each(d.sortables,function(){var e=!1,f=this;f.positionAbs=d.positionAbs,f.helperProportions=d.helperProportions,f.offset.click=d.offset.click,f._intersectsWith(f.containerCache)&&(e=!0,a.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])&&(e=!1),e})),e?(f.isOver||(f.isOver=1,d._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},b.target=f.currentItem[0],f._mouseCapture(b,!0),f._mouseStart(b,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",b),d.dropped=f.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(b),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",b,f._uiHash(f)),f._mouseStop(b,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;e.css("cursor")&&(f._cursor=e.css("cursor")),e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("opacity")&&(f._opacity=e.css("opacity")),e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;e._opacity&&a(c.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,c,d){var e=d.options,f=!1,g=d.scrollParentNotHidden[0],h=d.document[0];g!==h&&"HTML"!==g.tagName?(e.axis&&"x"===e.axis||(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity?g.scrollTop=f=g.scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(g.scrollTop=f=g.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity?g.scrollLeft=f=g.scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(g.scrollLeft=f=g.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(b.pageY-a(h).scrollTop()<e.scrollSensitivity?f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity&&(f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(b.pageX-a(h).scrollLeft()<e.scrollSensitivity?f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity&&(f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--)i=d.snapElements[m].left-d.margins.left,j=i+d.snapElements[m].width,k=d.snapElements[m].top-d.margins.top,l=k+d.snapElements[m].height,r<i-p||q>j+p||t<k-p||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)?(d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1):("inner"!==o.snapMode&&(e=Math.abs(k-t)<=p,f=Math.abs(l-s)<=p,g=Math.abs(i-r)<=p,h=Math.abs(j-q)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left)),n=e||f||g||h,"outer"!==o.snapMode&&(e=Math.abs(k-s)<=p,f=Math.abs(l-t)<=p,g=Math.abs(i-q)<=p,h=Math.abs(j-r)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left)),!d.snapElements[m].snapping&&(e||f||g||h||n)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=e||f||g||h||n)}}),a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});g.length&&(e=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each(function(b){a(this).css("zIndex",e+b)}),this.css("zIndex",e+g.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("zIndex")&&(f._zIndex=e.css("zIndex")),e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;e._zIndex&&a(c.helper).css("zIndex",e._zIndex)}});a.ui.draggable;a.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(c.scope),c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[],a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];this._splice(b)},_setOption:function(b,c){if("accept"===b)this.accept=a.isFunction(c)?c:function(a){return a.is(c)};else if("scope"===b){var d=a.ui.ddmanager.droppables[this.options.scope];this._splice(d),this._addToManager(c)}this._super(b,c)},_activate:function(b){var c=a.ui.ddmanager.current;this._addActiveClass(),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this._removeActiveClass(),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this._addHoverClass(),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this._removeHoverClass(),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return!(!d||(d.currentItem||d.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=a(this).droppable("instance");if(c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&l(d,a.extend(c,{offset:c.element.offset()}),c.options.tolerance,b))return e=!0,!1}),!e&&(!!this.accept.call(this.element[0],d.currentItem||d.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",b,this.ui(d)),this.element)))},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var l=a.ui.intersect=function(){function a(a,b,c){return a>=b&&a<b+c}return function(b,c,d,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return j<=f&&h<=l&&k<=g&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<l&&k<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&g<=m||i>=k&&i<=m||g<k&&i>m)&&(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l);default:return!1}}}();a.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&l(b,this,this.options.tolerance,c)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").on("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=l(b,this,this.options.tolerance,c),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===e}),f.length&&(d=a(f[0]).droppable("instance"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").off("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}},a.uiBackCompat!==!1&&a.widget("ui.droppable",a.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});a.ui.droppable;a.widget("ui.resizable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)},_create:function(){var b,c=this.options,d=this;this._addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,b={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(b),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(b),this._proportionallyResize()),this._setupHandles(),c.autoHide&&a(this.element).on("mouseenter",function(){c.disabled||(d._removeClass("ui-resizable-autohide"),d._handles.show())}).on("mouseleave",function(){c.disabled||d.resizing||(d._addClass("ui-resizable-autohide"),d._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_setOption:function(a,b){switch(this._super(a,b),a){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var b,c,d,e,f,g=this.options,h=this;if(this.handles=g.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),d=this.handles.split(","),this.handles={},c=0;c<d.length;c++)b=a.trim(d[c]),e="ui-resizable-"+b,f=a("<div>"),this._addClass(f,"ui-resizable-handle "+e),f.css({zIndex:g.zIndex}),this.handles[b]=".ui-resizable-"+b,this.element.append(f);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String?this.handles[c]=this.element.children(this.handles[c]).first().show():(this.handles[c].jquery||this.handles[c].nodeType)&&(this.handles[c]=a(this.handles[c]),this._on(this.handles[c],{mousedown:h._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[c])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){h.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),h.axis=f&&f[1]?f[1]:"se")}),g.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var c,d,e,f=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),c=this._num(this.helper.css("left")),d=this._num(this.helper.css("top")),f.containment&&(c+=a(f.containment).scrollLeft()||0,d+=a(f.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:c,top:d},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),this._addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d,e=this.originalMousePosition,f=this.axis,g=b.pageX-e.left||0,h=b.pageY-e.top||0,i=this._change[f];return this._updatePrevProperties(),!!i&&(c=i.apply(this,[b,g,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),d=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1)},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&this._hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseFloat(k.element.css("left"))+(k.position.left-k.originalPosition.left)||null,i=parseFloat(k.element.css("top"))+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.originalPosition.top+this.originalSize.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];b<4;b++)c[b]=parseFloat(d[b])||0,c[b]+=parseFloat(e[b])||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&c._hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,k=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseFloat(c.element.css("width")),height:parseFloat(c.element.css("height")),top:parseFloat(c.element.css("top")),left:parseFloat(c.element.css("left"))};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,f,g,h,i=a(this).resizable("instance"),j=i.options,k=i.element,l=j.containment,m=l instanceof a?l.get(0):/parent/.test(l)?k.parent().get(0):l;m&&(i.containerElement=a(m),/document/.test(l)||l===document?(i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(m),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,d){c[a]=i._num(b.css("padding"+d))}),i.containerOffset=b.offset(),i.containerPosition=b.position(),i.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},d=i.containerOffset,e=i.containerSize.height,f=i.containerSize.width,g=i._hasScroll(m,"left")?m.scrollWidth:f,h=i._hasScroll(m)?m.scrollHeight:e,i.parentData={element:m,left:d.left,top:d.top,width:g,height:h}))},resize:function(b){var c,d,e,f,g=a(this).resizable("instance"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement,n=!0;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),
k&&(g.size.height=g.size.width/g.aspectRatio,n=!1),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio,n=!1),g.position.top=g._helper?i.top:0),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top),c=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-l.left:g.offset.left-i.left)),d=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-l.top:g.offset.top-i.top)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio,n=!1)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio,n=!1)),n||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance"),c=b.options;a(c.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseFloat(b.width()),height:parseFloat(b.height()),left:parseFloat(b.css("left")),top:parseFloat(b.css("top"))})})},resize:function(b,c){var d=a(this).resizable("instance"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0};a(e.alsoResize).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,function(a,b){var c=(d[b]||0)+(h[b]||0);c&&c>=0&&(e[b]=c||null)}),b.css(e)})},stop:function(){a(this).removeData("ui-resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}),b._addClass(b.ghost,"ui-resizable-ghost"),a.uiBackCompat!==!1&&"string"==typeof b.options.ghost&&b.ghost.addClass(this.options.ghost),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis,i="number"==typeof d.grid?[d.grid,d.grid]:d.grid,j=i[0]||1,k=i[1]||1,l=Math.round((e.width-f.width)/j)*j,m=Math.round((e.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=d.maxWidth&&d.maxWidth<n,q=d.maxHeight&&d.maxHeight<o,r=d.minWidth&&d.minWidth>n,s=d.minHeight&&d.minHeight>o;d.grid=i,r&&(n+=j),s&&(o+=k),p&&(n-=j),q&&(o-=k),/^(se|s|e)$/.test(h)?(c.size.width=n,c.size.height=o):/^(ne)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.top=g.top-m):/^(sw)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.left=g.left-l):((o-k<=0||n-j<=0)&&(b=c._getPaddingPlusBorderDimensions(this)),o-k>0?(c.size.height=o,c.position.top=g.top-m):(o=k-b.height,c.size.height=o,c.position.top=g.top+f.height-o),n-j>0?(c.size.width=n,c.position.left=g.left-l):(n=j-b.width,c.size.width=n,c.position.left=g.left+f.width-n))}});a.ui.resizable,a.widget("ui.selectable",a.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b.elementPos=a(b.element[0]).offset(),b.selectees=a(b.options.filter,b.element[0]),b._addClass(b.selectees,"ui-selectee"),b.selectees.each(function(){var c=a(this),d=c.offset(),e={left:d.left-b.elementPos.left,top:d.top-b.elementPos.top};a.data(this,"selectable-item",{element:this,$element:c,left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=a("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.elementPos=a(this.element[0]).offset(),this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(c._removeClass(d.$element,"ui-selected"),d.selected=!1,c._addClass(d.$element,"ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");if(e)return d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),c._removeClass(e.$element,d?"ui-unselecting":"ui-selected")._addClass(e.$element,d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1,k={};c&&c.element!==d.element[0]&&(k.left=c.left+d.elementPos.left,k.right=c.right+d.elementPos.left,k.top=c.top+d.elementPos.top,k.bottom=c.bottom+d.elementPos.top,"touch"===e.tolerance?j=!(k.left>h||k.right<f||k.top>i||k.bottom<g):"fit"===e.tolerance&&(j=k.left>f&&k.right<h&&k.top>g&&k.bottom<i),j?(c.selected&&(d._removeClass(c.$element,"ui-selected"),c.selected=!1),c.unselecting&&(d._removeClass(c.$element,"ui-unselecting"),c.unselecting=!1),c.selecting||(d._addClass(c.$element,"ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(d._removeClass(c.$element,"ui-selecting"),c.selecting=!1,d._addClass(c.$element,"ui-selected"),c.selected=!0):(d._removeClass(c.$element,"ui-selecting"),c.selecting=!1,c.startselected&&(d._addClass(c.$element,"ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(d._removeClass(c.$element,"ui-selected"),c.selected=!1,d._addClass(c.$element,"ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-selecting")._addClass(d.$element,"ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.widget("ui.sortable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var b=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),a.each(this.items,function(){b._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")===f)return d=a(this),!1}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-this.document.scrollTop()<g.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<g.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)),b.pageX-this.document.scrollLeft()<g.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<g.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&!(e===this.currentItem[0]||this.placeholder[1===f?"next":"prev"]()[0]===e||a.contains(this.placeholder[0],e)||"semi-dynamic"===this.options.type&&a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new a.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&d+j<i,m="y"===this.options.axis||b+k>f&&b+k<g,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b,c,d="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),f=d&&e;return!!f&&(b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection(),this.floating?"right"===c||"down"===b?2:1:b&&("down"===b?2:1))},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d],this.document[0]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c],this.document[0]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;d<j;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]);return b._addClass(e,"ui-sortable-placeholder",c||b.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===d?b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",b.document[0]).appendTo(e)):"tr"===d?b._createTrPlaceholder(b.currentItem,e):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){c&&!d.forcePlaceholderSize||(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,c){var d=this;b.children().each(function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.containers.length-1;c>=0;c--)if(!a.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(m&&a.contains(this.containers[c].element[0],m.element[0]))continue;m=this.containers[c],n=c}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0);if(m)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1);else{for(e=1e4,f=null,k=m.floating||this._isFloating(this.currentItem),g=k?"left":"top",h=k?"width":"height",l=k?"pageX":"pageY",d=this.items.length-1;d>=0;d--)a.contains(this.containers[n].element[0],this.items[d].item[0])&&this.items[d].item[0]!==this.currentItem[0]&&(i=this.items[d].item.offset()[g],j=!1,b[l]-i>this.items[d][h]/2&&(j=!0),Math.abs(b[l]-i)<e&&(e=Math.abs(b[l]-i),f=this.items[d],this.direction=j?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[n])return void(this.currentContainer.containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=1));f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[n].element,!0),this._trigger("change",b,this._uiHash()),this.containers[n]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[n],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),d[0].style.width&&!c.forceHelperSize||d.width(this.currentItem.width()),d[0].style.height&&!c.forceHelperSize||d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)"auto"!==this._storedCSS[d]&&"static"!==this._storedCSS[d]||(this._storedCSS[d]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),
this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),b.active<0&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a()}},_createIcons:function(){var b,c,d=this.options.icons;d&&(b=a("<span>"),this._addClass(b,"ui-accordion-header-icon","ui-icon "+d.header),b.prependTo(this.headers),c=this.active.children(".ui-accordion-header-icon"),this._removeClass(c,d.header)._addClass(c,null,d.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),void("icons"===a&&(this._destroyIcons(),b&&this._createIcons())))},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a),this._toggleClass(null,"ui-state-disabled",!!a),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),a(f).trigger("focus"),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().trigger("focus")},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var b,c=this.options,d=c.heightStyle,e=this.element.parent();this.active=this._findActive(c.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var b=a(this),c=b.uniqueId().attr("id"),d=b.next(),e=d.uniqueId().attr("id");b.attr("aria-controls",e),d.attr("aria-labelledby",c)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(c.event),"fill"===d?(b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){var c=a(this).is(":visible");c||a(this).show(),b=Math.max(b,a(this).css("height","").height()),c||a(this).hide()}).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c,d,e=this.options,f=this.active,g=a(b.currentTarget),h=g[0]===f[0],i=h&&e.collapsible,j=i?a():g.next(),k=f.next(),l={oldHeader:f,oldPanel:k,newHeader:i?a():g,newPanel:j};b.preventDefault(),h&&!e.collapsible||this._trigger("beforeActivate",b,l)===!1||(e.active=!i&&this.headers.index(g),this.active=h?a():g,this._toggle(l),this._removeClass(f,"ui-accordion-header-active","ui-state-active"),e.icons&&(c=f.children(".ui-accordion-header-icon"),this._removeClass(c,null,e.icons.activeHeader)._addClass(c,null,e.icons.header)),h||(this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,"ui-accordion-header-active","ui-state-active"),e.icons&&(d=g.children(".ui-accordion-header-icon"),this._removeClass(d,null,e.icons.header)._addClass(d,null,e.icons.activeHeader)),this._addClass(g.next(),"ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr({"aria-selected":"false","aria-expanded":"false"}),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===parseInt(a(this).attr("tabIndex"),10)}).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.css("box-sizing"),j=a.length&&(!b.length||a.index()<b.index()),k=this.options.animate||{},l=j&&k.down||k,m=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(e=l),e=e||l.easing||k.easing,f=f||l.duration||k.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(this.showProps,{duration:f,easing:e,complete:m,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?"content-box"===i&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-h),h=0)}})):b.animate(this.hideProps,f,e,m):a.animate(this.showProps,f,e,m)},_toggleComplete:function(a){var b=a.oldPanel,c=b.prev();this._removeClass(b,"ui-accordion-content-active"),this._removeClass(c,"ui-accordion-header-active")._addClass(c,"ui-accordion-header-collapsed"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target),d=a(a.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&d.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.target).closest(".ui-menu-item"),d=a(b.currentTarget);c[0]===d[0]&&(this._removeClass(d.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(b,d))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){var c=!a.contains(this.element[0],a.ui.safeActiveElement(this.document[0]));c&&this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){var b=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),c=b.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),c.children().each(function(){var b=a(this);b.data("ui-menu-submenu-caret")&&b.remove()})},_keydown:function(b){var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",f=!1,e=b.keyCode>=96&&b.keyCode<=105?(b.keyCode-96).toString():String.fromCharCode(b.keyCode),clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this._filterMenuItems(e),c=f&&c.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this._filterMenuItems(e)),c.length?(this.focus(b,c),this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c,d,e,f,g=this,h=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),d=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.prev(),d=a("<span>").data("ui-menu-submenu-caret",!0);g._addClass(d,"ui-menu-icon","ui-icon "+h),c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))}),this._addClass(d,"ui-menu","ui-widget ui-widget-content ui-front"),b=i.add(this.element),c=b.find(this.options.items),c.not(".ui-menu-item").each(function(){var b=a(this);g._isDivider(b)&&g._addClass(b,"ui-menu-divider","ui-widget-content")}),e=c.not(".ui-menu-item, .ui-menu-divider"),f=e.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper"),c.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if("icons"===a){var c=this.element.find(".ui-menu-icon");this._removeClass(c,null,this.options.icons.submenu)._addClass(c,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",String(a)),this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){var c,d,e;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children(".ui-menu-item-wrapper"),this._addClass(d,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),e=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(e,null,"ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.outerHeight(),e<0?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this._removeClass(d.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).children(".ui-menu-item-wrapper").text()))})}});a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f||!g&&this._isContentEditable(this.element),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==a.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(b,c){var d,e;return this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)})):(e=c.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",b,{item:e})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value),d=c.item.attr("aria-label")||e.value,void(d&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))))},menuselect:function(b,c){var d=c.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e,this.selectedItem=d})),!1!==this._trigger("select",b,{item:d})&&this._value(d.value),this.term=this._value(),this.close(b),this.selectedItem=d}}),this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(b){var c=this.menu.element[0];return b.target===this.element[0]||b.target===c||a.contains(c,b.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front, dialog")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;b&&(!b||c||d)||(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<div>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,b),b.preventDefault())},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}});var m=(a.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);a.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var b=this,c=[];a.each(this.options.items,function(d,e){var f,g={};if(e)return"controlgroupLabel"===d?(f=b.element.find(e),f.each(function(){var b=a(this);b.children(".ui-controlgroup-label-contents").length||b.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),b._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),void(c=c.concat(f.get()))):void(a.fn[d]&&(g=b["_"+d+"Options"]?b["_"+d+"Options"]("middle"):{classes:{}},b.element.find(e).each(function(){var e=a(this),f=e[d]("instance"),h=a.widget.extend({},g);if("button"!==d||!e.parent(".ui-spinner").length){f||(f=e[d]()[d]("instance")),f&&(h.classes=b._resolveClassesValues(h.classes,f)),e[d](h);var i=e[d]("widget");a.data(i[0],"ui-controlgroup-data",f?f:e[d]("instance")),c.push(i[0])}})))}),this.childWidgets=a(a.unique(c)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(b){this.childWidgets.each(function(){var c=a(this),d=c.data("ui-controlgroup-data");d&&d[b]&&d[b]()})},_updateCornerClass:function(a,b){var c="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",d=this._buildSimpleOptions(b,"label").classes.label;this._removeClass(a,null,c),this._addClass(a,null,d)},_buildSimpleOptions:function(a,b){var c="vertical"===this.options.direction,d={classes:{}};return d.classes[b]={middle:"",first:"ui-corner-"+(c?"top":"left"),last:"ui-corner-"+(c?"bottom":"right"),only:"ui-corner-all"}[a],d},_spinnerOptions:function(a){var b=this._buildSimpleOptions(a,"ui-spinner");return b.classes["ui-spinner-up"]="",b.classes["ui-spinner-down"]="",b},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},_selectmenuOptions:function(a){var b="vertical"===this.options.direction;return{width:!!b&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},_resolveClassesValues:function(b,c){var d={};return a.each(b,function(e){var f=c.options.classes[e]||"";f=a.trim(f.replace(m,"")),d[e]=(f+" "+b[e]).replace(/\s+/g," ")}),d},_setOption:function(a,b){return"direction"===a&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(a,b),"disabled"===a?void this._callChildMethod(b?"disable":"enable"):void this.refresh()},refresh:function(){var b,c=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),b=this.childWidgets,this.options.onlyVisible&&(b=b.filter(":visible")),b.length&&(a.each(["first","last"],function(a,d){var e=b[d]().data("ui-controlgroup-data");if(e&&c["_"+e.widgetName+"Options"]){var f=c["_"+e.widgetName+"Options"](1===b.length?"only":d);f.classes=c._resolveClassesValues(f.classes,e),e.element[e.widgetName](f)}else c._updateCornerClass(b[d](),d)}),this._callChildMethod("refresh"))}});a.widget("ui.checkboxradio",[a.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var b,c,d=this,e=this._super()||{};return this._readType(),c=this.element.labels(),this.label=a(c[c.length-1]),this.label.length||a.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){d.originalLabel+=3===this.nodeType?a(this).text():this.outerHTML}),this.originalLabel&&(e.label=this.originalLabel),b=this.element[0].disabled,null!=b&&(e.disabled=b),e},_create:function(){var a=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),
this._enhance(),a&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===b&&/radio|checkbox/.test(this.type)||a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var b,c=this.element[0].name,d="input[name='"+a.ui.escapeSelector(c)+"']";return c?(b=this.form.length?a(this.form[0].elements).filter(d):a(d).filter(function(){return 0===a(this).form().length}),b.not(this.element)):a([])},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b),"radio"===this.type&&this._getRadioGroup().each(function(){var b=a(this).checkboxradio("instance");b&&b._removeClass(b.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(a,b){if("label"!==a||b)return this._super(a,b),"disabled"===a?(this._toggleClass(this.label,null,"ui-state-disabled",b),void(this.element[0].disabled=b)):void this.refresh()},_updateIcon:function(b){var c="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=a("<span>"),this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(c+=b?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,b?"ui-icon-blank":"ui-icon-check")):c+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",c),b||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var a=this.label.contents().not(this.element[0]);this.icon&&(a=a.not(this.icon[0])),this.iconSpace&&(a=a.not(this.iconSpace[0])),a.remove(),this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,b=this.element[0].disabled;this._updateIcon(a),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a),null!==this.options.label&&this._updateLabel(),b!==this.options.disabled&&this._setOptions({disabled:b})}}]);a.ui.checkboxradio;a.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a,b=this._super()||{};return this.isInput=this.element.is("input"),a=this.element[0].disabled,null!=a&&(b.disabled=a),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(b.label=this.originalLabel),b},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(b){b.keyCode===a.ui.keyCode.SPACE&&(b.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(b,c){var d="iconPosition"!==b,e=d?this.options.iconPosition:c,f="top"===e||"bottom"===e;this.icon?d&&this._removeClass(this.icon,null,this.options.icon):(this.icon=a("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),d&&this._addClass(this.icon,null,c),this._attachIcon(e),f?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(e))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.showLabel?this.options.showLabel:a.showLabel,c=void 0===a.icon?this.options.icon:a.icon;b||c||(a.showLabel=!0),this._super(a)},_setOption:function(a,b){"icon"===a&&(b?this._updateIcon(a,b):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===a&&this._updateIcon(a,b),"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,!b),this._updateTooltip()),"label"===a&&(this.isInput?this.element.val(b):(this.element.html(b),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(a,b),"disabled"===a&&(this._toggleClass(null,"ui-state-disabled",b),this.element[0].disabled=b,b&&this.element.blur())},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a}),this._updateTooltip()}}),a.uiBackCompat!==!1&&(a.widget("ui.button",a.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(a,b){return"text"===a?void this._super("showLabel",b):("showLabel"===a&&(this.options.text=b),"icon"===a&&(this.options.icons.primary=b),"icons"===a&&(b.primary?(this._super("icon",b.primary),this._super("iconPosition","beginning")):b.secondary&&(this._super("icon",b.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),a.fn.button=function(b){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?b.apply(this,arguments):(a.ui.checkboxradio||a.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(a.fn.button),a.fn.buttonset=function(){return a.ui.controlgroup||a.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});a.ui.button;a.extend(a.ui,{datepicker:{version:"1.12.1"}});var n;a.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return g(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var d=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:d,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?e(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.off("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),"focus"!==d&&"both"!==d||b.on("focus",this._showDatepicker),"button"!==d&&"both"!==d||(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.on("click",function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,f){var h,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),g(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==c&&"span"!==c||d.removeClass(this.markerClassName).empty(),n===e&&(n=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,f,h,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),f=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),g(j.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,h)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,f),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);if(a.datepicker._get(e,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||d<" "||!c||c.indexOf(d)>-1},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(a){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var d,e,f,h,i,j,k;d=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(d,"beforeShow"),f=e?e.apply(b,[b,d]):{},f!==!1&&(g(d.settings,f),d.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),h=!1,a(b).parents().each(function(){return h|="fixed"===a(this).css("position"),!h}),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),i=a.datepicker._checkOffset(d,i,h),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),d.inline||(j=a.datepicker._get(d,"showAnim"),k=a.datepicker._get(d,"duration"),d.dpDiv.css("z-index",c(a(b))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?d.dpDiv.show(j,a.datepicker._get(d,"showOptions"),k):d.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(d)&&d.input.trigger("focus"),a.datepicker._curInst=d))}},_updateDatepicker:function(b){this.maxRows=4,n=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),e=d[1],g=17,h=b.dpDiv.find("."+this._dayOverClass+" a");h.length>0&&f.apply(h.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.trigger("focus"),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id===a.datepicker._mainDivId||0!==c.parents("#"+a.datepicker._mainDivId).length||c.hasClass(a.datepicker.markerClassName)||c.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)&&(!c.hasClass(a.datepicker.markerClassName)||a.datepicker._curInst===d)||a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).val(e))},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];if(c.substr(i,d.length).toLowerCase()===d.toLowerCase())return f=b[0],i+=d.length,!1}),f!==-1)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(p===-1?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=k?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),r<=f)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getFullYear()%100<10?"0":"")+b.getFullYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(a){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(a){}for(var d=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(c);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(e,f))}i=h.exec(c)}return new Date(e,f,g)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).on(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(_<0&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),
b=Z&&b<Z?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,_<0&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;v<7;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;J<H;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;v<7;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&I<Z||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;k<12;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";o<=p;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.selectedYear+("Y"===c?b:0),e=a.selectedMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).on("mousedown",a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new d,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.12.1";a.datepicker;a.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;this._isOpen&&this._trigger("beforeClose",b)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||a.ui.safeBlur(a.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),f=Math.max.apply(null,e);return f>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",f+1),d=!0),d&&!c&&this._trigger("focus",b),d},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(a.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).trigger("focus")},_keepFocus:function(b){function c(){var b=a.ui.safeActiveElement(this.document[0]),c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.trigger("focus")}),b.preventDefault()):(this._delay(function(){d.trigger("focus")}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:a("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(b,"ui-dialog-title"),this._title(b),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,f={icon:d.icon,iconPosition:d.iconPosition,showLabel:d.showLabel,icons:d.icons,text:d.text},delete d.click,delete d.icon,delete d.iconPosition,delete d.showLabel,delete d.icons,"boolean"==typeof d.text&&delete d.text,a("<button></button>",d).button(f).appendTo(b.uiButtonSet).on("click",function(){e.apply(b.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){c._addClass(a(this),"ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){var g=f.offset.left-c.document.scrollLeft(),h=f.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:c.window},c._removeClass(a(this),"ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){c._addClass(a(this),"ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){var g=c.uiDialog.offset(),h=g.left-c.document.scrollLeft(),i=g.top-c.document.scrollTop();d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:c.window},c._removeClass(a(this),"ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget(),this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);c!==-1&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,e={};a.each(b,function(a,b){c._setOption(a,b),a in c.sizeRelatedOptions&&(d=!0),a in c.resizableRelatedOptions&&(e[a]=b)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(b,c){var d,e,f=this.uiDialog;"disabled"!==b&&(this._super(b,c),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:a("<a>").text(""+this.options.closeText).html()}),"draggable"===b&&(d=f.is(":data(ui-draggable)"),d&&!c&&f.draggable("destroy"),!d&&c&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&(e=f.is(":data(ui-resizable)"),e&&!c&&f.resizable("destroy"),e&&"string"==typeof c&&f.resizable("option","handles",c),e||c===!1||this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return!!a(b.target).closest(".ui-dialog").length||!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=a("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,b){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(b),this._superApply(arguments)}});a.ui.dialog,a.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=a("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a),this._toggleClass(null,"ui-state-disabled",!!a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).width(c.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,b===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}}),a.widget("ui.selectmenu",[a.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var b=this.element.uniqueId().attr("id");this.ids={element:b,button:b+"-button",menu:b+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=a()},_drawButton:function(){var b,c=this,d=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(a){this.button.focus(),a.preventDefault()}}),this.element.hide(),this.button=a("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),b=a("<span>").appendTo(this.button),this._addClass(b,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(d).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){c._rendered||c._refreshMenu()})},_drawMenu:function(){var b=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=a("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(a,c){a.preventDefault(),b._setSelection(),b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){var d=c.item.data("ui-selectmenu-item");null!=b.focusIndex&&d.index!==b.focusIndex&&(b._trigger("focus",a,{item:d}),b.isOpen||b._select(d,a)),b.focusIndex=d.index,b.button.attr("aria-activedescendant",b.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var a,b=this.element.find("option");this.menu.empty(),this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,b.length&&(a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a)))},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(b){var c=a("<span>");return this._setText(c,b.label),this._addClass(c,"ui-selectmenu-text"),c},_renderMenu:function(b,c){var d=this,e="";a.each(c,function(c,f){var g;f.optgroup!==e&&(g=a("<li>",{text:f.optgroup}),d._addClass(g,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),g.appendTo(b),e=f.optgroup),d._renderItemData(b,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(b,c){var d=a("<li>"),e=a("<div>",{title:c.element.attr("title")});return c.disabled&&this._addClass(d,null,"ui-state-disabled"),this._setText(e,c.label),d.append(e).appendTo(b)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,d,e=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex).parent("li"):(c=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),e+=":not(.ui-state-disabled)"),d="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0),d.length&&this.menuInstance.focus(b,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(b){this.isOpen&&(a(b.target).closest(".ui-selectmenu-menu, #"+a.ui.escapeSelector(this.ids.button)).length||this.close(b))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(b){var c=!0;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b),c=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case a.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case a.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),c=!1}c&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex).parent("li");b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(a)),this._setAria(a),this._trigger("select",b,{item:a}),a.index!==c&&this._trigger("change",b,{item:a}),this.close(b)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){if("icons"===a){var c=this.button.find("span.ui-icon");this._removeClass(c,null,this.options.icons.button)._addClass(c,null,b.button)}this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"width"===a&&this._resizeButton()},_setOptionDisabled:function(a){this._super(a),this.menuInstance.option("disabled",a),this.button.attr("aria-disabled",a),this._toggleClass(this.button,null,"ui-state-disabled",a),this.element.prop("disabled",a),a?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front, dialog")),b.length||(b=this.document[0].body),b},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){
var a=this.options.width;return a===!1?void this.button.css("width",""):(null===a&&(a=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(a))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var a=this._super();return a.disabled=this.element.prop("disabled"),a},_parseOptions:function(b){var c=this,d=[];b.each(function(b,e){d.push(c._parseOption(a(e),b))}),this.items=d},_parseOption:function(a,b){var c=a.parent("optgroup");return{element:a,index:b,value:a.val(),label:a.text(),optgroup:c.attr("label")||"",disabled:c.prop("disabled")||a.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),a.widget("ui.slider",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle"),f="<span tabindex='0'></span>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;b<c;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b).attr("tabIndex",0)})},_createRange:function(){var b=this.options;b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=a("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==b.range&&"max"!==b.range||this._addClass(this.range,"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h!==!1&&(this._mouseSliding=!0,this._handleIndex=g,this._addClass(f,null,"ui-state-active"),f.trigger("focus"),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_uiHash:function(a,b,c){var d={handle:this.handles[a],handleIndex:a,value:void 0!==b?b:this.value()};return this._hasMultipleValues()&&(d.value=void 0!==b?b:this.values(a),d.values=c||this.values()),d},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var d,e,f=this.value(),g=this.values();this._hasMultipleValues()&&(e=this.values(b?0:1),f=this.values(b),2===this.options.values.length&&this.options.range===!0&&(c=0===b?Math.min(e,c):Math.max(e,c)),g[b]=c),c!==f&&(d=this._trigger("slide",a,this._uiHash(b,c,g)),d!==!1&&(this._hasMultipleValues()?this.values(b,c):this.value(c)))},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",a,this._uiHash(b)))},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this._hasMultipleValues()?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),this._super(b,c),b){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(c),this.handles.css("horizontal"===c?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=e-1;d>=0;d--)this._change(null,d);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(a){this._super(a),this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this._hasMultipleValues()){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,d=Math.round((a-b)/c)*c;a=d+b,a>this.options.max&&(a-=c),this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===a&&this.range.css({width:"",left:""}),"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this._hasMultipleValues()?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:100-c+"%"},h.animate),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:100-c+"%"},h.animate))},_handleEvents:{keydown:function(b){var c,d,e,f,g=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(a(b.target),null,"ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this._hasMultipleValues()?this.values(g):this.value(),b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),this._removeClass(a(b.target),null,"ui-state-active"))}}});a.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b=this._super(),c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);null!=e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var b=this.element[0]===a.ui.safeActiveElement(this.document[0]);b||(this.element.trigger("focus"),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===a.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active"))return this._start(b)!==!1&&void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_start:function(a){return!(!this.spinning&&this._trigger("start",a)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){var c,d,e;return"culture"===a||"numberFormat"===a?(c=this._parse(this.element.val()),this.options[a]=b,void this.element.val(this._format(c))):("max"!==a&&"min"!==a&&"step"!==a||"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(d=this.buttons.first().find(".ui-icon"),this._removeClass(d,null,this.options.icons.up),this._addClass(d,null,b.up),e=this.buttons.last().find(".ui-icon"),this._removeClass(e,null,this.options.icons.down),this._addClass(e,null,b.down)),void this._super(a,b))},_setOptionDisabled:function(a){this._super(a),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!a),this.element.prop("disabled",!!a),this.buttons.button(a?"disable":"enable")},_setOptions:h(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null!==a&&a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:h(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:h(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void h(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),a.uiBackCompat!==!1&&a.widget("ui.spinner",a.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});a.ui.spinner;a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(a){}try{d=decodeURIComponent(d)}catch(a){}return b.hash.length>1&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,c.collapsible),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){if(a(e).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==b&&b!==-1||(b=!!this.tabs.length&&0)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=!c&&0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(a.ui.safeActiveElement(this.document[0])).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),b<0&&(b=e),b}for(var e=this.tabs.length-1;a.inArray(d(),this.options.disabled)!==-1;)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).trigger("focus"),a},_setOption:function(a,b){return"active"===a?void this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=a(),this.anchors.each(function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");b._isLocal(d)?(e=d.hash,g=e.substring(1),f=b.element.find(b._sanitizeSelector(e))):(g=i.attr("aria-controls")||a({}).uniqueId()[0].id,e="#"+g,f=b.element.find(e),f.length||(f=b._createPanel(g),f.insertAfter(b.panels[c-1]||b.tablist)),f.attr("aria-live","polite")),f.length&&(b.panels=b.panels.add(f)),j&&i.data("ui-tabs-aria-controls",j),i.attr({"aria-controls":g,"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(b){var c,d,e;for(a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1),e=0;d=this.tabs[e];e++)c=a(d),b===!0||a.inArray(e,b)!==-1?(c.attr("aria-disabled","true"),this._addClass(c,null,"ui-state-disabled")):(c.removeAttr("aria-disabled"),this._removeClass(c,null,"ui-state-disabled"));this.options.disabled=b,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,b===!0)},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){f._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){f._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),e()}):(this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),e()),h.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(b)+"']"))),b},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;c!==!1&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setOptionDisabled(c))},disable:function(b){var c=this.options.disabled;if(c!==!0){if(void 0===b)c=!0;else{if(b=this._getIndex(b),a.inArray(b,c)!==-1)return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setOptionDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){"abort"===b&&d.panels.stop(!1,!0),d._removeClass(e,"ui-tabs-loading"),g.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr};this._isLocal(f[0])||(this.xhr=a.ajax(this._ajaxSettings(f,c,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a),d._trigger("load",c,h),i(e,b)},1)}).fail(function(a,b){setTimeout(function(){i(a,b)},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href").replace(/#.*$/,""),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});a.ui.tabs;a.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);e!==-1&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=a([])},_setOption:function(b,c){var d=this;this._super(b,c),"content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b.element)})},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0],b.close(e,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var b=a(this);if(b.is("[title]"))return b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"));
}),this.disabledTitles=a([])},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._registerCloseHandlers(b,d),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d||d.nodeType||d.jquery?this._open(b,a,d):(c=d.call(a[0],function(c){e._delay(function(){a.data("ui-tooltip-open")&&(b&&(b.type=f),this._open(b,a,c))})}),void(c&&this._open(b,a,c)))},_open:function(b,c,d){function e(a){j.of=a,g.is(":hidden")||g.position(j)}var f,g,h,i,j=a.extend({},this.options.position);if(d){if(f=this._find(c))return void f.tooltip.find(".ui-tooltip-content").html(d);c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),f=this._tooltip(c),g=f.tooltip,this._addDescribedBy(c,g.attr("id")),g.find(".ui-tooltip-content").html(d),this.liveRegion.children().hide(),i=a("<div>").html(g.find(".ui-tooltip-content").html()),i.removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):g.position(a.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){g.is(":visible")&&(e(j.of),clearInterval(h))},a.fx.interval)),this._trigger("open",b,{tooltip:g})}},_registerCloseHandlers:function(b,c){var d={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var d=a.Event(b);d.currentTarget=c[0],this.close(d,!0)}}};c[0]!==this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)}),b&&"mouseover"!==b.type||(d.mouseleave="close"),b&&"focusin"!==b.type||(d.focusout="close"),this._on(!0,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);return f?(c=f.tooltip,void(f.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),f.closing=!0,this._trigger("close",b,{tooltip:c}),f.hiding||(f.closing=!1)))):void e.removeData("ui-tooltip-open")},_tooltip:function(b){var c=a("<div>").attr("role","tooltip"),d=a("<div>").appendTo(c),e=c.uniqueId().attr("id");return this._addClass(d,"ui-tooltip-content"),this._addClass(c,"ui-tooltip","ui-widget ui-widget-content"),c.appendTo(this._appendTo(b)),this.tooltips[e]={element:b,tooltip:c}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_appendTo:function(a){var b=a.closest(".ui-front, dialog");return b.length||(b=this.document[0].body),b},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur"),f=d.element;e.target=e.currentTarget=f[0],b.close(e,!0),a("#"+c).remove(),f.data("ui-tooltip-title")&&(f.attr("title")||f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),a.uiBackCompat!==!1&&a.widget("ui.tooltip",a.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);return this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass),a}});var o=(a.ui.tooltip,"ui-effects-"),p="ui-effects-style",q="ui-effects-animated",r=a;a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";if(h)return f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){if(null!=g[b.idx])return c=g[b.idx]===f[b.idx]})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&b<3&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:l<=.5?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=d<=.5?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(a){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(a){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function c(b,c){var d,f,g={};for(d in c)f=c[d],b[d]!==f&&(e[d]||!a.fx.step[d]&&isNaN(parseFloat(f))||(g[d]=f));return g}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(r.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(e,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var c=a(this);return{el:c,start:b(this)}}),f=function(){a.each(d,function(a,b){e[b]&&g[b+"Class"](e[b])})},f(),j=j.map(function(){return this.end=b(this.el[0]),this.diff=c(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function b(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function c(b){return!(b&&"number"!=typeof b&&!a.fx.speeds[b])||("string"==typeof b&&!a.effects.effect[b]||(!!a.isFunction(b)||"object"==typeof b&&!b.effect))}function d(a,b){var c=b.outerWidth(),d=b.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,f=e.exec(a)||["",0,c,d,0];return{top:parseFloat(f[1])||0,right:"auto"===f[2]?c:parseFloat(f[2]),bottom:"auto"===f[3]?d:parseFloat(f[3]),left:parseFloat(f[4])||0}}a.expr&&a.expr.filters&&a.expr.filters.animated&&(a.expr.filters.animated=function(b){return function(c){return!!a(c).data(q)||b(c)}}(a.expr.filters.animated)),a.uiBackCompat!==!1&&a.extend(a.effects,{save:function(a,b){for(var c=0,d=b.length;c<d;c++)null!==b[c]&&a.data(o+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c,d=0,e=b.length;d<e;d++)null!==b[d]&&(c=a.data(o+b[d]),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),float:b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(a){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).trigger("focus"),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).trigger("focus")),b}}),a.extend(a.effects,{version:"1.12.1",define:function(b,c,d){return d||(d=c,c="effect"),a.effects.effect[b]=d,a.effects.effect[b].mode=c,d},scaledDimensions:function(a,b,c){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var d="horizontal"!==c?(b||100)/100:1,e="vertical"!==c?(b||100)/100:1;return{height:a.height()*e,width:a.width()*d,outerHeight:a.outerHeight()*e,outerWidth:a.outerWidth()*d}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,c){var d=a.queue();b>1&&d.splice.apply(d,[1,0].concat(d.splice(b,c))),a.dequeue()},saveStyle:function(a){a.data(p,a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data(p)||"",a.removeData(p)},mode:function(a,b){var c=a.is(":hidden");return"toggle"===b&&(b=c?"show":"hide"),(c?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createPlaceholder:function(b){var c,d=b.css("position"),e=b.position();return b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()),/^(static|relative)/.test(d)&&(d="absolute",c=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),float:b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder"),b.data(o+"placeholder",c)),b.css({position:d,left:e.left,top:e.top}),c},removePlaceholder:function(a){var b=o+"placeholder",c=a.data(b);c&&(c.remove(),a.removeData(b))},cleanUp:function(b){a.effects.restoreStyle(b),a.effects.removePlaceholder(b)},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function c(b){function c(){h.removeData(q),a.effects.cleanUp(h),"hide"===d.mode&&h.hide(),g()}function g(){a.isFunction(i)&&i.call(h[0]),a.isFunction(b)&&b()}var h=a(this);d.mode=k.shift(),a.uiBackCompat===!1||f?"none"===d.mode?(h[j](),g()):e.call(h[0],d,c):(h.is(":hidden")?"hide"===j:"show"===j)?(h[j](),g()):e.call(h[0],d,g)}var d=b.apply(this,arguments),e=a.effects.effect[d.effect],f=e.mode,g=d.queue,h=g||"fx",i=d.complete,j=d.mode,k=[],l=function(b){var c=a(this),d=a.effects.mode(c,j)||f;c.data(q,!0),k.push(d),f&&("show"===d||d===f&&"hide"===d)&&c.show(),f&&"none"===d||a.effects.saveStyle(c),a.isFunction(b)&&b()};return a.fx.off||!e?j?this[j](d.duration,i):this.each(function(){i&&i.call(this)}):g===!1?this.each(l).each(c):this.queue(h,l).queue(h,c)},show:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(d){if(c(d)||"boolean"==typeof d)return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):d(this.css("clip"),this)},transfer:function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),a.isFunction(c)&&c()})}}),a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"==typeof b.end&&(b.end=d(b.end,b.elem)),b.clipInit=!0),a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-b.start.left)+b.start.left})}}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return a<.5?c(2*a)/2:1-c(a*-2+2)/2}})}();var s,s=a.effects;a.effects.define("blind","hide",function(b,c){var d={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},e=a(this),f=b.direction||"up",g=e.cssClip(),h={clip:a.extend({},g)},i=a.effects.createPlaceholder(e);h.clip[d[f][0]]=h.clip[d[f][1]],"show"===b.mode&&(e.cssClip(h.clip),i&&i.css(a.effects.clipToBox(h)),h.clip=g),i&&i.animate(a.effects.clipToBox(h),b.duration,b.easing),e.animate(h,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("bounce",function(b,c){var d,e,f,g=a(this),h=b.mode,i="hide"===h,j="show"===h,k=b.direction||"up",l=b.distance,m=b.times||5,n=2*m+(j||i?1:0),o=b.duration/n,p=b.easing,q="up"===k||"down"===k?"top":"left",r="up"===k||"left"===k,s=0,t=g.queue().length;for(a.effects.createPlaceholder(g),f=g.css(q),l||(l=g["top"===q?"outerHeight":"outerWidth"]()/3),j&&(e={opacity:1},e[q]=f,g.css("opacity",0).css(q,r?2*-l:2*l).animate(e,o,p)),i&&(l/=Math.pow(2,m-1)),e={},e[q]=f;s<m;s++)d={},d[q]=(r?"-=":"+=")+l,g.animate(d,o,p).animate(e,o,p),l=i?2*l:l/2;i&&(d={opacity:0},d[q]=(r?"-=":"+=")+l,g.animate(d,o,p)),g.queue(c),a.effects.unshift(g,t,n+1)}),a.effects.define("clip","hide",function(b,c){var d,e={},f=a(this),g=b.direction||"vertical",h="both"===g,i=h||"horizontal"===g,j=h||"vertical"===g;d=f.cssClip(),e.clip={top:j?(d.bottom-d.top)/2:d.top,right:i?(d.right-d.left)/2:d.right,bottom:j?(d.bottom-d.top)/2:d.bottom,left:i?(d.right-d.left)/2:d.left},a.effects.createPlaceholder(f),"show"===b.mode&&(f.cssClip(e.clip),e.clip=d),f.animate(e,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("drop","hide",function(b,c){var d,e=a(this),f=b.mode,g="show"===f,h=b.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h?"-=":"+=",k="+="===j?"-=":"+=",l={opacity:0};a.effects.createPlaceholder(e),d=b.distance||e["top"===i?"outerHeight":"outerWidth"](!0)/2,l[i]=j+d,g&&(e.css(l),l[i]=k+d,l.opacity=1),e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("explode","hide",function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=b.mode,p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;f<l;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;g<m;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}),a.effects.define("fade","toggle",function(b,c){var d="show"===b.mode;a(this).css("opacity",d?0:1).animate({opacity:d?1:0},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("fold","hide",function(b,c){var d=a(this),e=b.mode,f="show"===e,g="hide"===e,h=b.size||15,i=/([0-9]+)%/.exec(h),j=!!b.horizFirst,k=j?["right","bottom"]:["bottom","right"],l=b.duration/2,m=a.effects.createPlaceholder(d),n=d.cssClip(),o={clip:a.extend({},n)},p={clip:a.extend({},n)},q=[n[k[0]],n[k[1]]],r=d.queue().length;i&&(h=parseInt(i[1],10)/100*q[g?0:1]),o.clip[k[0]]=h,p.clip[k[0]]=h,p.clip[k[1]]=0,f&&(d.cssClip(p.clip),m&&m.css(a.effects.clipToBox(p)),p.clip=n),d.queue(function(c){m&&m.animate(a.effects.clipToBox(o),l,b.easing).animate(a.effects.clipToBox(p),l,b.easing),c()}).animate(o,l,b.easing).animate(p,l,b.easing).queue(c),a.effects.unshift(d,r,4)}),a.effects.define("highlight","show",function(b,c){var d=a(this),e={backgroundColor:d.css("backgroundColor")};"hide"===b.mode&&(e.opacity=0),a.effects.saveStyle(d),d.css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(e,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("size",function(b,c){var d,e,f,g=a(this),h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=b.mode,l="effect"!==k,m=b.scale||"both",n=b.origin||["middle","center"],o=g.css("position"),p=g.position(),q=a.effects.scaledDimensions(g),r=b.from||q,s=b.to||a.effects.scaledDimensions(g,0);a.effects.createPlaceholder(g),"show"===k&&(f=r,r=s,s=f),e={from:{y:r.height/q.height,x:r.width/q.width},to:{y:s.height/q.height,x:s.width/q.width}},"box"!==m&&"both"!==m||(e.from.y!==e.to.y&&(r=a.effects.setTransition(g,i,e.from.y,r),s=a.effects.setTransition(g,i,e.to.y,s)),e.from.x!==e.to.x&&(r=a.effects.setTransition(g,j,e.from.x,r),s=a.effects.setTransition(g,j,e.to.x,s))),"content"!==m&&"both"!==m||e.from.y!==e.to.y&&(r=a.effects.setTransition(g,h,e.from.y,r),s=a.effects.setTransition(g,h,e.to.y,s)),n&&(d=a.effects.getBaseline(n,q),r.top=(q.outerHeight-r.outerHeight)*d.y+p.top,r.left=(q.outerWidth-r.outerWidth)*d.x+p.left,s.top=(q.outerHeight-s.outerHeight)*d.y+p.top,s.left=(q.outerWidth-s.outerWidth)*d.x+p.left),g.css(r),"content"!==m&&"both"!==m||(i=i.concat(["marginTop","marginBottom"]).concat(h),j=j.concat(["marginLeft","marginRight"]),g.find("*[width]").each(function(){var c=a(this),d=a.effects.scaledDimensions(c),f={height:d.height*e.from.y,width:d.width*e.from.x,outerHeight:d.outerHeight*e.from.y,outerWidth:d.outerWidth*e.from.x},g={height:d.height*e.to.y,width:d.width*e.to.x,outerHeight:d.height*e.to.y,outerWidth:d.width*e.to.x};e.from.y!==e.to.y&&(f=a.effects.setTransition(c,i,e.from.y,f),g=a.effects.setTransition(c,i,e.to.y,g)),e.from.x!==e.to.x&&(f=a.effects.setTransition(c,j,e.from.x,f),g=a.effects.setTransition(c,j,e.to.x,g)),l&&a.effects.saveStyle(c),c.css(f),c.animate(g,b.duration,b.easing,function(){l&&a.effects.restoreStyle(c)})})),g.animate(s,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){var b=g.offset();0===s.opacity&&g.css("opacity",r.opacity),l||(g.css("position","static"===o?"relative":o).offset(b),a.effects.saveStyle(g)),c()}})}),a.effects.define("scale",function(b,c){var d=a(this),e=b.mode,f=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"effect"!==e?0:100),g=a.extend(!0,{from:a.effects.scaledDimensions(d),to:a.effects.scaledDimensions(d,f,b.direction||"both"),origin:b.origin||["middle","center"]},b);b.fade&&(g.from.opacity=1,g.to.opacity=0),a.effects.effect.size.call(this,g,c)}),a.effects.define("puff","hide",function(b,c){var d=a.extend(!0,{},b,{fade:!0,percent:parseInt(b.percent,10)||150});a.effects.effect.scale.call(this,d,c)}),a.effects.define("pulsate","show",function(b,c){var d=a(this),e=b.mode,f="show"===e,g="hide"===e,h=f||g,i=2*(b.times||5)+(h?1:0),j=b.duration/i,k=0,l=1,m=d.queue().length;for(!f&&d.is(":visible")||(d.css("opacity",0).show(),k=1);l<i;l++)d.animate({opacity:k},j,b.easing),k=1-k;d.animate({opacity:k},j,b.easing),d.queue(c),a.effects.unshift(d,m,i+1)}),a.effects.define("shake",function(b,c){var d=1,e=a(this),f=b.direction||"left",g=b.distance||20,h=b.times||3,i=2*h+1,j=Math.round(b.duration/i),k="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,m={},n={},o={},p=e.queue().length;for(a.effects.createPlaceholder(e),m[k]=(l?"-=":"+=")+g,n[k]=(l?"+=":"-=")+2*g,o[k]=(l?"-=":"+=")+2*g,e.animate(m,j,b.easing);d<h;d++)e.animate(n,j,b.easing).animate(o,j,b.easing);e.animate(n,j,b.easing).animate(m,j/2,b.easing).queue(c),a.effects.unshift(e,p,i+1)}),a.effects.define("slide","show",function(b,c){var d,e,f=a(this),g={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},h=b.mode,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l=b.distance||f["top"===j?"outerHeight":"outerWidth"](!0),m={};a.effects.createPlaceholder(f),d=f.cssClip(),e=f.position()[j],m[j]=(k?-1:1)*l+e,m.clip=f.cssClip(),m.clip[g[i][1]]=m.clip[g[i][0]],"show"===h&&(f.cssClip(m.clip),f.css(j,m[j]),m.clip=d,m[j]=e),f.animate(m,{queue:!1,duration:b.duration,easing:b.easing,complete:c})});a.uiBackCompat!==!1&&(s=a.effects.define("transfer",function(b,c){a(this).transfer(b,c)}))}),null==window.jQuery.ui)throw new Error('Grunt Requireize: module does not define "window.jQuery.ui"');return window.jQuery.ui}),fweb_define("jquery.throttle-debounce",["jquery"],null,function(){if(function(a,b){"$:nomunge";var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),null==window.jQuery.debounce)throw new Error('Grunt Requireize: module does not define "window.jQuery.debounce"');return window.jQuery.debounce}),fweb_define("closure-ipaddress",[],null,function(){if(function(){function a(a){throw a}function b(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function c(a,b){var c=a.split("."),d=w;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function d(a){function b(){}var c=s;b.prototype=c.prototype,a.m=c.prototype,a.prototype=new b}function e(a,b){this.a=[],this.b=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=0|a[d];c&&e==b||(this.a[d]=e,c=!1)}}function f(a){if(-128<=a&&128>a){var b=x[a];if(b)return b}return b=new e([0|a],0>a?-1:0),-128<=a&&128>a&&(x[a]=b),b}function g(a){if(isNaN(a)||!isFinite(a))return z;if(0>a)return m(g(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=y;return new e(b,0)}function h(b,c){0==b.length&&a(Error("number format error: empty string"));var d=c||10;if((2>d||36<d)&&a(Error("radix out of range: "+d)),"-"==b.charAt(0))return m(h(b.substring(1),d));0<=b.indexOf("-")&&a(Error('number format error: interior "-" character'));for(var e=g(Math.pow(d,8)),f=z,i=0;i<b.length;i+=8){var j=Math.min(8,b.length-i),k=parseInt(b.substring(i,i+j),d);8>j?(j=g(Math.pow(d,j)),f=f.multiply(j).add(g(k))):(f=f.multiply(e),f=f.add(g(k)))}return f}function i(a,b){return 0>b?0:b<a.a.length?a.a[b]:a.b}function j(a,b){var c=i(a,b);return 0<=c?c:y+c}function k(a){if(0!=a.b)return!1;for(var b=0;b<a.a.length;b++)if(0!=a.a[b])return!1;return!0}function l(a,b){var c=a.d(b);return-1==c.b?-1:k(c)?0:1}function m(a){for(var b=a.a.length,c=[],d=0;d<b;d++)c[d]=~a.a[d];return new e(c,~a.b).add(A)}function n(a,b){for(;(65535&a[b])!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535}function o(b,c){if(k(c)&&a(Error("division by zero")),k(b))return z;if(-1==b.b)return-1==c.b?o(m(b),m(c)):m(o(m(b),c));if(-1==c.b)return m(o(b,m(c)));for(var d=z,e=b;e.g(c);){
for(var f=Math.max(1,Math.floor(e.e()/c.e())),h=Math.ceil(Math.log(f)/Math.LN2),h=48>=h?1:Math.pow(2,h-48),i=g(f),j=i.multiply(c);-1==j.b||0<l(j,e);)f-=h,i=g(f),j=i.multiply(c);k(i)&&(i=A),d=d.add(i),e=e.d(j)}return d}function p(a,b){for(var c=Math.max(a.a.length,b.a.length),d=[],f=0;f<c;f++)d[f]=i(a,f)|i(b,f);return new e(d,a.b|b.b)}function q(a){var b,c={};for(b in a)c[b]=a[b];return c}function r(a,c){for(var d=1;d<arguments.length;d++){var e,f,g=arguments[d];if((f="array"==b(g))||(e=g,f=b(e),f=(e="array"==f||"object"==f&&"number"==typeof e.length)&&Object.prototype.hasOwnProperty.call(g,"callee")),f)a.push.apply(a,g);else if(e){f=a.length;for(var h=g.length,i=0;i<h;i++)a[f+i]=g[i]}else a.push(g)}}function s(a,b){this.f=a,this.l=b,this.c=""}function t(b){var c=z;if(b instanceof e)(0!=b.b||0>l(b,z)||0<l(b,E))&&a(Error("The address does not look like an IPv4.")),c=q(b);else{D.test(b)||a(Error(b+" does not look like an IPv4 address."));var d=b.split(".");4!=d.length&&a(Error(b+" does not look like an IPv4 address."));for(var f=0;f<d.length;f++){var h;h=d[f];var i=Number(h);h=0==i&&/^[\s\xa0]*$/.test(h)?NaN:i,(i=isNaN(h))||(i=0>h)||(i=255<h)||(i=1!=d[f].length)&&(i=0==d[f].lastIndexOf("0",0)),i&&a(Error("In "+b+", octet "+f+" is not valid")),h=g(h),c=p(c.shiftLeft(8),h)}}s.call(this,c,4)}function u(b){var c=z;if(b instanceof e)(0!=b.b||0>l(b,z)||0<l(b,H))&&a(Error("The address does not look like a valid IPv6.")),c=q(b);else{F.test(b)||a(Error(b+" is not a valid IPv6 address."));var d=b.split(":");if(-1!=d[d.length-1].indexOf(".")){b=j(new t(d[d.length-1]).h(),0);var f=[];f.push((b>>>16&65535).toString(16)),f.push((65535&b).toString(16)),C.splice.call(d,d.length-1,1),r(d,f),b=d.join(":")}if(f=b.split("::"),(2<f.length||1==f.length&&8!=d.length)&&a(Error(b+" is not a valid IPv6 address.")),1<f.length){d=f[0].split(":"),f=f[1].split(":"),1==d.length&&""==d[0]&&(d=[]),1==f.length&&""==f[0]&&(f=[]);var g=8-(d.length+f.length);if(1>g)d=[];else{for(var i=[],k=0;k<g;k++)i[k]="0";r(d,i),r(d,f)}}for(8!=d.length&&a(Error(b+" is not a valid IPv6 address")),f=0;f<d.length;f++)g=h(d[f],16),(0>l(g,z)||0<l(g,G))&&a(Error(d[f]+" in "+b+" is not a valid hextet.")),c=p(c.shiftLeft(16),g)}s.call(this,c,6)}var v,w=this,x={},y=4294967296,z=f(0),A=f(1),B=f(16777216);v=e.prototype,v.e=function(){if(-1==this.b)return-m(this).e();for(var a=0,b=1,c=0;c<this.a.length;c++)a+=j(this,c)*b,b*=y;return a},v.toString=function(b){if(b=b||10,(2>b||36<b)&&a(Error("radix out of range: "+b)),k(this))return"0";if(-1==this.b)return"-"+m(this).toString(b);for(var c=g(Math.pow(b,6)),d=this,e="";;){var f=o(d,c),d=d.d(f.multiply(c)),h=(0<d.a.length?d.a[0]:d.b).toString(b),d=f;if(k(d))return h+e;for(;6>h.length;)h="0"+h;e=""+h+e}},v.g=function(a){return 0<=l(this,a)},v.j=function(a){return 0>=l(this,a)},v.add=function(a){for(var b=Math.max(this.a.length,a.a.length),c=[],d=0,f=0;f<=b;f++){var g=d+(65535&i(this,f))+(65535&i(a,f)),h=(g>>>16)+(i(this,f)>>>16)+(i(a,f)>>>16),d=h>>>16,g=65535&g,h=65535&h;c[f]=h<<16|g}return new e(c,c[c.length-1]&-2147483648?-1:0)},v.d=function(a){return this.add(m(a))},v.multiply=function(a){if(k(this)||k(a))return z;if(-1==this.b)return-1==a.b?m(this).multiply(m(a)):m(m(this).multiply(a));if(-1==a.b)return m(this.multiply(m(a)));if(0>l(this,B)&&0>l(a,B))return g(this.e()*a.e());for(var b=this.a.length+a.a.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.a.length;d++)for(var f=0;f<a.a.length;f++){var h=i(this,d)>>>16,j=65535&i(this,d),o=i(a,f)>>>16,p=65535&i(a,f);c[2*d+2*f]+=j*p,n(c,2*d+2*f),c[2*d+2*f+1]+=h*p,n(c,2*d+2*f+1),c[2*d+2*f+1]+=j*o,n(c,2*d+2*f+1),c[2*d+2*f+2]+=h*o,n(c,2*d+2*f+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new e(c,0)},v.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.a.length+b+(0<a?1:0),d=[],f=0;f<c;f++)d[f]=0<a?i(this,f-b)<<a|i(this,f-b-1)>>>32-a:i(this,f-b);return new e(d,this.b)},v.k=function(a){var b=a>>5;a%=32;for(var c=this.a.length-b,d=[],f=0;f<c;f++)d[f]=0<a?i(this,f+b)>>>a|i(this,f+b+1)<<32-a:i(this,f+b);return new e(d,this.b)};var C=Array.prototype;s.prototype.i=function(){return this.l},s.prototype.h=function(){return q(this.f)},d(t);var D=/^[0-9.]*$/,E=A.shiftLeft(32).d(A);t.prototype.toString=function(){if(this.c)return this.c;for(var a=j(this.f,0),b=[],c=3;0<=c;c--)b[c]=String(255&a),a>>>=8;return this.c=b.join(".")},d(u);var F=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,G=f(65535),H=A.shiftLeft(128).d(A);u.prototype.toString=function(){if(this.c)return this.c;for(var a=[],b=3;0<=b;b--){var c=j(this.f,b),d=65535&c;a.push((c>>>16).toString(16)),a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);return 0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a))),this.c=a.join(":")},c("goog.isFunction",function(a){return"function"==b(a)}),c("goog.math.Integer",e),e.ONE=A,e.fromNumber=g,e.fromString=h,e.prototype=e.prototype,e.prototype.greaterThanOrEqual=e.prototype.g,e.prototype.lessThanOrEqual=e.prototype.j,e.prototype.shiftRight=e.prototype.k,e.prototype.shiftLeft=e.prototype.shiftLeft,e.prototype.add=e.prototype.add,e.prototype.subtract=e.prototype.d,e.prototype.toNumber=e.prototype.e,e.prototype.toString=e.prototype.toString,c("goog.net.IpAddress",s),c("goog.net.Ipv4Address",t),c("goog.net.Ipv6Address",u),s.fromString=function(a){try{return-1!=a.indexOf(":")?new u(a):new t(a)}catch(a){return null}},s.prototype=s.prototype,s.prototype.toInteger=s.prototype.h,s.prototype.getVersion=s.prototype.i}(),null==window.goog)throw new Error('Grunt Requireize: module does not define "window.goog"');return window.goog}),fweb_define("md5",[],null,function(){var a=void 0;if(function(b){"use strict";function c(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function d(a,b){return a<<b|a>>>32-b}function e(a,b,e,f,g,h){return c(d(c(c(b,a),c(f,h)),g),e)}function f(a,b,c,d,f,g,h){return e(b&c|~b&d,a,b,f,g,h)}function g(a,b,c,d,f,g,h){return e(b&d|c&~d,a,b,f,g,h)}function h(a,b,c,d,f,g,h){return e(b^c^d,a,b,f,g,h)}function i(a,b,c,d,f,g,h){return e(c^(b|~d),a,b,f,g,h)}function j(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;var d,e,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)e=m,j=n,k=o,l=p,m=f(m,n,o,p,a[d],7,-680876936),p=f(p,m,n,o,a[d+1],12,-389564586),o=f(o,p,m,n,a[d+2],17,606105819),n=f(n,o,p,m,a[d+3],22,-1044525330),m=f(m,n,o,p,a[d+4],7,-176418897),p=f(p,m,n,o,a[d+5],12,1200080426),o=f(o,p,m,n,a[d+6],17,-1473231341),n=f(n,o,p,m,a[d+7],22,-45705983),m=f(m,n,o,p,a[d+8],7,1770035416),p=f(p,m,n,o,a[d+9],12,-1958414417),o=f(o,p,m,n,a[d+10],17,-42063),n=f(n,o,p,m,a[d+11],22,-1990404162),m=f(m,n,o,p,a[d+12],7,1804603682),p=f(p,m,n,o,a[d+13],12,-40341101),o=f(o,p,m,n,a[d+14],17,-1502002290),n=f(n,o,p,m,a[d+15],22,1236535329),m=g(m,n,o,p,a[d+1],5,-165796510),p=g(p,m,n,o,a[d+6],9,-1069501632),o=g(o,p,m,n,a[d+11],14,643717713),n=g(n,o,p,m,a[d],20,-373897302),m=g(m,n,o,p,a[d+5],5,-701558691),p=g(p,m,n,o,a[d+10],9,38016083),o=g(o,p,m,n,a[d+15],14,-660478335),n=g(n,o,p,m,a[d+4],20,-405537848),m=g(m,n,o,p,a[d+9],5,568446438),p=g(p,m,n,o,a[d+14],9,-1019803690),o=g(o,p,m,n,a[d+3],14,-187363961),n=g(n,o,p,m,a[d+8],20,1163531501),m=g(m,n,o,p,a[d+13],5,-1444681467),p=g(p,m,n,o,a[d+2],9,-51403784),o=g(o,p,m,n,a[d+7],14,1735328473),n=g(n,o,p,m,a[d+12],20,-1926607734),m=h(m,n,o,p,a[d+5],4,-378558),p=h(p,m,n,o,a[d+8],11,-2022574463),o=h(o,p,m,n,a[d+11],16,1839030562),n=h(n,o,p,m,a[d+14],23,-35309556),m=h(m,n,o,p,a[d+1],4,-1530992060),p=h(p,m,n,o,a[d+4],11,1272893353),o=h(o,p,m,n,a[d+7],16,-155497632),n=h(n,o,p,m,a[d+10],23,-1094730640),m=h(m,n,o,p,a[d+13],4,681279174),p=h(p,m,n,o,a[d],11,-358537222),o=h(o,p,m,n,a[d+3],16,-722521979),n=h(n,o,p,m,a[d+6],23,76029189),m=h(m,n,o,p,a[d+9],4,-640364487),p=h(p,m,n,o,a[d+12],11,-421815835),o=h(o,p,m,n,a[d+15],16,530742520),n=h(n,o,p,m,a[d+2],23,-995338651),m=i(m,n,o,p,a[d],6,-198630844),p=i(p,m,n,o,a[d+7],10,1126891415),o=i(o,p,m,n,a[d+14],15,-1416354905),n=i(n,o,p,m,a[d+5],21,-57434055),m=i(m,n,o,p,a[d+12],6,1700485571),p=i(p,m,n,o,a[d+3],10,-1894986606),o=i(o,p,m,n,a[d+10],15,-1051523),n=i(n,o,p,m,a[d+1],21,-2054922799),m=i(m,n,o,p,a[d+8],6,1873313359),p=i(p,m,n,o,a[d+15],10,-30611744),o=i(o,p,m,n,a[d+6],15,-1560198380),n=i(n,o,p,m,a[d+13],21,1309151649),m=i(m,n,o,p,a[d+4],6,-145523070),p=i(p,m,n,o,a[d+11],10,-1120210379),o=i(o,p,m,n,a[d+2],15,718787259),n=i(n,o,p,m,a[d+9],21,-343485551),m=c(m,e),n=c(n,j),o=c(o,k),p=c(p,l);return[m,n,o,p]}function k(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function l(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function m(a){return k(j(l(a),8*a.length))}function n(a,b){var c,d,e=l(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=j(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=j(f.concat(l(b)),512+8*b.length),k(j(g.concat(d),640))}function o(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function p(a){return unescape(encodeURIComponent(a))}function q(a){return m(p(a))}function r(a){return o(q(a))}function s(a,b){return n(p(a),p(b))}function t(a,b){return o(s(a,b))}function u(a,b,c){return b?c?s(b,a):t(b,a):c?q(a):r(a)}"function"==typeof a&&a.amd?a(function(){return u}):b.md5=u}(this),null==window.md5)throw new Error('Grunt Requireize: module does not define "window.md5"');return window.md5}),fweb_define("hammerjs",[],null,function(){var a=void 0;if(function(b,c,d,e){"use strict";function f(a,b,c){return setTimeout(k(a,c),b)}function g(a,b,c){return!!Array.isArray(a)&&(h(a,c[b],c),!0)}function h(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==e)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function i(a,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=b.console&&(b.console.warn||b.console.log);return f&&f.call(b.console,e,d),a.apply(this,arguments)}}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&ia(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==la?a.apply(b?b[0]||e:e,b):a}function m(a,b){return a===e?b:a}function n(a,b,c){h(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){h(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,d,f=b[0].toUpperCase()+b.slice(1),g=0;g<ja.length;){if(c=ja[g],d=c?c+f:b,d in a)return d;g++}return e}function w(){return ra++}function x(a){var c=a.ownerDocument||a;return c.defaultView||c.parentWindow||b}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:ua?N:va?Q:ta?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ba&&d-e===0,g=b&(Da|Ea)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=oa(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY);var j=G(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=na(j.x)>na(j.y)?j.x:j.y,b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,D(c,b);var k=a.element;p(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ba&&f.eventType!==Da||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,d,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ea&&(i>Aa||h.velocity===e)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=G(i,j,k);d=l.x,f=l.y,c=na(l.x)>na(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,d=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=d,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:ma(a.pointers[c].clientX),clientY:ma(a.pointers[c].clientY)},c++;return{timeStamp:oa(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:ma(a[0].clientX),y:ma(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:ma(c/b),y:ma(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Fa:na(a)>=na(b)?a<0?Ga:Ha:b<0?Ia:Ja}function I(a,b,c){c||(c=Na);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Na);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],Oa)+J(a[1],a[0],Oa)}function L(a,b){return I(b[0],b[1],Oa)/I(a[0],a[1],Oa)}function M(){this.evEl=Qa,this.evWin=Ra,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Ua,this.evWin=Va,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Xa,this.evWin=Ya,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Da|Ea)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=$a,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(Ba|Ca)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===Ba)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Da|Ea)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,eb))return eb;var b=q(a,fb),c=q(a,gb);return b&&c?eb:b||c?b?fb:gb:q(a,db)?db:cb}function V(a){this.options=ia({},this.defaults,a||{}),this.id=w(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=hb,this.simultaneous={},this.requireFail=[]}function W(a){return a&mb?"cancel":a&kb?"end":a&jb?"move":a&ib?"start":""}function X(a){return a==Ja?"down":a==Ia?"up":a==Ga?"left":a==Ha?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function aa(){V.apply(this,arguments),this._timer=null,this._input=null}function ba(){Z.apply(this,arguments)}function ca(){Z.apply(this,arguments)}function da(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ea(a,b){return b=b||{},b.recognizers=m(b.recognizers,ea.defaults.preset),new fa(a,b)}function fa(a,b){this.options=ia({},ea.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),ga(this,!0),h(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ga(a,b){var c=a.element;c.style&&h(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function ha(a,b){var d=c.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=b,b.target.dispatchEvent(d)}var ia,ja=["","webkit","Moz","MS","ms","o"],ka=c.createElement("div"),la="function",ma=Math.round,na=Math.abs,oa=Date.now;ia="function"!=typeof Object.assign?function(a){if(a===e||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==e&&null!==d)for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f])}return b}:Object.assign;var pa=i(function(a,b,c){for(var d=Object.keys(b),f=0;f<d.length;)(!c||c&&a[d[f]]===e)&&(a[d[f]]=b[d[f]]),f++;return a},"extend","Use `assign`."),qa=i(function(a,b){return pa(a,b,!0)},"merge","Use `assign`."),ra=1,sa=/mobile|tablet|ip(ad|hone|od)|android/i,ta="ontouchstart"in b,ua=v(b,"PointerEvent")!==e,va=ta&&sa.test(navigator.userAgent),wa="touch",xa="pen",ya="mouse",za="kinect",Aa=25,Ba=1,Ca=2,Da=4,Ea=8,Fa=1,Ga=2,Ha=4,Ia=8,Ja=16,Ka=Ga|Ha,La=Ia|Ja,Ma=Ka|La,Na=["x","y"],Oa=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Pa={mousedown:Ba,mousemove:Ca,mouseup:Da},Qa="mousedown",Ra="mousemove mouseup";j(M,y,{handler:function(a){var b=Pa[a.type];b&Ba&&0===a.button&&(this.pressed=!0),b&Ca&&1!==a.which&&(b=Da),this.pressed&&this.allow&&(b&Da&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:ya,srcEvent:a}))}});var Sa={pointerdown:Ba,pointermove:Ca,pointerup:Da,pointercancel:Ea,pointerout:Ea},Ta={2:wa,3:xa,4:ya,5:za},Ua="pointerdown",Va="pointermove pointerup pointercancel";b.MSPointerEvent&&!b.PointerEvent&&(Ua="MSPointerDown",Va="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Sa[d],f=Ta[a.pointerType]||a.pointerType,g=f==wa,h=s(b,a.pointerId,"pointerId");e&Ba&&(0===a.button||g)?h<0&&(b.push(a),h=b.length-1):e&(Da|Ea)&&(c=!0),h<0||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Wa={touchstart:Ba,touchmove:Ca,touchend:Da,touchcancel:Ea},Xa="touchstart",Ya="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Wa[a.type];if(b===Ba&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Da|Ea)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:wa,srcEvent:a})}}});var Za={touchstart:Ba,touchmove:Ca,touchend:Da,touchcancel:Ea},$a="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Za[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:wa,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==wa,e=c.pointerType==ya;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Da|Ea)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var _a=v(ka.style,"touchAction"),ab=_a!==e,bb="compute",cb="auto",db="manipulation",eb="none",fb="pan-x",gb="pan-y";T.prototype={set:function(a){a==bb&&(a=this.compute()),ab&&this.manager.element.style&&(this.manager.element.style[_a]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return h(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!ab){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,eb),f=q(d,gb),g=q(d,fb);if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}if(!g||!f)return e||f&&c&Ka||g&&c&La?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var hb=1,ib=2,jb=4,kb=8,lb=kb,mb=16,nb=32;V.prototype={defaults:{},set:function(a){return ia(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(g(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return g(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(g(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),s(b,a)===-1&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(g(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;d<kb&&b(c.options.event+W(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=kb&&b(c.options.event+W(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=nb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(nb|hb)))return!1;a++}return!0},recognize:function(a){var b=ia({},a);return l(this.options.enable,[this,b])?(this.state&(lb|mb|nb)&&(this.state=hb),this.state=this.process(b),void(this.state&(ib|jb|kb|mb)&&this.tryEmit(b))):(this.reset(),void(this.state=nb))},process:function(a){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ib|jb),e=this.attrTest(a);return d&&(c&Ea||!e)?b|mb:d||e?c&Da?b|kb:b&ib?b|jb:ib:nb}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ma},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ka&&b.push(gb),a&La&&b.push(fb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ka?(e=0===f?Fa:f<0?Ga:Ha,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Fa:g<0?Ia:Ja,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&ib||!(this.state&ib)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[eb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ib)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),j(aa,V,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[cb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Da|Ea)&&!e)this.reset();else if(a.eventType&Ba)this.reset(),this._timer=f(function(){this.state=lb,this.tryEmit()},b.time,this);else if(a.eventType&Da)return lb;return nb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===lb&&(a&&a.eventType&Da?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=oa(),this.manager.emit(this.options.event,this._input)))}}),j(ba,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[eb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ib)}}),j(ca,Z,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ka|La,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ka|La)?b=a.overallVelocity:c&Ka?b=a.overallVelocityX:c&La&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&na(b)>this.options.velocity&&a.eventType&Da},emit:function(a){var b=X(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(da,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[db]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),a.eventType&Ba&&0===this.count)return this.failTimeout();if(d&&e&&c){if(a.eventType!=Da)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=f(function(){this.state=lb,this.tryEmit()},b.interval,this),ib):lb}return nb},failTimeout:function(){return this._timer=f(function(){this.state=nb},this.options.interval,this),nb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==lb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ea.VERSION="2.0.6",ea.defaults={domEvents:!1,touchAction:bb,enable:!0,inputTarget:null,inputClass:null,preset:[[ba,{enable:!1}],[_,{enable:!1},["rotate"]],[ca,{direction:Ka}],[$,{direction:Ka},["swipe"]],[da],[da,{event:"doubletap",taps:2},["tap"]],[aa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ob=1,pb=2;fa.prototype={set:function(a){return ia(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?pb:ob},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&lb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===pb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ib|jb|kb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(g(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(g(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=s(b,a);c!==-1&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){var c=this.handlers;return h(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return h(r(a),function(a){b?c[a]&&c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ha(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ga(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ia(ea,{INPUT_START:Ba,INPUT_MOVE:Ca,INPUT_END:Da,INPUT_CANCEL:Ea,STATE_POSSIBLE:hb,STATE_BEGAN:ib,STATE_CHANGED:jb,STATE_ENDED:kb,STATE_RECOGNIZED:lb,STATE_CANCELLED:mb,STATE_FAILED:nb,DIRECTION_NONE:Fa,DIRECTION_LEFT:Ga,DIRECTION_RIGHT:Ha,DIRECTION_UP:Ia,DIRECTION_DOWN:Ja,DIRECTION_HORIZONTAL:Ka,DIRECTION_VERTICAL:La,DIRECTION_ALL:Ma,Manager:fa,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:da,Pan:$,Swipe:ca,Pinch:_,Rotate:ba,Press:aa,on:n,off:o,each:h,merge:qa,extend:pa,assign:ia,inherit:j,bindFn:k,prefixed:v});var qb="undefined"!=typeof b?b:"undefined"!=typeof self?self:{};qb.Hammer=ea,"function"==typeof a&&a.amd?a(function(){return ea}):"undefined"!=typeof module&&module.exports?module.exports=ea:b[d]=ea}(window,document,"Hammer"),null==window.Hammer)throw new Error('Grunt Requireize: module does not define "window.Hammer"');return window.Hammer}),fweb_define("filesaver",[],null,function(){var a=void 0,b={exports:{}},c=c||function(a){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=500,m=function(b){var d=function(){"string"==typeof b?c().revokeObjectURL(b):b.remove()};a.chrome?d():setTimeout(d,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},o=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a},p=function(b,i,l){l||(b=o(b));var p,q,r,s=this,t=b.type,u=!1,v=function(){n(s,"writestart progress write writeend".split(" "))},w=function(){if(!u&&p||(p=c().createObjectURL(b)),q)q.location.href=p;else{var d=a.open(p,"_blank");void 0==d&&"undefined"!=typeof safari&&(a.location.href=p)}s.readyState=s.DONE,v(),m(p)},x=function(a){return function(){if(s.readyState!==s.DONE)return a.apply(this,arguments)}},y={create:!0,exclusive:!1};return s.readyState=s.INIT,i||(i="download"),e?(p=c().createObjectURL(b),d.href=p,d.download=i,void setTimeout(function(){f(d),v(),m(p),s.readyState=s.DONE})):(a.chrome&&t&&t!==j&&(r=b.slice||b.webkitSlice,b=r.call(b,0,b.size,j),u=!0),g&&"download"!==i&&(i+=".download"),(t===j||g)&&(q=a),h?(k+=b.size,void h(a.TEMPORARY,k,x(function(a){a.root.getDirectory("saved",y,x(function(a){var c=function(){a.getFile(i,y,x(function(a){a.createWriter(x(function(c){c.onwriteend=function(b){q.location.href=a.toURL(),s.readyState=s.DONE,n(s,"writeend",b),m(a)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=s["on"+a]}),c.write(b),s.abort=function(){c.abort(),s.readyState=s.DONE},s.readyState=s.WRITING}),w)}),w)};a.getFile(i,{create:!1},x(function(a){a.remove(),c()}),x(function(a){a.code===a.NOT_FOUND_ERR?c():w()}))}),w)}),w)):void w())},q=p.prototype,r=function(a,b,c){return new p(a,b,c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return c||(a=o(a)),navigator.msSaveOrOpenBlob(a,b||"download")}:(q.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,
r)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);return"undefined"!=typeof b&&b.exports?b.exports.saveAs=c:"undefined"!=typeof a&&null!==a&&null!=a.amd&&a([],function(){return c}),b.exports}),fweb_define("jquery.util_core",["jquery","fweb.util/lang"],null,function(a,b){"use strict";a.getInfo=function(a,c,d){var e,f={silent:d};return Array.isArray(c)?e=c:f.strict=c,b.translate(a,e,f)},a.hasInfo=function(a){return b.translationExistsFor(a)},a.updateInfo=function(a,c){var d=b.getLanguageMap();d[a]=c},a.addScript=function(b,c){"string"==typeof b&&(b={url:b,async:!1});var d,e=b.url;if(a("script").each(function(){return d=a(this).attr("src")===e,!d}),d&&!c)return a.Deferred().resolve().promise();var f=a.loadedScript||[];if(a(f).each(function(){return this.url===e&&(d=this.ajax),!d}),d&&!c)return d;var g=a.extend({dataType:"script",cache:!0,url:e},b),h=a.ajax(g);return f.push({url:e,ajax:h}),a.loadedScript=f,h},a.addStyle=function(a,b){return fweb.util.dom.addStyle(a,b)},a.addLang=function(a,b){"string"==typeof a&&"string"==typeof b&&(a=[{path:a,sec:b}]);for(var c,d=0;c=a[d];d++){var e=c.path,f=c.sec;"/"!==e.charAt(e.length-1)&&(e+="/");for(var g=f.split(":"),h=0,i=g.length;h<i;h++){var j=e+g[h];"lang_prefixes"in window?window.lang_prefixes.splice(0,0,j):window.lang_prefixes=[j]}}}}),fweb_define("cmdb",["jquery","notify","fweb.util/formatters"],"CMDB",function(a,b,c){"use strict";function d(b,c,d){var e=a.Deferred();return"error"in b||"error"===b.status?e.rejectWith(e,[b,c,d]).promise():e.resolveWith(e,arguments).promise()}function e(b,c,d){var e=0===b.status?Object.assign(new Error("Request failed"),b.statusCode()):b.responseJSON;return a.Deferred().rejectWith(this,[e,c,b,d])}function f(b,d){if("/"===b.slice(0,2).join("/")&&d.type){var e=top.state.getPathNameByType(d.type);e=c.path_name_format(e),b=[e.path,e.name].concat(b.slice(2)),delete d.type}var f=a.param(d);return f&&(f="?"+f),t+b.map(encodeURIComponent).join("/")+f}function g(b,c,g){var h=[b,c],i={};a.extend(i,g);var j=a.ajax({url:f(h,i),type:"GET",dataType:"json"});return j.then(d,e)}function h(a,b){return g(a,b,{action:"default"})}function i(b,c,g,h,i,j){var k=[c,g],l={};if(h&&k.push(h),["edit","append"].indexOf(b)===-1&&(l.action=b),Array.isArray(i)||Array.isArray(h))throw new Error("Unable to edit multiple objects with a single request");return a.extend(l,j),a.ajax({url:f(k,l),type:"edit"===b?"PUT":"POST",dataType:"json",data:JSON.stringify(i)}).then(d,e)}function j(a,b,c,d,e){return i("edit",a,b,c,d,e)}function k(a,b,c,d){return i("append",a,b,null,c,d)}function l(a,b,c,d,e,f){return e&&"object"==typeof e?e.nkey=d:e={nkey:d},i("clone",a,b,c,f,e)}function m(b,c,g,h){var i=[b,c,g],j={action:"move"};return a.extend(j,h),a.ajax({url:f(i,j),type:"PUT",dataType:"json"}).then(d,e)}function n(b,c){var g={};return a.extend(g,c),a.ajax({url:f(b,g),type:"DELETE",dataType:"json"}).then(d,e)}function o(a,b,c,d){var e=[a,b,c];if(Array.isArray(c))throw new Error("Unable to delete multiple objects with a single request");return n(e,d)}function p(a,b,c,d,e,f){var g=[a,b,c,d,e];if(Array.isArray(c)||Array.isArray(e))throw new Error("Unable to delete multiple objects with a single request");return n(g,f)}function q(b,c,g){var h=[b,c],i={action:"schema"};return a.extend(i,g),a.ajax({url:f(h,i),dataType:"json"}).then(d,e)}function r(c){if(Array.isArray(c))return a.when.apply(a,c.map(r));c.user_notified===b.LEVEL.ERROR||c instanceof Error&&0===c.status||b.post(a.getInfo(c.error||c.http_status||c.message),b.LEVEL.ERROR);var d=Array.from(arguments);return d[0]=a.extend({user_notified:b.LEVEL.ERROR},c),a.Deferred().rejectWith(this,d).promise()}function s(c,d){return d=d||b.LEVEL.ERROR,function e(f){if(Array.isArray(f))return a.when.apply(a,f.map(e));if(f.user_notified!==d){var g=a.getInfo(f.error||f.http_status||f.message),h=c?a.getInfo(c,[g]):g;b.post(h,d),f=a.extend({user_notified:d},f)}var i=a.Deferred(),j=Array.from(arguments);return j[0]=f,d===b.LEVEL.ERROR?i.rejectWith(i,j).promise():i.resolveWith(i,j).promise()}}var t="/api/v2/cmdb/";return{fetch:g,fetch_default:h,edit:j,append:k,clone:l,move:m,schema:q,delete:o,delete_child:p,notify_failure:r,notify_failure_message:s}}),fweb_define("fweb.log",["ftnt_shared"],"fweb.log",function(a){"use strict";return fweb.DEBUG&&a.log.setLogLevel(a.log.LOG_LEVEL.INFO),a.log}),fweb_define("fweb.dialog",["jquery","ftnt_shared"],null,function(a){"use strict";var b=window.fweb=window.fweb||{};b.extend=a.extend,b.extend({iframe:function(a){return fweb.log.warn('Using deprecated "fweb.iframe"'),{url:a}},dialog:function(a){fweb.log.warn('Using deprecated "fweb.dialog"');var b,c;return c="object"==typeof a&&a.url?a:{content:a},b=new Sliderin(c),b.open(),b}}),b.extend({opener:function(){return fweb.log.warn('Using deprecated "fweb.opener"'),top["embedded-iframe"]||window.parent}})}),fweb_define("fweb.util/core",null,"fweb.util.core",function(){"use strict";var a={};return a.generate_uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},a}),fweb_define("fweb.util/uri",["jquery","fweb.util/persist"],"fweb.util.uri",function(a,b){"use strict";function c(a){if(!a||"/"!==a[0])throw new Error("Path must be an absolute path");return"/"+fweb.CONFIG_GUI_NO+a}function d(a){function b(a,b){var d=c.exec(b),e=d&&decodeURIComponent(d[1]),f=d&&decodeURIComponent(d[2]);if(d)if(e in a){var g=a[e];Array.isArray(g)||(a[e]=[g]),a[e].push(f)}else a[e]=f;return a}a=(null==a?location.search:a).replace(/^\?/,"");var c=/^([^=]+)=(.*)/;return a.split("&").reduce(b,{})}function e(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}function f(a,b,c){var d=new RegExp("([?|&])"+b+"=.*?(&|$)"),e=null===c?"":b+"="+encodeURIComponent(c),f=0,g=(a||"").replace(d,function(a,b,c){return f=1,e?b+e+c:"?"===b?b:c});return f?g.indexOf("?")===g.length-1&&(g=g.substr(0,g.length-1)):e&&(g+=(g.indexOf("?")<0?"?":"&")+e),g}function g(a){var b=/\/$/,c=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;return a=a.replace(b,"").replace(c,"\\$&"),new RegExp(a+"(/.*)?")}function h(){window[l]=!0}function i(c){var d=a.Deferred(),e=top.state.file_downloading_cookie_name;return setTimeout(function a(){var c=b.getCookie(e);c?(b.removeCookie(e),d.resolve(c)):setTimeout(a,k)},k),b.removeCookie(e),window!==top&&h(),window.location.assign(c),d.promise()}function j(a){var b=window.location,c=document.createElement("a");return c.href=a,b.protocol===c.protocol&&b.hostname===c.hostname&&b.port===c.port}var k=1e3,l="fileDownloadingInsideIframe";return{FILE_DOWNLOADING_IFRAME_FLAG:l,cachePath:c,urlParams:d,formatParams:e,setQueryValue:f,makeExpression:g,indicateFileDownloadIntention:h,downloadFile:i,isSafe:j}}),fweb_define("fweb.util/location",["fweb.util/structure","jquery","notify","ftnt_shared"],"fweb.util.location",function(a,b,c){"use strict";var d={},e={},f=[],g="pathAvailable",h=0;return d.get_current=function(a){var b=(a||window).location;return b.pathname+b.search+b.hash},d.logout_redirect=function(a){var b="?redir=",c="/logout";a?c+=b+encodeURIComponent(a):null==a&&(c+=b+encodeURIComponent(d.get_current())),top.location.href=c},d.change_ng=function(b,c,d,e){var f={messageType:"changeNgLocation",path:b,search:c,hash:e,embedded:d};a.topPostMessage(f)},d.change_ng_absolute=function(b,c,d){var e={messageType:"changeNgLocation",path:b,search:c,hash:d,absolute:!0};a.topPostMessage(e)},d.join_with_mkey=function(a,b,c){var d=a.join("/").replace(/\/\/*/g,"/");return b&&(d+="/"+(c?encodeURIComponent(b):b)),d},d.get_cache=function(a,b){var c;return a in e?c=e[a]:null!==b&&(c=d.set_cache(a,b)),c},d.set_cache=function(a,b){var c=e[a]=b;return c},d.clear_cache=function(){e={}},d.notify_after_change=function(a,b,c,d){f.push({message:a,level:b,duration:c,config:d})},d.notify_queued_notifications=function(){f.forEach(function(a){c.post(a.message,a.level,a.duration,a.config)}),f=[]},d.go_back=function(a,b){var c=b?Sliderin.resolveAndCloseLast:Sliderin.closeLast;c()||(a?window.location.href=a:history.back())},d.ifPathAvailable=function(c){var d=a.getOrigin(),e=h++,f=".locationMessage"+e,i=b.Deferred(),j={messageType:g,id:e,path:c,namespace:f};return b(window).on("message"+f,function(a){var c=a.originalEvent,h=c.data,j=c.origin,k=j===d;h.messageType===g&&k&&h.id===e&&(h.result?i.resolve():i.reject()),h.namespace===f&&b(window).off("message"+f)}),a.topPostMessage(j),i.promise()},d}),fweb_define("fweb.util/browser",["ftnt_shared"],"fweb.util.browser",function(a){"use strict";return a.browser}),fweb_define("fweb.util/datetime",["jquery","jquery.ui"],"fweb.util.datetime",function(a){"use strict";var b={};b.S_TO_MS=1e3,b.MS_TO_S=1/b.S_TO_MS;var c=60;b.localSecondsToDate=function(a){if(a=Number(a),!a)return null;var d=(new Date).getTimezoneOffset()*c,e=new Date((a+d)*b.S_TO_MS),f=e.getTimezoneOffset()*c;return f!==d&&(e=new Date((a+f)*b.S_TO_MS)),e},b.gmtSecondsToDate=function(a){return new Date(a*b.S_TO_MS)},b.dateToLocalSeconds=function(a){var d=(new Date).getTimezoneOffset()*c;return Math.round(a.getTime()*b.MS_TO_S-d)},b.getLocalDate=function(a,b){var c=new Date,d=function(a){return a<10?"0"+a:a};c.setTime(void 0!==a?a:c.getTime());var e=c.getFullYear()+"/"+d(c.getMonth()+1)+"/"+d(c.getDate());return b||(e+=" "+d(c.getHours())+":"+d(c.getMinutes())+":"+d(c.getSeconds())),e},b.humanize_seconds=function(b,c){var d=Math.floor(b/86400),e=Math.floor(b/3600)%24,f=Math.floor(b/60)%60,g=Math.floor(b%60),h=c?"":" ";return b?(b=[],d&&(b.push(d+h),b.push(a.getInfo(c?"days_short":1===+d?"day_lower":"dd")+" ")),e&&(b.push(e+h),b.push(a.getInfo(c?"hours_short":1===+e?"hour_lower":"hh")+" ")),f&&(b.push(f+h),b.push(a.getInfo(c?"minutes_short":1===+f?"minute_lower":"mm")+" ")),g&&(b.push(g+h),b.push(a.getInfo(c?"seconds_short":1===+g?"second_lower":"secs")+" ")),b=b.join("")):b="",b};var d=60,e=60*d,f={realtime:!1,"5min":5*d,hour:e,day:24*e,week:24*e*7};b.timeframeRange=function(a){var b=f[a];if(!b)return{};var c=Math.ceil(Date.now()/1e3);return{end:c,start:c-b}},b.ParseDateTimeException=function(){if(!(this instanceof b.ParseDateTimeException))throw Error("Use new keyword when creating ParseDateTimeException");Error.apply(this,arguments)},b.ParseDateTimeException.prototype=new Error,b.ParseDateTimeException.prototype.constructor=b.ParseDateTimeException,b.parseDateTime=function(a){var c=/([\d]{2}):([\d]{2}):(\d{2})$/.exec(String(a).trim()),d=b.parseDate(a);if(c)c=new Date(0,0,0,c[1],c[2],c[3]).getTime()-new Date(0,0,0,0,0,0).getTime();else if(""!==a.replace(/^[^\s]+\s*/,"").trim())throw new b.ParseDateTimeException("Invalid date");return null!=d?new Date((d?d.getTime():0)+(c||0)):null},b.parseDate=function(b){var c=a.datepicker._defaults.dateFormat;try{return a.datepicker.parseDate(c,b)}catch(a){throw new Error(a+" while parsing "+b)}},b.TimeSpan=function(){for(var a=Array.prototype.slice.call(arguments);a.length<7;)a.unshift(0);var b=Date.bind.apply(Date,[null].concat(a));this.value=new b},b.TimeSpan.zeroDate=new Date(0,0,0,0,0,0,0).getTime(),b.TimeSpan.prototype.getTime=function(){return this.value.getTime()-b.TimeSpan.zeroDate},b.MIN_DATE=new Date(0,0,0),b.EPOCH_MIN_DATE=new Date(1970,0,2),b.MAX_DATE=new Date(2038,0,1),b.S_TO_MS=1e3,b.MS_TO_S=1/b.S_TO_MS,b.dateTimeFormat=a.datepicker._defaults.dateFormat+"yy hh:mm:ss",b.formatDateTime=function(a,c){return b.formatDate(a,c).toString()+" "+b.formatTime(a)},b.formatDate=function(b,c){c=c||a.datepicker._defaults.dateFormat;try{return a.datepicker.formatDate(c,b)}catch(a){throw new Error(a)}},b.formatTime=function(a,b){function c(a){for(a=String(a);a.length<2;)a="0"+a;return a}var d={H:a.getHours(),m:a.getMinutes(),s:a.getSeconds()},e={HH:c(d.H),hh:c(d.H),mm:c(d.m),ss:c(d.s)},f=Object.assign(e,d),g=new RegExp(Object.keys(f).join("|"),"g");return(b||"HH:mm:ss").replace(g,function(a){return f[a]})},b.timeInputAsDate=function(a){var b=(a||"00:00:00").split(":");return new Date(1970,0,1,parseInt(b[0]||0,10),parseInt(b[1]||0,10),parseInt(b[2]||0,10))},b.elapsedTime=function(){var b=1e3,c=60*b,d=60*c,e=24*d,f=[e,d,c,b],g=["day","hour","minute","second"],h={};return h[e]="fmt_elapsed_time_days",h[d]="fmt_elapsed_time_hours",h[c]="fmt_elapsed_time_minutes",h[b]="fmt_elapsed_time_seconds",function(c,d,e){var i,j,k=[],l="short"===d,m=l,n=function(a){var d=Math.floor(c/a),e=d;l&&(e="",d<10&&(e+="0"),e+=d),(d||m||a===b)&&(k.push(e),c-=a*d,j=j||h[a],m=!0)};return"number"==typeof c&&isFinite(c)&&(f.slice(g.indexOf(e||"day")).forEach(n),i=l?k.join(":"):a.getInfo(j,k)),i}}(),b.formatDateDiff=function(b,c){c||(c=new Date);var d="";return d=b.toDateString()===c.toDateString()?[a.pad(b.getHours()),a.pad(b.getMinutes()),a.pad(b.getSeconds())].join(":"):b.getYear()===c.getYear()?a.pad(b.getMonth()+1)+"-"+a.pad(b.getDate())+" "+a.pad(b.getHours())+":"+a.pad(b.getMinutes()):[b.getYear()+1900,a.pad(b.getMonth()+1),a.pad(b.getDate())].join("-")};var g=/(\d{4})[\-\/]{1}(\d{2})[\-\/]{1}(\d{2}) (\d{2}):(\d{2}):(\d{2})/,h=function(a,b){var c=g.exec(a);if(!c)return null;var d=c[1],e=c[2],f=c[3],h=c[4],i=c[5],j=c[6],k=new Date(d,e-1,f,h,i,j).getTime(),l=k-top.state.browser_utc_offset;return l-=b?60*top.state.getBrowerTZOffsetFromFortiGate()*1e3:60*top.state.browser_time_zone_offset*1e3};return b.fortiGateStringToUTC=function(a){return h(a,!1)},b.localFortiGateStringToUTC=function(a){return h(a,!0)},b.utcToFortiGateTimeZone=function(a){return a-60*top.state.getBrowerTZOffsetFromFortiGate()*1e3},b}),fweb_define("fweb.util/patterns",["ftnt_shared"],"fweb.util.patterns",function(a){"use strict";var b={};b.commonRegExp=function(){return{IP_SUBNET:a.IpMask.IPV4_SUBNET_EXPR,IP_AND_SUBNET:a.IpMask.IPV4_AND_SUBNET_EXPR,SUBNET:/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/((((254|252|248|240|224|192|128|0)\.0\.0\.0)|(255\.(254|252|248|240|224|192|128|0)\.0\.0)|(255\.255\.(254|252|248|240|224|192|128|0)\.0)|(255\.255\.255\.(255|254|252|248|240|224|192|128|0))|(3[0-2]|2[0-9]|1[0-9]|[0-9])))$/,XSS:/^[^<>()#'"]*$/,IP_HOST:a.IpMask.IPV4_ADDR_EXPR,IP_MASK:/^(((255|254|252|248|240|224|192|128|0)\.0\.0\.0)|(255\.(255|254|252|248|240|224|192|128)\.0\.0)|(255\.255\.(255|254|252|248|240|224|192|128)\.0)|(255\.255\.255\.(255|254|252|248|240|224|192|128|0)))$/,IP_RANGE:/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(-(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|-((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|\/(3[0-2]|[1-2][0-9]|[0-9]))?$/,IP_RANGE_SPACES:/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(-(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|\s+-\s+((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|\/(3[0-2]|[1-2][0-9]|[0-9]))?$/,IP_RANGE2:/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}\[(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])-(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\]/,IP_WILDCARD:/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}\*$/,IP6_HOST:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:)|(::))$/,IP6_HOST_NOT0:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/,IP6_SUBNET:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:)|(::))([\/]((12[0-8]|1[0-1][0-9]|0?[0-9]?[0-9])))?$/,DOMAIN_NAME:/^([a-z0-9\-]{1,63}\.)+[a-z]{2,63}$/,MAC_ADDRESS:/^[0-9a-fA-F]{2}:[0-9a-fA-F]{2}:[0-9a-fA-F]{2}:[0-9a-fA-F]{2}:[0-9a-fA-F]{2}:[0-9a-fA-F]{2}$/,MULTICAST_IP_HOST:/^(2(2[4-9]|3[0-9]))\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MULTICAST_IP_RANGE:/^(2(2[4-9]|3[0-9]))\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])-(2(2[4-9]|3[0-9]))\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NAME_NODOLLAR:/^[^<>#()"'$][^<>#()"']*$|^$/,FQDN:/^([a-zA-Z0-9\-]{1,63}\.?)+$/,FGT_HOSTNAME:/^[a-zA-Z0-9\-_]{1,35}$/,FGT_DNS_NAME:/^([a-zA-Z0-9\-_]{1,63}\.?)+$/,FGT_DNS_ENTRY_HOSTNAME:/^([a-zA-Z0-9\-_]{1,63}\.?)+|^@$/,FGT_DNS_ZONE_CONTACT:/^([a-zA-Z0-9\-_]{1,63}\.?)+(@)?([a-zA-Z0-9\-_]{1,63}\.?)+$/,NPU_VDLINK:/^npu\d+[-_]vlink$/,NPU_VDLINK_INTF:/^npu\d+[-_]vlink\d$/,INTERFACE_NAME:/^[^<>()#'":%]*$/}}(),b.re_escape=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},b.isEmptyMac=function(a){return!a||"00:00:00:00:00:00"===a};var c=function(a,b,c){var d,e,f,g,h=b.length,i=/(?:title)=(?:"([^"\\]*(\\.[^"\\]*)*)"|\'([^\'\\]*(\\.[^\'\\]*)*)\')/g,j=/<.+?>/g;if(a.indexOf("<")>=0&&b.indexOf("<")<0){g=a.split(j);for(var k=0,l=g.length;k<l&&(e=g[k],!0);k++)if((f=e.indexOf(b))>=0&&c(e,f,h)===!1)return;for(;null!=(d=i.exec(a));)if((f=(e=d[1]||d[3]||"").indexOf(b))>=0&&c(e,f,h)===!1)return}else f=a.indexOf(b),f>=0&&c(a,f,h)};return b.htmlStringContains=function(a,b){var d=!1;return c(a,b,function(){return d=!0,!1}),d},b.htmlStringSearch=function(a,b){var d=[];return c(a,b,function(a,b,c){var e=[b,b+c];e.source=a,d.push(e)}),d},b.phoneNumberInputMask="?999-999-999999999",b}),fweb_define("fweb.util/ip",["fweb.util/patterns","closure-ipaddress","ftnt_shared"],"fweb.util.ip",function(a,b,c){"use strict";var d={IpMask:c.IpMask};return d.natType=function(a,c){function d(a){if(a)return a.getVersion()}var e=[b.net.IpAddress.fromString(a),b.net.IpAddress.fromString(c)].map(d);return void 0===e[0]||void 0===e[1]||e[0]===e[1]?e[0]&&e[1]:parseInt(e.join(""),10)},d}),fweb_define("fweb.util/formatters",["jquery","fweb.util/ip","fweb.util/icon","ftnt_shared"],"fweb.util.formatters",function(a,b,c,d){"use strict";var e={},f=1e3,g=8,h=1*g/f,i="https://www.networksolutions.com/whois/results.jsp?ip=";return e.metric_bytes=d.formatters.metricBytes,e.binary_bytes=d.formatters.binaryBytes,e.metric_bytes_per_second=d.formatters.metricBytesPerSecond,e.metric_bits_per_second=d.formatters.metricBitsPerSecond,e.bytes_to_bits=function(a){return g*a},e.bytes_to_kbits=function(a){return h*a},e.number=function(a){return a.toLocaleString()},e.percentage=function(a,b,c){var d=b>0?100*a/b:0;return d.toFixed(c||1)+"%"},e.create_whois_lookup_anchor=function(c){return b.IpMask.isPublic(c)?'&nbsp;<a class="whois-lookup-address show-on-hover show-on-select" href="'+i+c+'" target="_blank" rel="noopener noreferrer"><f-icon class="fa-external-link icon-sm" title="'+a.getInfo("WHOIS Information for",[c])+'"></f-icon></a>':""},e.vdom_icon_class=function(a,b){b=b||top.state;var d=c.genVdomIconKey(a,b),e=c.iconClass(c.ICON_TYPE.VDOM,d)||"ftnt-vdom",f=b.admin.vdom_info[a];return f&&f.is_management_vdom&&b.admin.super_admin&&(e+=" ftnt-management-vdom"),e},e.vdom_format_fn=function(a,b,d){var e=d[b.selector],f=top.state,g=c.genVdomIconKey(e,f);return g?c.formatIcon(c.ICON_TYPE.VDOM,g,{label:e}):""},e.server_format_fn=function(b,d,e){var f=e[d.selector]||"",g=f?a.getInfo("Server::type."+f):"";return g?c.formatIcon(c.ICON_TYPE.SERVER_TYPE,f,{fallBackIconClass:"fa-server",label:g}):g},e.certificate_format_fn=function(b,d,e){var f=top.state.vdom_mode,g=f&&"global"===b?c.genIcon("fa-globe",null,a.getInfo("Global Certificate, available on all VDOMs")):"";return e&&e.type&&(g+=c.formatIcon(c.ICON_TYPE.CERTIFICATE,e.type,{iconTitle:e.iconTitle})),g+=d?"<span>"+d+"</span>":""},e.ldap_icon_class=function(a){if(a){var b=a.substr(0,a.indexOf("=")).toLowerCase(),d=c.iconClass(c.ICON_TYPE.LDAP_ATTRIBUTE_TYPE,b);if(d)return d}return""},e.path_name_format=function(a){var b=a.split("."),c=b.length-1,d=b.slice(0,c).join("."),e=b[c];return{path:d,name:e}},e.truncate_string=function(a,b){var c=b||32,d="",e=a;return a&&a.length>c&&(e=a.substr(0,c-d.length)+d),e},e.truncate_comment=function(a,b,c){var d=fweb_require("fweb.util/dom");if("undefined"!=typeof a){var f=d.escapeHTML(a),g=e.truncate_string(a,b),h=c?'class="'+c+'"':"";return g===a?f:'<span title="'+f+'"'+h+">"+d.escapeHTML(g)+"</span>"}return""},e.ellipsify_comment=function(a,b){var c=fweb_require("fweb.util/dom");if("undefined"!=typeof a){var d=c.escapeHTML(a),e=b?'class="'+b+'"':"";return'<div class="table-overflow-ellipsis"><div class="overflow-block"><span title="'+d+'"'+e+">"+d+"</span></div></div>"}return""},e.popularity_rating=function(a){var b=parseInt(a,10);return isNaN(b)?"":'<div class="popularity-level level-'+b+'"></div>'},e.severity_bar=function(b,c,d){var e=["none","low","medium","high","critical"];if("string"!=typeof b)return"";if("info"===b&&(b="none",d=d||"info"),!b||e.indexOf(b.toLowerCase())<0)return"";var f=[b];c&&f.push(c);var g='<div class="severity-bar '+f.join(" ")+'"><div class="severity-bar-cells" title="'+a.getInfo(d||b)+'">'+'<div class="severity-bar-cell"></div>'.repeat(5)+"</div></div>";return g},e.log_severity_bar=function(b,c,d){var e=["debug","information","notice","warning","error","critical","alert","emergency"];if("string"!=typeof b||!b||e.indexOf(b.toLowerCase())<0)return"";var f=[b];c&&f.push(c);var g='<div class="log-severity-bar '+f.join(" ")+'"><div class="log-severity-bar-cells" title="'+a.getInfo(d||b)+'">'+'<div class="log-severity-bar-cell"></div>'.repeat(7)+"</div></div>";return g},e.signal_strength_bar=d.formatters.signalStrengthBar,e.vulnerability_number_bubbles=function(a){var b,c=["critical","high","medium","low"];return a&&a.vuln_count&&(b="",c.forEach(function(c){var d=Number(a["vuln_count_"+c]);d&&(b+='<span class="number-bubble severity-'+c+'" style="margin-right: .3em;">'+d+"</span>")})),b},e.string_interpolate=function(a,b){return String(a).replace(/\{(\d+)\}/g,function(a,c){return String(b[c])})},e.wattage=function(a,b){return(a/1e3).toFixed(b||2)+"W"},e.sentence_case=function(a){return String(a).toLowerCase().replace(/(?:^|\.\s+)(\w)/g,function(a){return a.toUpperCase()})},e.allowaccess_format_fn=function(b,c){var d={telnet:"red","http-no-admin-https-redirect":"red",snmp:"orange",fgfm:"blue","radius-acct":"blue","probe-response":"blue",capwap:"blue",fortiheartbeat:"blue",default:"grey"},e=b.map(function(b){var e,f,g=a.getInfo(b);return g=g===b?b.toUpperCase():g,e=b||"","http"!==b||c||(e+="-no-admin-https-redirect"),f=b?'<span class="'+(d[e]||d.default)+'">'+g+"</span>":""}).join("");return'<div class="color-labels">'+e+"</div>"},e}),fweb_define("fweb.util/dom",["jquery","fweb.util/formatters","fweb.util/location","fweb.util/uri","ftnt_shared"],"fweb.util.dom",function(a,b,c,d,e){"use strict";var f={};f.elem=e.dom.elem,f.getURIParamOnce=function(a){var b=c.get_cache("domURLParamOnce",{});return b[a]?void 0:(b[a]=!0,d.urlParams()[a])},f.try_JSON_parse=function(a){try{return JSON.parse(a)}catch(a){}},f.serializeForm=function(a){var b={enable:!0,disable:!0},c={};return a.serializeArray().forEach(function(a){var d=c[a.name];d&&!b[a.value]?(Array.isArray(d)||(c[a.name]=d=[d]),d.push(a.value)):c[a.name]=a.value}),c},f.showWaitWhile=function(b){var c=a('<div class="wait-while-loading"><div class="flexbox_center"><div class="loading_image"></div></div></div>'),d=a('<div class="wait-while-loading-overlay"></div>');c.appendTo("body"),d.appendTo("body");var e="function"==typeof b.always?"always":"finally";b[e](function(){c.remove(),d.remove()})},f.renderTemplate=function(a,b){function c(a,c){if(!(c in b))throw new Error("renderTemplate tried to sub "+a+" but there is no matching member "+c+"in the context");return"undefined"==typeof b[c]||null===b[c]?"":b[c]}return a.replace(/\{\{\s*([_\$\w]+)\s*\}\}/g,c)},f.escapeHTML=e.dom.escapeHTML;var g=f.COMPARE_BAR={COLORS:e.formatters.COMPARE_BAR_COLOR};g.COLOR_SETTINGS={STANDARD:[g.COLORS.OCEAN_GREEN,g.COLORS.GREEN],BLOCKED_ALLOWED:[g.COLORS.RED,g.COLORS.GREEN],ERROR:[g.COLORS.BRIGHT_RED,g.COLORS.RED]};var h=f.compare_bar=function(c){var d=c.max;"function"==typeof d&&(d=d());var e,f=c.values.reduce(function(a,b){return a+b}),h=(f/d*100).toFixed(0),i=c.colors||g.COLOR_SETTINGS.STANDARD;e=c.format_fn?c.format_fn.apply(c,[f,c.values]):b.metric_bytes(f);var j="width: "+h+"%;";f||(j+=" display: none;");var k,l='<div class="compare-bar-container '+(c.class||"")+'">';if(c.lang_keys){var m,n=c.values.length,o=c.value_format||b.number;for(k='<div class="f-qtip" style="display: none;"><table class="table key-value"><tbody>',m=0;m<n;m++)k+="<tr><td>"+a.getInfo(c.lang_keys[m])+"</td><td>"+o(c.values[m]||0)+"</td></tr>";k+="</tbody></table></div>"}return l+='<div class="compare-bar-caption">'+e+"</div>",l+='<div class="compare-bar-outer'+(k?" f-qtip-target":"")+'">',l+=k?k:"",l+='<div class="compare-bar-inner" style="'+j+'">',c.values.forEach(function(a,b){var d,e=i[b],g="compare-bar-value",h="background-color: "+e+";";b===c.values.length-1?g+=" grow":(d=(a/f*100).toFixed(0),h+=" width: "+d+"%;"),l+='<div class="'+g+'" style="'+h+'"></div>'}),l+="</div></div></div>"};return f.create_compare_bar_qlist_formatter=function(a,b,c,d,e,f){return function(g,i,j){c=c||[void 0],1===c.length&&void 0===c[0]&&(c[0]=i.selector);var k=c.map(function(a){return j[a]});return h({max:"function"==typeof a?a(i.selector,j):a,format_fn:b,values:k,colors:d,class:i.class,row:j,lang_keys:e||c,value_format:f})}},f.create_compare_bar_on_tooltip=function(a,b){var c=(b.keys||[]).map(function(b){return a[b]||0}),d=c.reduce(function(a,b){return a+b},0),e=(b.keys||[]).some(function(b){return null!=a[b]});if(e)return f.compare_bar({max:d,values:c,colors:b.colors,format_fn:b.format_fn,class:"caption-align-left"})},f.clearTextSelection=function(){var a;a="function"==typeof window.getSelection?window.getSelection():document.selection,a&&("function"==typeof a.empty?a.empty():"function"==typeof a.removeAllRanges&&a.removeAllRanges())},f.mask_content=function(a,b,c){c=c||'<f-icon class="fa-loading"></f-icon>',b?a.addClass("masked-content").append('<div class="content-mask flex-centered">'+c+"</div>"):a.removeClass("masked-content").find(".content-mask").remove()},f.addStyle=function(b,c){var d;if(a('link[type="text/css"]').each(function(){var e=a(this);if(d=e.attr("href")===b)return c&&e.remove(),!1}),!d||c){a.ajaxSetup({cache:!0});var e=document.createElement("link");a(e).attr("type","text/css"),a(e).attr("rel","stylesheet"),a(e).attr("href",b),a("head")[0].appendChild(e),a.ajaxSetup({cache:!1})}},f.formatObject=function(b){var c,d,e=a(b.element),f=b.mkey||e.data("mkey"),g=b.datasource||e.data("datasource"),h=b.csfPath||e.data("csf-path");h&&(g="csf::"+h+"::"+g),c={q_origin_key:f,datasource:g};try{d=Omniselect.processedFormatEntrySync(c),e.html(d)}catch(a){e.html('<f-icon class="fa-loading"></f-icon>'),Omniselect.processedFormatEntry(c).then(function(a){e.html(a)},function(){e.html("")})}},f.setupObjectTooltip=function(b){var c,d=a(b.element),e=b.mkey||d.data("mkey"),f=b.datasource||d.data("datasource");if(!e||!f)return void fweb.log.warn("datasource or mkey not provided and not available from element data.");var g=b.csfPath||d.data("csf-path"),h=null==b.tooltipHint||b.tooltipHint,i=a('<div><f-icon class="fa-loading"></f-icon><span>'+a.getInfo("Loading")+"</span></div>"),j=!1,k=null,l={showDelay:!0};return g&&(f="csf::"+g+"::"+f),h&&d.addClass("tooltip-hint"),d.ftip({content:i,options:l,manualCleanup:b.manualCleanup,onShow:function(){var d={q_origin_key:e,datasource:f},g=null,h=[d,g],m=b.searchValue||null,n=k!==m;j&&!n||(m&&h.push(m),Omniselect.processedFormatEntryTooltip.apply(Omniselect,h).then(function(a){l.padContent=!1,c.setDisplayOptions(l),i.empty().append(a)},function(c){var d=b.failureText||a.getInfo("Failed to retrieve info");i.html('<f-icon class="fa-warning"></f-icon><span>'+d+"</span>"),fweb.log.error("Failed to render tooltip: ",c)}),j=!0),k=m}}),c=d.ftip("getInstance")},f.renderFQtip=function(b,c){b=b||".f-qtip-target";var d=c?c.find(b+":not([data-hasqtip])"):a(b+":not([data-hasqtip])");d.each(function(){var b=a(this);b.qtip({content:{text:function(){return b.find(".f-qtip").html()}},position:{my:"bottom left",at:"top right",target:"mouse",viewport:a(window),adjust:{x:14}},show:{delay:500}})})},f.renderTitleTooltip=function(b){b=b||".qtip-popup";var c=a(b+':not([data-hasqtip])[title!=""][title]');c.each(function(){var b=a(this);b.qtip({content:{text:"<span>"+f.escapeHTML(b.prop("title"))+"</span>"},position:{my:"bottom left",at:"top right",target:"mouse",viewport:a(window)},adjust:{x:14},show:{delay:500}})})},f.colorLabels=function(a){var b='<span class="{{ color }}" title="{{ title }}">{{ label }}</span>',c=a.map(function(a){return f.renderTemplate(b,a)});return'<div class="color-labels">'+c.join("")+"</div>"},f}),fweb_define("fweb.util/events",["jquery"],"fweb.util.events",function(a){"use strict";var b={};return b.namespacify=function(b,c,d){var e=function(c,d){return a.map(c.split(" "),function(a){return a.indexOf(".")>-1?a:a+"."+b+(null!=d?"."+d:"")}).join(" ")};return 1===arguments.length?e:e(c,d)},b.reportExceptions=function(c){return function(){try{return c.apply(this,arguments)}catch(c){throw(window.console||{error:a.noop}).error(c.stack),"function"==typeof window.onerror&&window.onerror(c.stack),b._reportedExceptions.push(c),c}}},b._reportedExceptions=[],b}),fweb_define("fweb.util/firmware",[],"fweb.util.firmware",function(){"use strict";function a(a,b){return"http://docs.fortinet.com/d/"+a.toLowerCase()+"-"+b+"-release-notes/download"}function b(a,b){return c(a,b)>0}function c(a,b){for(var c,d=["major","minor","patch","build"],e=0,f=0;0===e&&f<d.length;)c=d[f],
a.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(e=b[c]-a[c]),f++;return e}function d(a){var b,c,d,e,f,g,h,i=/([A-Z\d\-]{6,7})-(\d{1})\.(\d{2})-[A-Z]{2}-(?:build|BUILD)(\d{2,4})-\d{6}(?:-patch(\d{2}))?/,j=i.exec(a);return j&&(c=j[1],d=parseInt(j[2],10),e=parseInt(j[3],10),g=parseInt(j[4],10),f=null==j[5]?0:parseInt(j[5],10),h=[d,e,f],b={model:c,major:d,minor:e,build:g,version:"v"+h.join(".")}),b}return{getReleaseNotesLink:a,isFirmwareUpdate:b,compareFirmware:c,parseFirmwareHeader:d}}),fweb_define("fweb.util/objects",["jquery"],"fweb.util.objects",function(a){"use strict";function b(a,b){if(a>b||isNaN(a)||isNaN(b))throw new Error("Invalid interval endpoints");this.begin=a,this.end=b,this.size=Math.abs(this.end-this.begin)}function c(a){var c=Array.isArray(a)&&a.every(function(a){return a instanceof b});if(!c)throw new Error("Invalid array of intervals");this.intervals=a}var d={};b.prototype.contains=function(a){return this.begin<=a.begin&&this.end>=a.end},b.prototype.overlaps=function(a){return!(a.end<this.begin||a.begin>this.end)},b.prototype.equals=function(a){return a.begin===this.begin&&a.end===this.end},b.prototype.subtract=function(a){if(!this.overlaps(a))return new c([new b(this.begin,this.end)]);var d=[];return a.begin>this.begin&&d.push(new b(this.begin,a.begin-1)),a.end<this.end&&d.push(new b(a.end+1,this.end)),new c(d)},b.prototype.merge=function(a){if(!this.overlaps(a))return new b(this.begin,this.end);var c=Math.min(a.begin,this.begin),d=Math.max(a.max,this.max);return new b(c,d)},c.prototype.subtract=function(a){var b=this.sortAndMergeOverlaps().intervals,d=a.sortAndMergeOverlaps().intervals;if(b.length)for(var e,f,g,h=0,i=0;h<b.length&&i<d.length;)e=b[h],f=d[i],e.overlaps(f)?(g=e.subtract(f).intervals,b=b.slice(0,h).concat(g.concat(b.slice(h+1,b.length)))):e.begin<f.begin?h++:i++;return new c(b)},c.prototype.sortAndMergeOverlaps=function(){var a=function(a,b){return a.begin-b.begin},d=this.intervals.slice().sort(a),e=d.reduce(function(a,c){var d=a.length,e=new b(c.begin,c.end);if(d){var f=a[d-1];f.overlaps(e)?a[d-1]=f.merge(e):a.push(e)}else a.push(e);return a},[]);return new c(e)},d.Interval=b,d.IntervalList=c,d.extend_merge=function(b,c,d){null==d&&(d=!1);var e,f,g;for(e in c)if(c.hasOwnProperty(e)){if(f=b[e],g=c[e],b===g||void 0===g)continue;a.isArray(f)?a.isArray(g)?a.merge(f,g):f.push(g):void 0===f?a.isArray(g)?b[e]=d?a.merge([],g):g:b[e]=[g]:a.isArray(g)?b[e]=a.merge([f],g):b[e]=[f,g]}return b},d.makeSet=function(a,b){function c(a,b){return b in a||(a[b]=1),a}return b&&(a=Object.keys(a.reduce(c,{}))),a.containsSet=function(a,b){if(this===a)return!0;if(!a)return!1;if(a.toArray&&(a=a.toArray()),!(this instanceof Array&&a instanceof Array))return!1;if(this.length<a.length||0===a.length)return!1;var c,d,e=this.slice().sort(b),f=a.slice().sort(b),g=0,h=e.length,i=f.length;if(b&&"function"==typeof b)for(c=0;c<h;++c){if(d=b(e[c],f[g]),0===d&&++g,g>=i)return!0;if(d>0)return!1}else for(c=0;c<h;++c)if(e[c]===f[g]&&++g,g>=i)return!0;return!1},a.equalToSet=function(a,b){if(this===a)return!0;if(!a)return!1;if(a.toArray&&(a=a.toArray()),!(this instanceof Array&&a instanceof Array))return!1;if(this.length!==a.length)return!1;var c,d=this.slice().sort(b),e=a.slice().sort(b),f=d.length;if(b&&"function"==typeof b){for(c=0;c<f;++c)if(0!==b(d[c],e[c]))return!1}else for(c=0;c<f;++c)if(d[c]!==e[c])return!1;return!0},a.intersection=function(a,b){if(this===a)return a;if(!a)return null;if(a.toArray&&(a=a.toArray()),!(this instanceof Array&&a instanceof Array))return null;var c,d=this.slice().sort(b),e=a.slice().sort(b),f=0,g=0,h=d.length,i=e.length,j=[];if(b&&"function"==typeof b)for(;f<h&&g<i;)c=b(d[f],e[g]),c<0?f++:c>0?g++:(j.push(d[f]),f++,g++);else for(;f<h&&g<i;)d[f]<e[g]?f++:d[f]>e[g]?g++:(j.push(d[f]),f++,g++);return j},a.difference=function(a,b){if(this===a)return a;if(!a)return null;if(a.toArray&&(a=a.toArray()),!(this instanceof Array&&a instanceof Array))return null;var c,d=this.slice().sort(b),e=a.slice().sort(b),f=0,g=0,h=d.length,i=e.length,j=[];if(b&&"function"==typeof b)for(;f<h&&g<i;)c=b(d[f],e[g]),c<0?(j.push(d[f]),f++):c>0?g++:(f++,g++);else for(;f<h&&g<i;)d[f]<e[g]?(j.push(d[f]),f++):d[f]>e[g]?g++:(f++,g++);for(;f<h;)j.push(d[f]),f++;return j},a},d.is_valid=function(b,c){var d=!0;return a(b).find(c).each(function(){a("form").validate().element(this)===!1&&(d=!1)}),d},d.stable_string=function(a){return JSON.stringify(Object.keys(a).sort().map(function(b){return[b,a[b]]}))};var e=d.forEach=function(a,b,c){var d;for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d)};return d.lockCurrentProperties=function(a){if(Object.defineProperty)try{e(a,function(b,c){Object.defineProperty(a,c,{value:b,writable:!1,configurable:!1})})}catch(a){}},d.pick=function(a,b){for(var c={},d=0,e=b.length;d<e;++d){var f=b[d];c[f]=a[f]}return c},d.values=function(a){return Object.keys(a).map(function(b){return a[b]})},d.unique=function(a){var b={};return function(c,d){var e=d[a];return!(e in b)&&(b[e]=!0,!0)}},d}),fweb_define("fweb.util/ldap",["jquery"],"fweb.util.ldap",function(a){"use strict";function b(a){return a.slice(1,-1)}function c(c,d,e){function f(b){var c=b.split(/[=><!]+/);if(!c||2!==c.length)return!0;var d,e,f=c[0],g=c[1];d=f.charAt(0).toUpperCase()+f.slice(1),e=g.charAt(0).toUpperCase()+g.slice(1);var h=l.hasOwnProperty(f)||l.hasOwnProperty(d)||k.indexOf(f)>=0||k.indexOf(d)>=0,i=l.hasOwnProperty(g)||l.hasOwnProperty(e)||k.indexOf(g)>=0||k.indexOf(e)>=0||"organizationalUnit"===g||"*"===g||a.isNumeric(g),j=h&&i;return!j}if(c===o.CUSTOM)throw new Error("For custom filter, please supply filter string directly to API");if(c===o.DEFAULT)return"";var g,h,i,j=a.isPlainObject(e),k=j&&e.objectClasses,l=j&&e.attributeTypes,m=[],n=u[c],p=t[d],q=p&&p[c],r=n.length;if(a.isArray(q)&&q.length>0)return 1===q.length?q[0]:"(|"+q.join("")+")";if(k&&l)for(g=0;g<r;g++){h=n[g],i=h.match(/\([^()]*\)/g),i=i.map(b);var v=i.filter(f);0===v.length&&m.push(h)}return m.length?1===m.length?m[0]:"(|"+m.join("")+")":s.SCHEMA_VALIDATION_FAILED}function d(a){return"success"!==a[1]||!a[0]||a[0].error||!a[0].results}function e(a){return a?a.replace(/([^\\]),/g,"$1\v").split("\v"):[]}function f(a){var b=a.replace(/([^\\]),/g,"$1\v").split("\v"),c=b[0].split("=")[1];if(b.length>=2)return{cn:c,dn:a}}function g(a){var b={simple:r.SIMPLE,anonymous:r.ANONYMOUS,regular:r.REGULAR};return b[a]}function h(a,b){if("enable"!==a)return p.NONE;var c={starttls:p.STARTTLS,ldaps:p.LDAPS};return c[b]}function i(a){var b={server:a.server,port:a.port.toString(),cn_id:a.cnid,username:a.username,password:a.password,dn:a.dn};return b.secure=h(a.secure,a.protocol),a.certificate&&(b.ca=a.certificate),a.type&&(b.type=g(a.type)),b}function j(a,b){if(!b||!a)return!1;var c=["mkey","revision"],d=["server","port","cn_id","username","password","dn","secure","ca","type"],e=c.some(function(c){return b[c]!==a[c]});return!e&&b.ldap&&a.ldap&&(e=d.some(function(c){return b.ldap[c]!==a.ldap[c]})),!e}function k(b){var c=a.ajax({dataType:"json",url:n,data:{json:JSON.stringify(b)}});return c}function l(b,e,f){"undefined"==typeof e&&(e=0);var g=e&q.FILTER,h=e&q.CONTAINER,i=v(b),j=a.Deferred();return i.always(function(e){var i=e&&e.schema,l=e&&e.general,m=e&&e.rootdse;if(!i||!l||!m)return void j.reject(e);if(!g&&!h)return void j.resolve({info:e});var n,p=[];if(g){if(f.filter_str)n=f.filter_str;else if(n=c(f.filter_type,l.server_type,i),n===s.SCHEMA_VALIDATION_FAILED)return void j.reject(n);var q={filter:n};b.mkey&&(q.mkey=b.mkey),b.ldap&&(q.ldap=b.ldap),p.push(k(q))}if(h){if(n=c(o.CONTAINER,l.server_type,i),n===s.SCHEMA_VALIDATION_FAILED)return void j.reject({error:{message:"Failed initializing filter"}});var r={filter:n};b.mkey&&(r.mkey=b.mkey),b.ldap&&(r.ldap=b.ldap);var t=k(r);p.push(t)}a.when.apply(a,p).always(function(){var b=a.makeArray(arguments),c=p.length;1===c&&(b=[b]);var e=!0;if(b.forEach(function(a){if(d(a))return j.reject(a[0]),e=!1,!1}),e){var f,i;g&&(f=b[0][0]),h&&(i=g?b[1][0]:b[0][0]),j.resolve({filter_data:f,container_data:i})}})}),j}function m(a,b){if(b=b||"cn",a){var c=a.split("=");if(c[0].toLowerCase()===b&&c[1])return c[1]}return""}var n="/api/ldap",o={DEFAULT:"def",USER:"usr",WORKSTATION:"ws",GROUP:"grp",OU:"ou",CONTAINER:"ctn",CUSTOM:"cus"},p={NONE:0,STARTTLS:1,LDAPS:2},q={FILTER:1,CONTAINER:2},r={SIMPLE:0,ANONYMOUS:1,REGULAR:2},s={LDAP_SUCCESS:0,SCHEMA_VALIDATION_FAILED:-1},t={1:{usr:["(&(objectCategory=person)(objectClass=user))","(sAMAccountType=805306368)"],grp:["(objectCategory=group)"],ws:["(objectCategory=computer)"],ou:["(objectCategory=organizationalUnit)"],ctn:["(objectClass=container)","(objectCategory=container)","(objectClass=organizationalUnit)","(objectCategory=organizationalUnit)"]},2:{usr:["(objectClass=user)","(objectClass=person)","(objectClass=organizationalPerson)","(objectClass=inetOrgPerson)"],grp:["(objectClass=groupOfNames)"],ws:["(objectClass=computer)"],ou:["(objectClass=organizationalUnit)"],ctn:["(objectClass=organizationalUnit)","(objectClass=organization)","(objectClass=ndsContainerLoginProperties)","(objectClass=dcObject)"]}},u={usr:["(objectClass=user)","(objectClass=person)","(objectClass=organizationalPerson)","(objectClass=inetOrgPerson)","(objectClass=account)","(objectClass=posixAccount)","(objectClass=shadowAccount)","(objectClass=organizationalRole)","(objectClass=residentialPerson)","(objectClass=dominoPerson)"],grp:["(objectClass=group)","(objectClass=groupOfNames)","(objectClass=groupOfUniqueNames)","(objectClass=posixGroup)","(objectClass=sambaGroupMapping)","(objectCategory=group)"],ws:["(objectClass=computer)","(objectCategory=computer)"],ou:["(objectClass=organizationalUnit)","(objectClass=organization)"],ctn:["(objectClass=container)","(objectClass=nsContainer)","(objectClass=nsview)","(objectClass=organizationalUnit)","(objectClass=organization)","(objectClass=domain)","(objectClass=domainDNS)","(objectClass=dcObject)","(&(numSubordinates=*)(numSubordinates>=1))"]},v=function(){var a={};return function(b){var c=b.mkey,d=b.ldap;c&&(b.noCache||b.clearCache)&&delete a[c];var e=a[c],f=e&&j(b,e.params);if(!f){var g={info_only:1,mkey:c};d&&(g.ldap=d);var h=k(g);return h.then(function(d){d&&!d.error&&c&&!b.noCache&&(a[c]={params:b,data:h})}),h}return a[c].data}}();return{fetch:l,transform_server_params:i,isSameParams:j,split_dn:e,get_cn_from_rdn:m,dn_to_obj:f,FILTER_TYPE:o,DATA_TYPE:q}}),fweb_define("fweb.util/logs",["fweb.util/datetime"],"fweb.util.logs",function(a){"use strict";function b(b,c){var d,e,f,g,h;return g=1e3*b.start,h=1e3*b.end,c&&(g=a.utcToFortiGateTimeZone(g),h=a.utcToFortiGateTimeZone(h)),d=a.getLocalDate(g),e=a.getLocalDate(h),f={id:"rel_time",value:[d,e],logic:{RANGE:1,is:{date:1}}}}return{timeSpanFilter:b}}),fweb_define("fweb.util/shim",null,"fweb.util.shim",function(){"use strict";function a(){Array.prototype.includes||(Array.prototype.includes=function(a){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var b=Object(this),c=parseInt(b.length,10)||0;if(0===c)return!1;var d,e=parseInt(arguments[1],10)||0;e>=0?d=e:(d=c+e,d<0&&(d=0));for(var f;d<c;){if(f=b[d],a===f||a!==a&&f!==f)return!0;d++}return!1})}a();var b=window.location;return b.origin||(b.origin=b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")),{origin:b.origin}}),fweb_define("fweb.util/sort",["jquery","ftnt_shared"],"fweb.util.sort",function(a,b){"use strict";function c(a,c){function d(a,b){return a[1]===b[1]}function e(a,b){return Number(a[2])-Number(b[2])}function f(a){return null!=a}var g=[a,c].map(h);return g.every(f)&&g.reduce(d)?g.reduce(e):b.util.fastLocaleCompare(a,c)}function d(c,d){var e=c[1],f=d[1];return e.newState&&!f.newState?-1:!e.newState&&f.newState?1:b.util.fastLocaleCompare(a.getInfo(c[0]),a.getInfo(d[0]))}function e(a,c,d,e){return d.is_global?-1:e.is_global?1:b.util.fastLocaleCompare(a.toLowerCase(),c.toLowerCase())}function f(c,d,e,f){var g=function(b){return a.getInfo(b.lang)+" ("+b.q_origin_key+")"};return b.util.fastLocaleCompare(g(e),g(f))}var g=/^([^0-9]+)([0-9]+)$/,h=g.exec.bind(g);return{interfaceName:c,features:d,vdomSort:e,fileType:f}}),fweb_define("fweb.util/persist",null,"fweb.util.persist",function(){"use strict";function a(a){var b=localStorage.getItem(a);return JSON.parse(b)}function b(a,b){b=JSON.stringify(b),localStorage.setItem(a,b)}function c(a){localStorage.removeItem(a)}function d(a,b,c,d,e,f){d||(d=0===location.pathname.indexOf("/ng")?"/ng":location.pathname.substring(0,location.pathname.lastIndexOf("/"))+"/"),null==c&&(c=b?31536e6:-1);var g=new Date;g.setTime(g.getTime()+c),document.cookie=a+"="+encodeURIComponent(b)+(c?"; expires="+g.toGMTString():"")+"; path="+d+(e?"; domain="+e:"")+(f?"; secure="+f:"")}function e(a,b){for(var c=document.cookie.split("; "),d=0;d<c.length;d++){var e=c[d].split("=");if(a===e[0]&&2===e.length)return b&&(e[1]=e[1].replace(/"/g,"")),e[1]?decodeURIComponent(e[1]):e[1]}return null}function f(a){return null!==e(a)}function g(a,b){d(a,void 0,-1,b)}function h(){var a=top.state;return!a&&window.opener&&(a=window.opener.state||window.opener.top.state),a}function i(){var a,b,c=h();return c&&(b=c.ccsrf_token_cookie_name,a=e(b)||"",a=a.replace(/^"|"$/g,"")),a}function j(){var a,b,c=h();return c&&(b=c.csrf_token_cookie_name,a=e(b)||"",a=a.replace(/^"|"$/g,"")),a}return{get:a,put:b,remove:c,hasCookie:f,getCookie:e,setCookie:d,removeCookie:g,getCsrfToken:i,getPythonCsrfToken:j}}),fweb_define("fweb.util/structure",["fweb.util/persist"],"fweb.util.structure",function(a){"use strict";function b(){var a=window.location,b=a.origin||a.protocol+"//"+a.host;return b}function c(a){top.postMessage(a,b())}var d={};return d.getOrigin=b,d.topPostMessage=c,d.refreshState=function(){c({messageType:"refreshState"})},d.refreshStateNextLoad=function(){a.put("refreshState",!0)},d.updateLicense=function(){c({messageType:"licenseForceUpdate"})},d.enterVdom=function(a){var b={messageType:"enterVDOM",vdom:a};c(b)},d.closeResponsiveMenu=function(){c({messageType:"closeResponsiveMenu"})},d.updateNotificationsIfActive=function(a){c({messageType:"restartNotificationsIf",notificationID:a})},d.updateNotificationsIfAnyActive=function(){c({messageType:"restartNotificationsIf"})},d.EMBEDDED_URI_ROUTE="/page",d.ngURI=function(a){return 0===a.indexOf("/ng")?a=a.replace(/^\/ng/,""):0!==a.indexOf(d.EMBEDDED_URI_ROUTE)&&"/"===a[0]&&(a=d.EMBEDDED_URI_ROUTE+a),a},d.openCli=function(a,b){var d={messageType:"openCliConsole",mode:b};a&&(d.entry={q_type:a.q_type,q_path:a.q_path,q_name:a.q_name,q_origin_key:a.q_origin_key}),c(d)},d.extendAdminTimeout=function(){c({messageType:"extendAdminTimeout"})},d}),fweb_define("fweb.util/firewallInterfaces",["jquery","fweb.util/dom"],"fweb.util.firewallInterfaces",function(a,b){"use strict";var c={},d="sd-wan",e={adminDown:{tunnel:"ftnt-vpn-tunnel-disabled","vap-switch":"fa-wifi-disabled",wireless:"fa-wifi-disabled","wl-mesh":"fa-wifi-disabled","virtual-wan":"ftnt-virtual-wan-link-down-disabled",physical:"ftnt-interface-down-disabled",trunk:"ftnt-interface-down-disabled",vlan:"ftnt-vlan-down-disabled",aggregate:"ftnt-aggregate-down-disabled",redundant:"ftnt-aggregate-down-disabled",switch:"ftnt-switch-down-disabled","hard-switch":"ftnt-switch-down-disabled","hard-switch-vlan":"ftnt-switch-down-disabled",loopback:"ftnt-loopback-down-disabled","vdom-link":"fa-link-down-disabled",unknown:"fa-status-down-disabled"},linkDown:{tunnel:"ftnt-vpn-tunnel-down",zone:"fa-zone-down","virtual-wan":"ftnt-virtual-wan-link-down",physical:"ftnt-interface-down",trunk:"ftnt-interface-down",vlan:"ftnt-vlan-down",aggregate:"ftnt-aggregate-down",redundant:"ftnt-aggregate-down",switch:"ftnt-switch-down","hard-switch":"ftnt-switch-down","hard-switch-vlan":"ftnt-switch-down",unknown:"fa-status-down"},up:{tunnel:"ftnt-vpn-tunnel-up","vap-switch":"fa-wifi-up",wireless:"fa-wifi-up","wl-mesh":"fa-wifi-up","virtual-wan":"ftnt-virtual-wan-link-up",zone:"fa-zone-up",switch:"ftnt-switch-up","hard-switch":"ftnt-switch-up","hard-switch-vlan":"ftnt-switch-up",physical:"ftnt-interface-up",trunk:"ftnt-interface-up",vlan:"ftnt-vlan-up",aggregate:"ftnt-aggregate-up",redundant:"ftnt-aggregate-up",loopback:"ftnt-loopback-up","vdom-link":"fa-link-up",unknown:"fa-status-up"}},f={adminDown:{rj45:"ftnt-interface-rj45-down-disabled",fiber:"ftnt-interface-sfp-down-disabled",rj11:"ftnt-interface-rj11-down-disabled"},linkDown:{rj45:"ftnt-interface-rj45-down",fiber:"ftnt-interface-sfp-down",rj11:"ftnt-interface-rj11-down"},up:{rj45:"ftnt-interface-rj45-up",fiber:"ftnt-interface-sfp-up",rj11:"ftnt-interface-rj11-up"}},g={CONNECTED:0,DISCONNECTED:1,DISABLED:2,ANY:3,LAST:100};c.ICON_MAP=e,c.MEDIA_MAP=f,c.SORT_VALUES=g;var h=function(c){var e=c.name,f=c.alias;return c.is_sslvpn?(e=a.getInfo("sslvpn_intf"),f=c.name,c.alias=e):c.is_wifi?(e=b.escapeHTML(c.ssid),f=c.name):c.alias?(e=c.alias,f=c.name):c.is_virtual_wan_link&&(e=d),f?e+" ("+f+")":e};return c.processInterface=function(a){var b,c=g.CONNECTED,d="up",i=a.type||"unknown";"any"===a.name?(b="fa-square-o",c=g.ANY,a.editable=!1):("down"===a.status?(d="adminDown",c=g.DISABLED):"down"===a.link&&(d="linkDown",c=g.DISCONNECTED),b=a.media?f[d][a.media]||e[d].unknown:e[d][i]||e[d].unknown),a.icon=b,a.label=h(a),a.sortValue=c},c.get=function(b,d,e){var f=[];b&&f.push("global=1"),e&&e.forEach(function(a){f.push("view_type="+a)});var g="/api/v2/monitor/system/available-interfaces";return f.length>0&&(g+="?"+f.join("&")),d&&(g="/csf/"+d+g),a.get(g).then(function(a){var d,e={};return d=b?Array.isArray(a)?a.reduce(function(a,b){return a.concat(b.results)},[]):[]:Array.isArray(a.results)?a.results:[],d.forEach(function(a){a.q_origin_key=a.name,a.is_zone?a.datasource="system.zone":a.is_virtual_wan_link?a.datasource="system.virtual-wan-link":a.datasource="system.interface",c.processInterface(a),e[a.name]=a}),d.mapping=e,d})},c}),fweb_define("fweb.util/interface",["jquery","fweb.util/firewallInterfaces","fweb.util/objects","fweb.util/sort","fweb.util/location","fweb.util/icon","jquery.util_core"],"fweb.util.interface",function(a,b,c,d,e,f){"use strict";var g={POWERED:"fa-status-poe-powered",CONNECTED:"fa-status-poe-up",DISCONNECTED:"fa-status-poe-down",DISABLED:"fa-status-poe-disabled"};Object.keys(b.SORT_VALUES).reduce(function(a,c){return a[b.SORT_VALUES[c]]=a[c],a},g);var h={processInterface:function(a,c){b.processInterface(a),c&&c[a.name]&&(a.poe_capable=1,a.icon=g[a.sortValue],a.icon===g.CONNECTED&&"enable"===a.poe&&"delivering_power"===a.poe_data.status&&(a.icon=g.POWERED))},formatFunction:function(a,b){return'<f-icon class="'+a.icon+'"></f-icon><span>'+b+"</span>"},switchMemberSource:function(e,f,g){function i(a,b){var d=a.reduce(function(a,c){var d=a[c.name];if(d)j(d,c);else{var e=c.interface||c.name;b.forEach(function(a){a.name===e&&(c.link=a.link,a.poe&&(c.poe_data=a.poe),a.media&&(c.media=a.media))}),a[c.name]=c,h.processInterface(c,f),c.datasource="available-switch-members",c.q_origin_key=c.name,j(c,null),"hard-switch"===c.switch_type&&(c["hard-switch"]=[c["hard-switch"]])}return a},{});return a=c.values(d)}function j(a,b){Object.keys(a._tags).forEach(function(b){var c=a._tags[b];"object"!=typeof c&&(a._tags[b]={},a._tags[b][c]=!0)}),b&&Object.keys(b._tags).forEach(function(c){a._tags[c]=a._tags[c]||{};var d=b._tags[c];a._tags[c][d]=!0})}function k(a,b){function c(a){return function(c,d){function e(a){return a._tags=a._tags||{},a._tags[b]=d,a}var f=a[d];return Array.isArray(f)||(f=k(f,d)),c.concat(f.map(e))}}return Object.keys(a).reduce(c(a),[])}var l=[];f&&Object.keys(f).length&&l.push("poe");var m=b.get(g,null,l),n=k(e,"switch_type");return{name:a.getInfo("Ports"),data:function(){return a.when(n,m).then(i)},sortFunction:d.interfaceName,formatFunction:h.formatFunction,valueFunction:function(a){return a.name},preProcessSelected:!0}},getInterfacesFormatted:function(c,e,f){function g(b,c){return b.forEach(function(b){c.forEach(function(c){c.name===b.name&&a.extend(b,c)}),h.processInterface(b),b.datasource=e,b.q_origin_key=b.name}),b}var i=b.get(f);return{name:a.getInfo("Ports"),aliasFor:["system.interface"],data:function(){return a.when(c,i).then(g)},sortFunction:d.interfaceName,formatFunction:h.formatFunction,valueFunction:function(a){return a.name},preProcessSelected:!0}},getInterfaceMap:function(b,c){function d(a,b){return a[b.name]=b,a}var f=e.get_cache("interface_map_promise",null),g="/api/v2/cmdb/system/interface/";return c&&(g="/csf/"+c+g),(!f||b||c)&&(f=a.ajax({url:g,cache:!1,dataType:"json",data:{format:"name|endpoint-compliance|alias|description|type|fortiheartbeat|role|vdom"}}).then(function(a){return a.results.reduce(d,{})},function(){return{}})),e.set_cache("interface_map_promise",f),f},interfaceFormatFn:function(b,c,d,e,g,h){var i,j,k,l="",m=b;return c?(e=e&&"enable"===c["endpoint-compliance"],i=c.description||m,e&&(i+=" ("+a.getInfo("Enforce FortiTelemetry for all FortiClients")+")"),c.alias&&(m+=" ("+c.alias+")"),d&&(l=f.formatIcon(f.ICON_TYPE.INTERFACE,c.type)),g&&(j=g.switch_name||g.switch_id,k=a.getInfo("Port").toLowerCase()+g.port_id,m+=" ("+j+": "+k+")"),l+='<span class="qtip-popup" title="'+i+'">'+m+"</span>",e&&(l+='<f-icon class="qtip-popup ftnt-forticlient" title="'+i+'"></f-icon>'),h&&("enable"!==c.fortiheartbeat?l+=" ("+a.getInfo("FortiTelemetry disabled")+")":"enable"!==c["endpoint-compliance"]&&(l+=" ("+a.getInfo("FortiClient not enforced")+")")),l):b}};return h}),fweb_define("fweb.util/policy",["jquery","fweb.util/ip","fweb.util/location","jquery.util_core"],"fweb.util.policy",function(a,b,c){"use strict";function d(b,d,e){function h(){function b(a){function b(a,b){var c=b.member.map(function(a){return a["interface-name"]});return a[j(c)]=b.name,a}return a.results.reduce(b,{})}var d="virtual-wire-pairs-promise",e=c.get_cache(d,null);return e||(e=a.ajax({url:"/api/v2/cmdb/system/virtual-wire-pair/",cache:!1,dataType:"json",data:{format:"name|member"}}).then(b,function(){return{}})),c.set_cache(d,e),e}function i(c){function h(a,b){return b[j([a.dstintf,a.srcintf])]}var i,k=e[d],l=e.policytype||"policy",m="standard";["policy","policy6"].indexOf(l)>-1&&(i=h(e,c),m=null!=i?"virtual-wire":"standard");var n="/ng/firewall/policy/"+l+"/"+m,o={};return b?n+="/edit/"+(f(k,e.policytype)?g.path:k):o.qlist_find=JSON.stringify({policyid:Number(k)}),top.state.current_vdom&&(o.vdom=top.state.current_vdom),"virtual-wire"===m&&(o.vwpname=i),{path:n,search:o,url:n+"?"+a.param(o)}}function j(a){return a.sort().join("_")}return a.when(h()).then(i)}function e(a,b,c){return!(a+""!="0"&&null!=a||b||c)}function f(a,b){return a+""=="0"&&["policy","policy6"].indexOf(b)>-1}var g={policyid:0,name:a.getInfo("implicit_deny"),path:"implicit"},h={};return h.policyMetaLookup=function(b,d,f,h){function i(){var b=c.get_cache("policies",{});return a.isEmptyObject(b)&&a.extend(b,{"0-policy":a.when({results:[g]}),"0-policy6":a.when({results:[g]})}),b}function j(b,c){var d="/api/v2/cmdb/firewall/"+c+"/"+b+"/",e={format:"policyid|comments|name"};return a.ajax({url:d,cache:!1,dataType:"json",data:e})}function k(a){n=a.results[0],n.resolved=!0,m[o].result=n,h(n)}function l(){n.resolved=!1,h(n)}var m=i(),n={policyid:b};if(e(b,d,f)?(n.name=a.getInfo("Local In"),d="local-in-policy"):d||f||(d="policy"),["policy","policy6"].indexOf(d)===-1)return h(n),n;var o=[b,d].join("-");return m[o]||(m[o]=j(b,d),m[o].result=n),m[o].then(k,l),m[o].result},h.disableParsePolicy=function(a){return!a||["forward","query","response"].indexOf[a.subtype]<0||"web-proxy"===a.wanoptapptype||"forward"===a.subtype&&!a.policytype||["local-in-policy","local-in-policy6"].indexOf(a.policytype)>-1},h.disablePolicyAction=function(a,b){var c=a[b||"policyid"];return h.disableParsePolicy(a)||!a.subtype||e(c,a.policytype,a.subtype)},h.disablePolicyLink=function(a,b){var c=a[b||"policyid"];return h.disableParsePolicy(a)||e(c,a.policytype,a.subtype)||"sniffer"===a.policytype},h.getMatchingPolicyEditUrl=function(a,b){return d(!0,a,b)},h.getMatchingPolicyListUrl=function(a,b){return d(!1,a,b)},h}),fweb_define("fweb.util/address_search",["fweb.util/patterns","closure-ipaddress"],"fweb.util.address_search",function(a,b){"use strict";function c(b){return a.commonRegExp.IP6_HOST.test(b)||a.commonRegExp.IP6_SUBNET.test(b)?b:b.indexOf("::")>-1?":"!==b[b.length-2]&&":"===b[b.length-1]?b.substr(b.length-1):b:":"===b[b.length-1]?b+":":b+"::"}function d(a){var b=3-(a.split(".").length-1),c=a,d=a;for(a.length-a.lastIndexOf(".")<=1&&(c+="0",d+="255");b>0;b-=1)c+=".0",d+=".255";return c+"-"+d}function e(c){var d,e,f,i,j;return a.commonRegExp.IP_SUBNET.test(c)?(d=c.indexOf("/"),d<0?(e=b.net.IpAddress.fromString(c),[e,e]):(i=c.substring(d+1),a.commonRegExp.IP_MASK.test(i)?(j=b.net.IpAddress.fromString(i).toInteger(),j.toString=b.math.Integer.prototype.toString,f=b.math.Integer.fromNumber(j.toString(2).lastIndexOf("1")+1)):f=b.math.Integer.fromString(i),e=b.net.IpAddress.fromString(c.substring(0,d)),[h.first(e,f),h.last(e,f)])):a.commonRegExp.IP_RANGE.test(c)||a.commonRegExp.IP_RANGE_SPACES.test(c)?(d=c.split("-"),[b.net.IpAddress.fromString(d[0].trim()),b.net.IpAddress.fromString(d[1].trim())]):a.commonRegExp.IP_RANGE2.test(c)?(d=g.exec(c),[b.net.IpAddress.fromString(d[1]+d[2]),b.net.IpAddress.fromString(d[1]+d[3])]):a.commonRegExp.IP_WILDCARD.test(c)?[b.net.IpAddress.fromString(c.replace("*","0")),b.net.IpAddress.fromString(c.replace("*","255"))]:void 0}var f=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){1,2}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])?\.?$/,g=/^([^\[]+)\[(\d+)-(\d+)\]/,h=function(){function a(a,b){var c=b.toNumber(),d=6===a.getVersion()?128-c:32-c;return a.toInteger().shiftRight(d).shiftLeft(d)}function c(a,c){var d=c.toNumber(),e=6===a.getVersion()?128-d:32-d;return a.toInteger().shiftRight(e).add(b.math.Integer.ONE).shiftLeft(e).subtract(b.math.Integer.ONE)}function d(b,d,e){var f=e.toInteger();return f.greaterThanOrEqual(a(b,d))&&f.lessThanOrEqual(c(b,d))}function e(b,e,f,g){return d(b,e,a(f,g))||d(b,e,c(f,g))||d(f,g,a(b,e))||d(f,g,c(b,e))}function f(a,b,c){return c.greaterThanOrEqual(a)&&c.lessThanOrEqual(b)}function g(a,c,d){return b.isFunction(a.toInteger)&&(a=a.toInteger()),b.isFunction(c.toInteger)&&(c=c.toInteger()),b.isFunction(d.toInteger)&&(d=d.toInteger()),f(a,c,d)}function h(a,c,d,e){return b.isFunction(a.toInteger)&&(a=a.toInteger()),b.isFunction(c.toInteger)&&(c=c.toInteger()),b.isFunction(d.toInteger)&&(d=d.toInteger()),b.isFunction(e.toInteger)&&(e=e.toInteger()),f(a,c,d)||f(a,c,e)||f(d,e,c)||f(d,e,c)}return{first:a,last:c,contains:d,intersect:e,range_contains:g,range_intersect:h}}(),i={search:function(d,e){var f,g,i,j,k,l;return e=c(e),f=d.indexOf("/"),i=b.net.IpAddress.fromString(d.substring(0,f)),j=b.math.Integer.fromString(d.substring(f+1)),a.commonRegExp.IP6_HOST.test(e)?(g=h.contains(i,j,b.net.IpAddress.fromString(e)),g?[!0]:[]):a.commonRegExp.IP6_SUBNET.test(e)?(f=e.indexOf("/"),k=b.net.IpAddress.fromString(e.substring(0,f)),l=b.math.Integer.fromString(e.substring(f+1)),g=h.intersects(i,j,k,l),g?[!0]:[]):[]}},j=function(c,g){var i,j,k,l,m,n,o,p;if(a.commonRegExp.IP_HOST.test(g)?j=b.net.IpAddress.fromString(g):f.test(g)&&(g=d(g)),null==j){if(i=e(g),null==i)return[];k=i[0],l=i[1]}return m=c[0],Array.isArray(m)?(n=m[0],o=m[1],p=null==j?h.range_intersect(n,o,k,l):h.range_contains(n,o,j),p?[[!0]]:[]):[]},k=function(a,b,c){if(!(e(c)&&e(a)&&e(b)))return!1;for(var d=c.split("."),f=[],g=a.split("."),h=b.split("."),i=0;i<4;i++){var j=255-h[i];if(f[i]=parseInt(g[i])+j,!(d[i]>=g[i]&&d[i]<=f[i]))return!1}return!0},l="0.0.0.0/0.0.0.0",m=/(^(0\.){1,3}(0)?$)|(^0\.0\.0\.0)/,n=/^0\.0\.0\.0\/(0|0\.0\.0\.0)$/,o={},p={firewall:{address:function(a,c){var d,f,g;switch(a.type){case"iprange":if(d=[b.net.IpAddress.fromString(a["start-ip"]),b.net.IpAddress.fromString(a["end-ip"])],n.test(c))return[];break;case"ipmask":if(f=a.address||(null!=a.subnet?a.subnet.replace(" ","/"):null),g=l===f,g&&!m.test(c)||!g&&n.test(c))return[];null!=f&&(d=e(f));break;case"wildcard":f=a.address||(null!=a.subnet?a.subnet.replace(" ","/"):null),null!=f&&(d=e(f));break;default:return[]}return null==d||null==d[0]?[]:j([d],c)}}};return{IP_HOST_PARTIAL:f,IP_RANGE2_GROUPS:g,IP_ALL:l,IP_ALL_QUERY:n,IP_ALL_QUERY_PARTIAL:m,subnet_util:h,ip4_range_calculate:e,ip4_basic_search:j,ip4_wildcard_search:k,ip6:i,ip4:o,cmdb:p}}),fweb_define("fweb.util/icon",[],"fweb.util.icon",function(){"use strict";var a={"nat-flow":"ftnt-vdom-flow","nat-proxy":"ftnt-vdom-proxy","tp-flow":"ftnt-vdom-flow-transparent","tp-proxy":"ftnt-vdom-proxy-transparent"},b={firewall:"fa-user-firewall",fsso:"ftnt-fsso-service",fsso_citrix:"ftnt-fsso-service",ntlm:"fa-user-ntlm",rsso:"ftnt-guest",sso_guest:"ftnt-fsso-service",wsso:"fa-wsso-service"},c={firewall:"ftnt-firewall","fsso-service":"ftnt-fsso-service",guest:"fa-guest",rsso:"ftnt-rsso"},d={auth_user:"fa-user-local",fsso:"ftnt-fsso-service",ldap:"ftnt-ldap",peer:"ftnt-peer",radius:"ftnt-radius",remote:"fa-arrows-h",tacacs:"ftnt-tacacs","tacacs+":"ftnt-tacacs"},e={email:"fa-envelope-o",fortitoken:"ftnt-fortitoken",mobile:"fa-mobile",sms:"fa-mobile"},f={local:"ftnt-certificate-local",remote:"ftnt-certificate-remote",ca:"ftnt-ca-certificates",crl:"ftnt-crl"},g={enable:"fa-enabled",disable:"fa-disabled"},h={all:"fa-custom-action",allow:"fa-enabled",monitor:"fa-monitor",block:"fa-denied",warning:"fa-warning",authenticate:"fa-user-authenticated"},i={allow:"fa-enabled",monitor:"fa-monitor",block:"fa-denied",exempt:"fa-exempt"},j={ftp:"ftnt-ftp-server",http:"ftnt-web-server",imap:"ftnt-mail-server",pop3:"ftnt-mail-server",smb:"ftnt-samba-server",smtp:"ftnt-mail-server",ldap:"ftnt-ldap-server",radius:"ftnt-radius-server","tacacs+":"ftnt-tacacs-server"},k={dc:"ftnt-ldap-dc",cn:"fa-users",ou:"fa-folder",o:"ftnt-ldap-organization",street:"ftnt-ldap-address",l:"ftnt-ldap-city",st:"ftnt-ldap-state",c:"ftnt-ldap-country",uid:"ftnt-ldap-uid"},l={"android-phone":"fa-device-android","android-tablet":"fa-device-android","blackberry-phone":"fa-mobile","blackberry-playbook":"fa-tablet",forticam:"ftnt-device-fortinet",fortifone:"ftnt-device-fortinet","fortinet-device":"ftnt-device-fortinet","gaming-console":"fa-gamepad","ip-phone":"fa-phone","linux-pc":"fa-linux",mac:"fa-device-apple",ipad:"fa-device-apple",iphone:"fa-device-apple","media-streaming":"fa-music","other-network-device":"ftnt-device",printer:"fa-print","router-nat-device":"ftnt-device","windows-pc":"fa-device-windows","windows-phone":"fa-device-windows","windows-tablet":"fa-device-windows","collected-emails":"fa-envelope",unknown:"ftnt-device"},m={aggregate:"ftnt-aggregate",fortilink:"fa-fortilink","hard-switch":"ftnt-switch","hard-switch-vlan":"ftnt-switch",loopback:"ftnt-loopback",physical:"ftnt-interface",trunk:"ftnt-interface",redundant:"ftnt-aggregate",switch:"ftnt-switch","switch-vlan":"ftnt-vlan",tunnel:"ftnt-vpn-tunnel",pppoe:"ftnt-vpn-tunnel","vap-switch":"fa-wifi",vdlink:"fa-link","vdom-link":"fa-link","npu-vlink":"ftnt-npu","npu-vlink-pair":"ftnt-npu","virtual-wan":"ftnt-virtual-wan-link",virtual_wire_pair:"ftnt-virtual-wire-pair",vlan:"ftnt-vlan",vxlan:"ftnt-vpn-tunnel",wireless:"fa-wifi","wl-mesh":"fa-wifi",zone:"fa-square-o"},n={DEVICE:"device",GROUP:"group",LOGON:"logon",TWO_FACTOR_AUTH:"two-factor-auth",USER:"user",VDOM:"vdom",CERTIFICATE:"certificate",ENABLE_DISABLE:"enable_disable",FGD_CAT_ACTION:"fgd-cat-action",SERVER_TYPE:"serverType",URL_FILTER_ACTION:"url-filter-action",LDAP_ATTRIBUTE_TYPE:"ldapAttributeType",INTERFACE:"interfaceIconMap"},o={};o[n.DEVICE]=l,o[n.GROUP]=c,o[n.LOGON]=b,o[n.TWO_FACTOR_AUTH]=e,o[n.USER]=d,o[n.VDOM]=a,o[n.CERTIFICATE]=f,o[n.ENABLE_DISABLE]=g,o[n.FGD_CAT_ACTION]=h,o[n.SERVER_TYPE]=j,o[n.URL_FILTER_ACTION]=i,o[n.LDAP_ATTRIBUTE_TYPE]=k,o[n.INTERFACE]=m;var p=function(a){return a?' title="'+a+'"':""},q=function(a,b,c){var d=p(b);c=c?p(c):d;var e='<f-icon class="'+a+'"'+c+"></f-icon>";return b&&(e+="<span"+d+">"+b+"</span>"),e},r=function(a,b,c){var d,e=o[a]||{},f=e[b];!f&&c&&c.fallBackIconClass&&(f=c.fallBackIconClass);var g=c&&c.label?c.label:null,h=c&&c.iconTitle?c.iconTitle:null;return d=q(f,g,h)},s=function(a,b){
var c=o[a]||{};return c[b]},t=function(a,b){var c,d,e,f=b.admin.vdom_info[a];return a&&f?(c=f.transparent_mode?"tp":"nat",d=f.inspection_mode,e=c+"-"+d):null};return{genVdomIconKey:t,genIcon:q,iconClass:s,formatIcon:r,ICON_TYPE:n,ICON_TYPE_MAP:o}}),fweb_define("fweb.util/avatars",["md5","jquery","fweb.util/location","fweb.util/dom","notify"],"fweb.util.avatars",function(a,b,c,d,e){"use strict";var f,g,h,i="/p/sprite/avatar/avatars.css",j=4096,k=36,l={},m="/api/v2/monitor/endpoint-control/avatar/download";return fweb.BUILD&&fweb.BUILD.SYMBOLS&&(j=fweb.BUILD.SYMBOLS.OBJECT_AVATAR_MAX_SIZE),l.generateObjectClass=function(b,c,d){var e=top.state?top.state.getOperatingVDOM():"root",f=e+"#"+b+"."+c+"#"+d;return l.loadStyleSheet(),"avatar-"+a(f)},l.generateEndpointAvatar=function(a,c,d,e,f,g){var h=m,i="",j={};return g&&(h="/csf/"+g+h),(a&&c||e||d)&&(a&&c&&(j.uid=a,j.user=c),e&&(j.alias=e),d&&(j.default=d),h+="?"+b.param(j),i='<div class="avatar-wrapper '+(f?f:"")+'"><img class="avatar" src="'+h+'"/></div>'),i},l.userFormatFn=function(a){var c,e,f,g="",h=a&&a.user,i=a&&a.unauthuser,j=h||i;return j&&(e=a.uid,f=h?"authuser":"unauthuser",e&&"forticlient"===a.unauthusersource&&i||a.alias?(g=l.generateEndpointAvatar(e,i,f,a.alias,a.display_mode,a.csfPath),"quarantined"===a.forticlient_status&&(g+='<f-icon class="ftnt-forticlient-quarantined" title="'+b.getInfo("FortiClient device quarantined")+'"></f-icon>')):(c=h?"fa-user-authenticated":"fa-user-unauthenticated",g='<f-icon class="'+c+'"></f-icon>'),g+="<span>"+d.escapeHTML(j)+"</span>"),g},l.headerFormatFn=function(a){var b,c,e,f="",g=a&&a.user,h=a&&a.unauthuser,i=g||h;return(i||a.addr)&&(f='<div class="avatar-header">',c=a.uid,e=g?"authuser_72":"unauthuser_72",c&&"forticlient"===a.unauthusersource&&h||a.alias?f+='<div class="avatar-box">'+l.generateEndpointAvatar(c,h,e,a.alias,"large",a.csfPath):(b=g?"fa-user-authenticated":h?"fa-user-unauthenticated":"fa-user-unknown",f+='<div class="avatar-box center"><f-icon class="icon-xxxl '+b+'"></f-icon>'),f+='</div><div class="avatar-info">',i&&(f+='<div class="user">'+d.escapeHTML(i)+"</div>"),a.addr&&(f+='<div class="address">'+a.addr+"</div>"),f+="</div></div>"),f},l.loadStyleSheet=function(){c.get_cache(i,null)||(d.addStyle(i,!0),c.set_cache(i,!0))},l.resizeAvatarImage=function(a){var b,c=document.createElement("canvas"),d=a.width,e=a.height;d>e?d>k&&(e*=k/d,d=k):e>k&&(d*=k/e,e=k),c.width=d,c.height=e,c.getContext("2d").drawImage(a,0,0,d,e);var f=1;for(b=c.toDataURL("image/jpeg",f);b.length>=j&&f>=.5;)f-=.01,b=c.toDataURL("image/jpeg",f);return b},l.fileToImage=function(a,b){if(a&&a.type.match(/image.*/)){var c=new FileReader;c.onload=function(a){var c=new Image;c.onload=function(){b(this)},c.src=a.target.result},c.readAsDataURL(a)}},l.supportsCapture=function(){return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,"https:"===location.protocol&&navigator.getUserMedia},l.setupCapture=function(a,c,d){if(g=b(a),h=b(c),!l.supportsCapture())return g.disable(),!1;var e=h.find("video").get(0);return g.on("click",function(a){a.preventDefault(),l.startCapture()}),h.on("click",function(a){a.preventDefault();var b=document.createElement("canvas");b.height=k,b.width=k,b.getContext("2d").drawImage(e,0,0,k,k),d(b.toDataURL("image/jpeg")),h.addClass("hidden"),f.getTracks()[0].stop()}),!0},l.startCapture=function(){navigator.getUserMedia({video:!0},function(a){h.removeClass("hidden"),b("video",h).prop("src",window.URL.createObjectURL(a)),f=a},function(a){"PermissionDeniedError"!==a.name&&e.post(b.getInfo("No camera found")),g.disable()})},l}),fweb_define("fweb.util/cmdb",["fweb.util/persist","ftnt_shared"],"fweb.util.cmdb",function(a){"use strict";var b={},c="cmdb_edit_history",d=100,e=function(){return top.state.cmdb_edit_history_cookie_name},f=function(){var b;try{if(b=a.get(c)){if(!Array.isArray(b))throw new Error}else b=[]}catch(a){fweb.log.warn("Failed to read local CMDB edit history due to invalid format"),b=[]}return b},g=function(b){b.length>d&&(b=b.slice(0,d)),a.put(c,b)};return b.update_history_from_cookie=function(){var b,c,d=e(),h=a.getCookie(d,!0);if(h)try{if(c=JSON.parse(h),!Array.isArray(c))throw new Error;b=f(),c.reverse(),b.unshift.apply(b,c),g(b)}catch(a){fweb.log.warn("Failed to update CMDB edit history from cookie due to invalid format")}a.removeCookie(d,"/")},b.notify_cmdb_edits=function(){var a,b,c=f(),d=[];for(a=0;a<c.length&&(b=c[a],!b._notified);a++)d.push(b.path+"."+b.name),b._notified=!0;d.length&&(Omniselect.notifySourceChanged(d),g(c))},b.get_edit_history=function(){return f()},b.clear_edit_history=function(){a.remove(c)},b.record_cmdb_edit=function(a,b,c){var d=f();d.unshift({path:a,name:b,mkey:c}),g(d)},b}),fweb_define("fweb.util/slide",["jquery","ftnt_shared","notify","filesaver"],"fweb.util.slide",function(a,b,c,d){"use strict";var e,f=b.slideUtil,g=b.clipboard;return f.iframe=function(b,c){0===b.indexOf("/ng/")&&(b+=(b.indexOf("?")>=0?"&":"?")+"viewOnly");var d=/(.*)(#[^#]+)$/.exec(b);d&&(b=d[1],d=d[2]),b+=(b.indexOf("?")>=0?"&":"?")+"redir=/success&slideFrame=1"+(d||"");var e=new Sliderin(a.extend({url:b},c||{}));return e.open(),e.promise},f.openCli=function(b,f){function h(){e.close(),e=window.open(l,"cliConsole")}function i(){var b=e.getConsoleHistory();c.post(a.getInfo(g.copyText(b.join("\n"))?"Copied to clipboard":"Unable to copy to clipboard")),e.setConsoleFocus()}function j(){var a=e.getConsoleHistory(),b=new Blob([a.join("\n")],{type:"text/plain"});d.saveAs(b,"cliConsole"),e.setConsoleFocus()}function k(){e.clearConsoleHistory(),e.setConsoleFocus()}var l="/system/jsconsole",m=b||{},n={new:b?1:"",mode:f||"edit",q_type:m.q_type,path:m.q_path,name:m.q_name,mkey:m.q_origin_key},o=a('<button class="bare" type="button" title="'+a.getInfo("detach")+'"><f-icon class="fa-external-link-square"></f-icon></button>'),p=a('<button class="bare" type="button" title="'+a.getInfo("Copy to clipboard")+'"><f-icon class="fa-clipboard"></f-icon></button>'),q=a('<button class="bare" type="button" title="'+a.getInfo("download")+'"><f-icon class="fa-download"></f-icon></button>'),r=a('<button class="bare" type="button" title="'+a.getInfo("Clear console")+'"><f-icon class="fa-trash-o"></f-icon></button>');return e&&e.close(),e=new Sliderin({title:a.getInfo("jsconsole"),url:l+"?"+a.param(n),width:600,iframeManipulation:!1,extraHeaderContent:[r.on("click",k),q.on("click",j),p.on("click",i),o.on("click",h)]}),e.open("cliConsole"),e.promise},f}),fweb_define("fweb.util/shortcuts",["ftnt_shared","jquery","fweb.util/structure"],"fweb.util.shortcuts",function(a,b,c){"use strict";var d=a.shortcuts;return d.listen=function(){var a=d.createShortcutChecker(null,function(a){c.topPostMessage({messageType:"shortcutPressed",shortcut:a})});b("body").on("keyup",function(c){c.target&&!b(c.target).is("input,textarea")&&a(c)})},d}),fweb_define("fweb.util/switchctrl",["jquery","fweb.util/firewallInterfaces","fweb.util/uri"],"fweb.util.switchctrl",function(a,b,c){"use strict";var d={};return d.getDedicatedToFortiSwitchInterface=function(){var c=top.state,d=!c.vdom_mode||!c.current_vdom;return b.get(d).then(function(b){var c,d=-1;return b.forEach(function(a){a.is_switchctl_interface_mode&&a.managed_devices.length>d&&(c=a,d=a.managed_devices.length)}),c||a.Deferred().reject()})},d.getDHCPSnoopingMap=function(b,d){var e="/api/v2/monitor/switch-controller/managed-switch/dhcp-snooping";d&&(e=c.setQueryValue(e,"vdom",d));var f={};return a.get(e).then(function(a){return(a.results||[]).forEach(function(a){var c=a.switch_id,d=f[c]=f[c]||{};(a.snooping_entries||[]).forEach(function(a){if(null==b||b===String(a.vlan)){var c=a.status,e=d[a.interface]=d[a.interface]||{};e[c]=(e[c]||0)+1}})}),f})},d}),fweb_define("fweb.util/tree",["jquery","fweb.util/icon"],"fweb.util.tree",function(a,b){"use strict";function c(a,c,e,f){var g=!e,h=d(a,c,g,f);if(e&&h&&h.length){var i=e.alias||e.host&&e.host.name||e.mac,j=e.master||e,k=b.iconClass(b.ICON_TYPE.DEVICE,j.category&&j.category.type),l=j.q_class||j["css-class"]||k;h.push({serial:"device",parentSerial:h[h.length-1].serial,label:i,icon:l})}return h}function d(b,c,d,g){var h,i,j,k,l,m,n,o,p,q,r=[];if(c&&(p=c.split(":"),q=p.length,q>=1&&(h=p[0],i=b[h],r.push({serial:h,label:i&&i.getLabel(),isCurrent:!0,isRoot:g&&i&&i.isRoot(),icon:i&&i.getIconClass()}),q>=2&&(q>=3&&(3===q?(j=p[q-2],k=b[j],m=k&&k.getLabel(),l=k&&k.getIconClass()):(j=e,m=p.length-2+" FortiGates"),r.push({serial:j,label:m,parentSerial:h,icon:l})),n=p[q-1],o=b[n],r.push({serial:n,label:o&&o.getLabel(),parentSerial:r[r.length-1].serial,icon:o&&o.getIconClass()})),d))){var s=r[r.length-1].serial,t=b[s];t&&t.childrenSerials&&t.childrenSerials.length&&r.push({serial:f,label:a.getInfo("{COUNT} Downstream FortiGate(s)",[t.childrenSerials.length]),parentSerial:s})}return r}var e="Abstract_FGT",f="Abstract_Children_FGT";return{genTruncatedTopologyTreeNodes:c}}),fweb_define("fweb.util/webfilter",["jquery"],"fweb.util.webfilter",function(a){"use strict";function b(){return a.getJSON(d).then(c)}function c(a){var b={};return a.results.forEach(function(a){var c=a.rating;c&&(b[c]||(b[c]={}),b[c][a.id]=a.name)}),b}var d="/api/v2/monitor/webfilter/fortiguard-categories";return{getRatingMap:b}}),fweb_define("fweb.util/file",[],null,function(){"use strict";var a={};return a.convertToBase64=function(a){var b,c=new Uint8Array(a),d=[];for(b=0;b<c.length;b++)d.push(String.fromCharCode(c[b]));return window.btoa(d.join(""))},a.getImageType=function(a){for(var b,c=new Uint8Array(a),d=c.subarray(0,4),e="",f=0;f<d.length;f++)e+=d[f].toString(16);switch(e){case"89504e47":b="image/png";break;case"47494638":b="image/gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":b="image/jpeg";break;case"49492a0":case"4d4d02a":b="image/tiff";break;default:b="unknown"}return b},a}),fweb_define("fweb.util/lang",["ftnt_shared"],"fweb.util.lang",function(a){"use strict";var b={},c=new Set,d=function(a){var c,d,e,f=b.getLanguageMap();if(window.lang_prefixes&&f)for(c=0;c<window.lang_prefixes.length;c++)if(d=window.lang_prefixes[c],"/"!==d.charAt(d.length-1)&&(d+="/"),e=d+a,e in f){a=e;break}return a};return b.getLanguageMap=function(){return window.fgt_lang||top.fgt_lang},b.translate=function(e,f,g){var h,i=b.getLanguageMap();return e=d(e),i&&(h=i[e]),h&&f?h=a.lang.stringInterpolate(h,f):null==h&&(g=g||{},h=g.strict?null:f?a.lang.stringInterpolate(e,f):e,g.silent||c.has(e)||(i?(fweb.log.warn('No language entry found for "'+e+'"'),c.add(e)):fweb.log.warn('Could not get language entry for "'+e+'". Language file not loaded.'))),h},b.translationExistsFor=function(a){var c=b.getLanguageMap();return a=d(a),null!=c&&null!=c[a]},a.lang.configureTranslationFunction(b.translate),b}),function(){"use strict";fweb_define("fweb",["fweb.log","fweb.dialog","fweb.util/core","fweb.util/uri","fweb.util/location","fweb.util/datetime","fweb.util/patterns","fweb.util/ip","fweb.util/firmware","fweb.util/formatters","fweb.util/dom","fweb.util/events","fweb.util/objects","fweb.util/ldap","fweb.util/logs","fweb.util/shim","fweb.util/sort","fweb.util/persist","fweb.util/structure","fweb.util/firewallInterfaces","fweb.util/interface","fweb.util/policy","fweb.util/address_search","fweb.util/icon","fweb.util/avatars","fweb.util/cmdb","fweb.util/slide","fweb.util/shortcuts","fweb.util/browser","fweb.util/tree","fweb.util/switchctrl","fweb.util/file","fweb.util/lang"],null,function(){return window.fweb}),fweb_define("fweb.util",["fweb"],null,function(a){return a.util})}(),fweb_define("notify",["jquery","fweb.util/persist","ftnt_shared"],"Notify",function(a,b,c){"use strict";function d(c){c=c||"messages";var d,e="",f=/\\0([0-7]{2})/g,g=b.getCookie(c).replace(f,function(a,b){return"\\u"+("0000"+parseInt(b,8).toString(16)).slice(-4)});try{d=a.parseJSON(g),e=a.parseJSON(d.substr(d.indexOf("$")+1))}catch(a){return""}return e}function e(){if(b.hasCookie("messages")){var c=d();if(a.isArray(c))for(var e=0;e<c.length;e++)f.post(c[e][2],g[c[e][1]]);b.removeCookie("messages","/")}}var f=top.Notify?top.Notify:c.notify,g={10:f.LEVEL.INFO,20:f.LEVEL.INFO,25:f.LEVEL.INFO,30:f.LEVEL.WARNING,40:f.LEVEL.ERROR};return a(document).ready(function(){e()}),f}),fweb_define("flot",["jquery"],null,function(){if(function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return b<a?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(d=b.css(c).toLowerCase(),""!=d&&"transparent"!=d)break;b=b.parent()}while(b.length&&!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function b(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}function c(c,e,f,g){function h(a,b){b=[qa].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function i(){for(var c={Canvas:b},d=0;d<g.length;++d){var e=g[d];e.init(qa,c),e.options&&a.extend(!0,ea,e.options)}}function j(b){a.extend(!0,ea,b),b&&b.colors&&(ea.colors=b.colors),null==ea.xaxis.color&&(ea.xaxis.color=a.color.parse(ea.grid.color).scale("a",.22).toString()),null==ea.yaxis.color&&(ea.yaxis.color=a.color.parse(ea.grid.color).scale("a",.22).toString()),null==ea.xaxis.tickColor&&(ea.xaxis.tickColor=ea.grid.tickColor||ea.xaxis.color),null==ea.yaxis.tickColor&&(ea.yaxis.tickColor=ea.grid.tickColor||ea.yaxis.color),null==ea.grid.borderColor&&(ea.grid.borderColor=ea.grid.color),null==ea.grid.tickColor&&(ea.grid.tickColor=a.color.parse(ea.grid.color).scale("a",.22).toString());var d,e,f,g=c.css("font-size"),i=g?+g.replace("px",""):13,j={style:c.css("font-style"),size:Math.round(.8*i),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};for(f=ea.xaxes.length||1,d=0;d<f;++d)e=ea.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},ea.xaxis,e),ea.xaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(f=ea.yaxes.length||1,d=0;d<f;++d)e=ea.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},ea.yaxis,e),ea.yaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(ea.xaxis.noTicks&&null==ea.xaxis.ticks&&(ea.xaxis.ticks=ea.xaxis.noTicks),ea.yaxis.noTicks&&null==ea.yaxis.ticks&&(ea.yaxis.ticks=ea.yaxis.noTicks),ea.x2axis&&(ea.xaxes[1]=a.extend(!0,{},ea.xaxis,ea.x2axis),ea.xaxes[1].position="top",null==ea.x2axis.min&&(ea.xaxes[1].min=null),null==ea.x2axis.max&&(ea.xaxes[1].max=null)),ea.y2axis&&(ea.yaxes[1]=a.extend(!0,{},ea.yaxis,ea.y2axis),ea.yaxes[1].position="right",null==ea.y2axis.min&&(ea.yaxes[1].min=null),null==ea.y2axis.max&&(ea.yaxes[1].max=null)),ea.grid.coloredAreas&&(ea.grid.markings=ea.grid.coloredAreas),ea.grid.coloredAreasColor&&(ea.grid.markingsColor=ea.grid.coloredAreasColor),ea.lines&&a.extend(!0,ea.series.lines,ea.lines),ea.points&&a.extend(!0,ea.series.points,ea.points),ea.bars&&a.extend(!0,ea.series.bars,ea.bars),null!=ea.shadowSize&&(ea.series.shadowSize=ea.shadowSize),null!=ea.highlightColor&&(ea.series.highlightColor=ea.highlightColor),d=0;d<ea.xaxes.length;++d)q(ka,d+1).options=ea.xaxes[d];for(d=0;d<ea.yaxes.length;++d)q(la,d+1).options=ea.yaxes[d];for(var k in pa)ea.hooks[k]&&ea.hooks[k].length&&(pa[k]=pa[k].concat(ea.hooks[k]));h(pa.processOptions,[ea])}function k(a){da=l(a),r(),s()}function l(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},ea.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function m(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function n(){return a.grep(ka.concat(la),function(a){return a})}function o(a){var b,c,d={};for(b=0;b<ka.length;++b)c=ka[b],c&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<la.length;++b)c=la[b],c&&c.used&&(d["y"+c.n]=c.c2p(a.top));return void 0!==d.x1&&(d.x=d.x1),void 0!==d.y1&&(d.y=d.y1),d}function p(a){var b,c,d,e={};for(b=0;b<ka.length;++b)if(c=ka[b],c&&c.used&&(d="x"+c.n,null==a[d]&&1==c.n&&(d="x"),null!=a[d])){e.left=c.p2c(a[d]);break}for(b=0;b<la.length;++b)if(c=la[b],c&&c.used&&(d="y"+c.n,null==a[d]&&1==c.n&&(d="y"),null!=a[d])){e.top=c.p2c(a[d]);break}return e}function q(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==ka?"x":"y",options:a.extend(!0,{},b==ka?ea.xaxis:ea.yaxis)}),b[c-1]}function r(){var b,c=da.length,d=-1;for(b=0;b<da.length;++b){var e=da[b].color;null!=e&&(c--,"number"==typeof e&&e>d&&(d=e))}c<=d&&(c=d+1);var f,g=[],h=ea.colors,i=h.length,j=0;for(b=0;b<c;b++)f=a.color.parse(h[b%i]||"#666"),b%i==0&&b&&(j=j>=0?j<.5?-j-.2:0:-j),g[b]=f.scale("rgb",1+j);var k,l=0;for(b=0;b<da.length;++b){if(k=da[b],null==k.color?(k.color=g[l].toString(),++l):"number"==typeof k.color&&(k.color=g[k.color].toString()),null==k.lines.show){var n,o=!0;for(n in k)if(k[n]&&k[n].show){o=!1;break}o&&(k.lines.show=!0)}null==k.lines.zero&&(k.lines.zero=!!k.lines.fill),k.xaxis=q(ka,m(k,"x")),k.yaxis=q(la,m(k,"y"))}}function s(){function b(a,b,c){b<a.datamin&&b!=-s&&(a.datamin=b),c>a.datamax&&c!=s&&(a.datamax=c)}var c,d,e,f,g,i,j,k,l,m,o,p,q=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.MAX_VALUE;for(a.each(n(),function(a,b){b.datamin=q,b.datamax=r,b.used=!1}),c=0;c<da.length;++c)g=da[c],g.datapoints={points:[]},h(pa.processRawData,[g,g.data,g.datapoints]);for(c=0;c<da.length;++c){if(g=da[c],o=g.data,p=g.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),g.bars.show||g.lines.show&&g.lines.fill){var t=!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:t}),g.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}g.datapoints.format=p}if(null==g.datapoints.pointsize){g.datapoints.pointsize=p.length,j=g.datapoints.pointsize,i=g.datapoints.points;var u=g.lines.show&&g.lines.steps;for(g.xaxis.used=g.yaxis.used=!0,d=e=0;d<o.length;++d,e+=j){m=o[d];var v=null==m;if(!v)for(f=0;f<j;++f)k=m[f],l=p[f],l&&(l.number&&null!=k&&(k=+k,isNaN(k)?k=null:k==1/0?k=s:k==-(1/0)&&(k=-s)),null==k&&(l.required&&(v=!0),null!=l.defaultValue&&(k=l.defaultValue))),i[e+f]=k;if(v)for(f=0;f<j;++f)k=i[e+f],null!=k&&(l=p[f],l.autoscale!==!1&&(l.x&&b(g.xaxis,k,k),l.y&&b(g.yaxis,k,k))),i[e+f]=null;else if(u&&e>0&&null!=i[e-j]&&i[e-j]!=i[e]&&i[e-j+1]!=i[e+1]){for(f=0;f<j;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1],e+=j}}}}for(c=0;c<da.length;++c)g=da[c],h(pa.processDatapoints,[g,g.datapoints]);for(c=0;c<da.length;++c){g=da[c],i=g.datapoints.points,j=g.datapoints.pointsize,p=g.datapoints.format;var w=q,x=q,y=r,z=r;for(d=0;d<i.length;d+=j)if(null!=i[d])for(f=0;f<j;++f)k=i[d+f],l=p[f],l&&l.autoscale!==!1&&k!=s&&k!=-s&&(l.x&&(k<w&&(w=k),k>y&&(y=k)),l.y&&(k<x&&(x=k),k>z&&(z=k)));if(g.bars.show){var A;switch(g.bars.align){case"left":A=0;break;case"right":A=-g.bars.barWidth;break;default:A=-g.bars.barWidth/2}g.bars.horizontal?(x+=A,z+=A+g.bars.barWidth):(w+=A,y+=A+g.bars.barWidth)}b(g.xaxis,w,y),b(g.yaxis,x,z)}a.each(n(),function(a,b){b.datamin==q&&(b.datamin=null),b.datamax==r&&(b.datamax=null)})}function t(){c.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove(),"static"==c.css("position")&&c.css("position","relative"),fa=new b("flot-base",c),ga=new b("flot-overlay",c),ia=fa.context,ja=ga.context,ha=a(ga.element).unbind();var d=c.data("plot");d&&(d.shutdown(),ga.clear()),c.data("plot",qa)}function u(){ea.grid.hoverable&&(ha.mousemove(T),ha.bind("mouseleave",U)),ea.grid.clickable&&ha.click(V),h(pa.bindEvents,[ha])}function v(){sa&&clearTimeout(sa),ha.unbind("mousemove",T),ha.unbind("mouseleave",U),ha.unbind("click",V),h(pa.shutdown,[ha])}function w(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=na/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=oa/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),e==b?a.p2c=function(a){return(a-d)*c}:a.p2c=function(a){return(e(a)-d)*c},f?a.c2p=function(a){return f(d+a/c)}:a.c2p=function(a){return d+a/c}}function x(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=d||("x"==a.direction?Math.floor(fa.width/(c.length||1)):null),g=a.direction+"Axis "+a.direction+a.n+"Axis",h="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+g,i=b.font||"flot-tick-label tickLabel",j=0;j<c.length;++j){var k=c[j];if(k.label){var l=fa.getTextInfo(h,k.label,i,null,f);d=Math.max(d,l.width),e=Math.max(e,l.height)}}a.labelWidth=b.labelWidth||d,a.labelHeight=b.labelHeight||e}function y(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=ea.grid.axisMargin,i=ea.grid.labelMargin,j=!0,k=!0,l=!0,m=!1;a.each(f?ka:la,function(a,c){c&&(c.show||c.reserveSpace)&&(c===b?m=!0:c.options.position===e&&(m?k=!1:j=!1),m||(l=!1))}),k&&(h=0),null==g&&(g=l?"full":5),isNaN(+g)||(i+=+g),f?(d+=i,"bottom"==e?(ma.bottom+=d+h,b.box={top:fa.height-ma.bottom,height:d}):(b.box={top:ma.top+h,height:d},ma.top+=d+h)):(c+=i,"left"==e?(b.box={left:ma.left+h,width:c},ma.left+=c+h):(ma.right+=c+h,b.box={left:fa.width-ma.right,width:c})),b.position=e,b.tickLength=g,b.box.padding=i,b.innermost=j}function z(a){"x"==a.direction?(a.box.left=ma.left-a.labelWidth/2,a.box.width=fa.width-ma.left-ma.right+a.labelWidth):(a.box.top=ma.top-a.labelHeight/2,a.box.height=fa.height-ma.bottom-ma.top+a.labelHeight)}function A(){var b,c=ea.grid.minBorderMargin;if(null==c)for(c=0,b=0;b<da.length;++b)c=Math.max(c,2*(da[b].points.radius+da[b].points.lineWidth/2));var d={left:c,right:c,top:c,bottom:c};a.each(n(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(d.left=Math.max(d.left,b.labelWidth/2),d.right=Math.max(d.right,b.labelWidth/2)):(d.bottom=Math.max(d.bottom,b.labelHeight/2),d.top=Math.max(d.top,b.labelHeight/2)))}),ma.left=Math.ceil(Math.max(d.left,ma.left)),ma.right=Math.ceil(Math.max(d.right,ma.right)),ma.top=Math.ceil(Math.max(d.top,ma.top)),ma.bottom=Math.ceil(Math.max(d.bottom,ma.bottom))}function B(){var b,c=n(),d=ea.grid.show;for(var e in ma){var f=ea.grid.margin||0;ma[e]="number"==typeof f?f:f[e]||0}h(pa.processOffset,[ma]);for(var e in ma)"object"==typeof ea.grid.borderWidth?ma[e]+=d?ea.grid.borderWidth[e]:0:ma[e]+=d?ea.grid.borderWidth:0;if(a.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show,b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace,C(b)}),d){var g=a.grep(c,function(a){return a.show||a.reserveSpace});for(a.each(g,function(a,b){D(b),E(b),F(b,b.ticks),x(b)}),b=g.length-1;b>=0;--b)y(g[b]);A(),a.each(g,function(a,b){z(b)})}na=fa.width-ma.left-ma.right,oa=fa.height-ma.bottom-ma.top,a.each(c,function(a,b){w(b)}),d&&K(),R()}function C(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=0==d?1:.01;null==b.min&&(c-=f),null!=b.max&&null==b.min||(d+=f)}else{var g=b.autoscaleMargin;null!=g&&(null==b.min&&(c-=e*g,c<0&&null!=a.datamin&&a.datamin>=0&&(c=0)),null==b.max&&(d+=e*g,d>0&&null!=a.datamax&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function D(b){var c,e=b.options;c="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==b.direction?fa.width:fa.height);var f=(b.max-b.min)/c,g=-Math.floor(Math.log(f)/Math.LN10),h=e.tickDecimals;null!=h&&g>h&&(g=h);var i,j=Math.pow(10,-g),k=f/j;if(k<1.5?i=1:k<3?(i=2,k>2.25&&(null==h||g+1<=h)&&(i=2.5,++g)):i=k<7.5?5:10,i*=j,null!=e.minTickSize&&i<e.minTickSize&&(i=e.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=e.tickSize||i,"time"==e.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var b,c=[],e=d(a.min,a.tickSize),f=0,g=Number.NaN;do b=g,g=e+f*a.tickSize,c.push(g),++f;while(g<a.max&&g!=b);return c},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=e==-1?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(e.tickFormatter)&&(b.tickFormatter=function(a,b){return""+e.tickFormatter(a,b)}),null!=e.alignTicksWithAxis){var l=("x"==b.direction?ka:la)[e.alignTicksWithAxis-1];if(l&&l.used&&l!=b){var m=b.tickGenerator(b);if(m.length>0&&(null==e.min&&(b.min=Math.min(b.min,m[0])),null==e.max&&m.length>1&&(b.max=Math.max(b.max,m[m.length-1]))),b.tickGenerator=function(a){var b,c,d=[];for(c=0;c<l.ticks.length;++c)b=(l.ticks[c].v-l.min)/(l.max-l.min),b=a.min+b*(a.max-a.min),d.push(b);return d},!b.mode&&null==e.tickDecimals){var n=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),o=b.tickGenerator(b);o.length>1&&/\..*0$/.test((o[1]-o[0]).toFixed(n))||(b.tickDecimals=n)}}}}function E(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function F(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function G(){fa.clear(),h(pa.drawBackground,[ia]);var a=ea.grid;a.show&&a.backgroundColor&&I(),a.show&&!a.aboveData&&J();for(var b=0;b<da.length;++b)h(pa.drawSeries,[ia,da[b]]),L(da[b]);h(pa.draw,[ia]),a.show&&a.aboveData&&J(),fa.render(),X()}function H(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?ka[0]:la[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function I(){ia.save(),ia.translate(ma.left,ma.top),ia.fillStyle=ca(ea.grid.backgroundColor,oa,0,"rgba(255, 255, 255, 0)"),ia.fillRect(0,0,na,oa),ia.restore()}function J(){var b,c,d,e;ia.save(),ia.translate(ma.left,ma.top);var f=ea.grid.markings;if(f)for(a.isFunction(f)&&(c=qa.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=H(g,"x"),i=H(g,"y");if(null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),!(h.to<h.axis.min||h.from>h.axis.max||i.to<i.axis.min||i.from>i.axis.max)){h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max);var j=h.from===h.to,k=i.from===i.to;if(!j||!k)if(h.from=Math.floor(h.axis.p2c(h.from)),h.to=Math.floor(h.axis.p2c(h.to)),i.from=Math.floor(i.axis.p2c(i.from)),i.to=Math.floor(i.axis.p2c(i.to)),j||k){var l=g.lineWidth||ea.grid.markingsLineWidth,m=l%2?.5:0;ia.beginPath(),ia.strokeStyle=g.color||ea.grid.markingsColor,ia.lineWidth=l,j?(ia.moveTo(h.to+m,i.from),ia.lineTo(h.to+m,i.to)):(ia.moveTo(h.from,i.to+m),ia.lineTo(h.to,i.to+m)),ia.stroke()}else ia.fillStyle=g.color||ea.grid.markingsColor,ia.fillRect(h.from,i.to,h.to-h.from,i.from-i.to)}}c=n(),d=ea.grid.borderWidth;for(var o=0;o<c.length;++o){var p,q,r,s,t=c[o],u=t.box,v=t.tickLength;if(t.show&&0!=t.ticks.length){for(ia.lineWidth=1,"x"==t.direction?(p=0,q="full"==v?"top"==t.position?0:oa:u.top-ma.top+("top"==t.position?u.height:0)):(q=0,p="full"==v?"left"==t.position?0:na:u.left-ma.left+("left"==t.position?u.width:0)),t.innermost||(ia.strokeStyle=t.options.color,ia.beginPath(),r=s=0,"x"==t.direction?r=na+1:s=oa+1,1==ia.lineWidth&&("x"==t.direction?q=Math.floor(q)+.5:p=Math.floor(p)+.5),ia.moveTo(p,q),ia.lineTo(p+r,q+s),ia.stroke()),ia.strokeStyle=t.options.tickColor,ia.beginPath(),b=0;b<t.ticks.length;++b){var w=t.ticks[b].v;r=s=0,isNaN(w)||w<t.min||w>t.max||"full"==v&&("object"==typeof d&&d[t.position]>0||d>0)&&(w==t.min||w==t.max)||("x"==t.direction?(p=t.p2c(w),s="full"==v?-oa:v,"top"==t.position&&(s=-s)):(q=t.p2c(w),r="full"==v?-na:v,"left"==t.position&&(r=-r)),1==ia.lineWidth&&("x"==t.direction?p=Math.floor(p)+.5:q=Math.floor(q)+.5),ia.moveTo(p,q),ia.lineTo(p+r,q+s))}ia.stroke()}}d&&(e=ea.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(ia.strokeStyle=e.top,ia.lineWidth=d.top,ia.beginPath(),ia.moveTo(0-d.left,0-d.top/2),ia.lineTo(na,0-d.top/2),ia.stroke()),d.right>0&&(ia.strokeStyle=e.right,ia.lineWidth=d.right,ia.beginPath(),ia.moveTo(na+d.right/2,0-d.top),ia.lineTo(na+d.right/2,oa),ia.stroke()),d.bottom>0&&(ia.strokeStyle=e.bottom,
ia.lineWidth=d.bottom,ia.beginPath(),ia.moveTo(na+d.right,oa+d.bottom/2),ia.lineTo(0,oa+d.bottom/2),ia.stroke()),d.left>0&&(ia.strokeStyle=e.left,ia.lineWidth=d.left,ia.beginPath(),ia.moveTo(0-d.left/2,oa+d.bottom),ia.lineTo(0-d.left/2,0),ia.stroke())):(ia.lineWidth=d,ia.strokeStyle=ea.grid.borderColor,ia.strokeRect(-d/2,-d/2,na+d,oa+d))),ia.restore()}function K(){a.each(n(),function(a,b){var c,d,e,f,g,h=b.box,i=b.direction+"Axis "+b.direction+b.n+"Axis",j="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+i,k=b.options.font||"flot-tick-label tickLabel";if(fa.removeText(j),b.show&&0!=b.ticks.length)for(var l=0;l<b.ticks.length;++l)c=b.ticks[l],!c.label||c.v<b.min||c.v>b.max||("x"==b.direction?(f="center",d=ma.left+b.p2c(c.v),"bottom"==b.position?e=h.top+h.padding:(e=h.top+h.height-h.padding,g="bottom")):(g="middle",e=ma.top+b.p2c(c.v),"left"==b.position?(d=h.left+h.width-h.padding,f="right"):d=h.left+h.padding),fa.addText(j,d,e,c.label,k,null,null,f,g))})}function L(a){a.lines.show&&M(a),a.bars.show&&P(a),a.points.show&&N(a)}function M(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;ia.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(null!=k&&null!=m){if(l<=n&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(n<=l&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(k<=m&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(m<=k&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}k==h&&l==i||ia.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,ia.lineTo(d.p2c(m)+b,e.p2c(n)+c)}}ia.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h=!1,i=1,j=0,k=0;;){if(e>0&&g>d.length+e)break;g+=e;var l=d[g-e],m=d[g-e+i],n=d[g],o=d[g+i];if(h){if(e>0&&null!=l&&null==n){k=g,e=-e,i=2;continue}if(e<0&&g==j+e){ia.fill(),h=!1,e=-e,i=1,g=j=k+e;continue}}if(null!=l&&null!=n){if(l<=n&&l<b.min){if(n<b.min)continue;m=(b.min-l)/(n-l)*(o-m)+m,l=b.min}else if(n<=l&&n<b.min){if(l<b.min)continue;o=(b.min-l)/(n-l)*(o-m)+m,n=b.min}if(l>=n&&l>b.max){if(n>b.max)continue;m=(b.max-l)/(n-l)*(o-m)+m,l=b.max}else if(n>=l&&n>b.max){if(l>b.max)continue;o=(b.max-l)/(n-l)*(o-m)+m,n=b.max}if(h||(ia.beginPath(),ia.moveTo(b.p2c(l),c.p2c(f)),h=!0),m>=c.max&&o>=c.max)ia.lineTo(b.p2c(l),c.p2c(c.max)),ia.lineTo(b.p2c(n),c.p2c(c.max));else if(m<=c.min&&o<=c.min)ia.lineTo(b.p2c(l),c.p2c(c.min)),ia.lineTo(b.p2c(n),c.p2c(c.min));else{var p=l,q=n;m<=o&&m<c.min&&o>=c.min?(l=(c.min-m)/(o-m)*(n-l)+l,m=c.min):o<=m&&o<c.min&&m>=c.min&&(n=(c.min-m)/(o-m)*(n-l)+l,o=c.min),m>=o&&m>c.max&&o<=c.max?(l=(c.max-m)/(o-m)*(n-l)+l,m=c.max):o>=m&&o>c.max&&m<=c.max&&(n=(c.max-m)/(o-m)*(n-l)+l,o=c.max),l!=p&&ia.lineTo(b.p2c(p),c.p2c(m)),ia.lineTo(b.p2c(l),c.p2c(m)),ia.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(ia.lineTo(b.p2c(n),c.p2c(o)),ia.lineTo(b.p2c(q),c.p2c(o)))}}}}ia.save(),ia.translate(ma.left,ma.top),ia.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){ia.lineWidth=e,ia.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),ia.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}ia.lineWidth=d,ia.strokeStyle=a.color;var g=Q(a.lines,a.color,0,oa);g&&(ia.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),ia.restore()}function N(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],m=i[k+1];null==l||l<f.min||l>f.max||m<g.min||m>g.max||(ia.beginPath(),l=f.p2c(l),m=g.p2c(m)+d,"circle"==h?ia.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):h(ia,l,m,b,e),ia.closePath(),c&&(ia.fillStyle=c,ia.fill()),ia.stroke())}}ia.save(),ia.translate(ma.left,ma.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;ia.lineWidth=g,ia.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),ia.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}ia.lineWidth=c,ia.strokeStyle=a.color,b(a.datapoints,e,Q(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),ia.restore()}function O(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;j?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,m<l&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,o<n&&(t=o,o=n,n=t,s=!0,r=!1)),m<g.min||l>g.max||o<h.min||n>h.max||(l<g.min&&(l=g.min,p=!1),m>g.max&&(m=g.max,q=!1),n<h.min&&(n=h.min,s=!1),o>h.max&&(o=h.max,r=!1),l=g.p2c(l),n=h.p2c(n),m=g.p2c(m),o=h.p2c(o),f&&(i.fillStyle=f(n,o),i.fillRect(l,o,m-l,n-o)),k>0&&(p||q||r||s)&&(i.beginPath(),i.moveTo(l,n),p?i.lineTo(l,o):i.moveTo(l,o),r?i.lineTo(m,o):i.moveTo(m,o),q?i.lineTo(m,n):i.moveTo(m,n),s?i.lineTo(l,n):i.moveTo(l,n),i.stroke()))}function P(a){function b(b,c,d,e,f,g){for(var h=b.points,i=b.pointsize,j=0;j<h.length;j+=i)null!=h[j]&&O(h[j],h[j+1],h[j+2],c,d,e,f,g,ia,a.bars.horizontal,a.bars.lineWidth)}ia.save(),ia.translate(ma.left,ma.top),ia.lineWidth=a.bars.lineWidth,ia.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}var d=a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,d,a.xaxis,a.yaxis),ia.restore()}function Q(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return ca(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function R(){if(null!=ea.legend.container?a(ea.legend.container).html(""):c.find(".legend").remove(),ea.legend.show){for(var b,d,e=[],f=[],g=!1,h=ea.legend.labelFormatter,i=0;i<da.length;++i)b=da[i],b.label&&(d=h?h(b.label,b):b.label,d&&f.push({label:d,color:b.color}));if(ea.legend.sorted)if(a.isFunction(ea.legend.sorted))f.sort(ea.legend.sorted);else if("reverse"==ea.legend.sorted)f.reverse();else{var j="descending"!=ea.legend.sorted;f.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=j?1:-1})}for(var i=0;i<f.length;++i){var k=f[i];i%ea.legend.noColumns==0&&(g&&e.push("</tr>"),e.push("<tr>"),g=!0),e.push('<td class="legendColorBox"><div style="border:1px solid '+ea.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k.label+"</td>")}if(g&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+ea.grid.color+'">'+e.join("")+"</table>";if(null!=ea.legend.container)a(ea.legend.container).html(l);else{var m="",n=ea.legend.position,o=ea.legend.margin;null==o[0]&&(o=[o,o]),"n"==n.charAt(0)?m+="top:"+(o[1]+ma.top)+"px;":"s"==n.charAt(0)&&(m+="bottom:"+(o[1]+ma.bottom)+"px;"),"e"==n.charAt(1)?m+="right:"+(o[0]+ma.right)+"px;":"w"==n.charAt(1)&&(m+="left:"+(o[0]+ma.left)+"px;");var p=a('<div class="legend">'+l.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(c);if(0!=ea.legend.backgroundOpacity){var q=ea.legend.backgroundColor;null==q&&(q=ea.grid.backgroundColor,q=q&&"string"==typeof q?a.color.parse(q):a.color.extract(p,"background-color"),q.a=1,q=q.toString());var r=p.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+m+"background-color:"+q+';"> </div>').prependTo(p).css("opacity",ea.legend.backgroundOpacity)}}}}}function S(a,b,c){var d,e,f,g=ea.grid.mouseActiveRadius,h=g*g+1,i=null;for(d=da.length-1;d>=0;--d)if(c(da[d])){var j=da[d],k=j.xaxis,l=j.yaxis,m=j.datapoints.points,n=k.c2p(a),o=l.c2p(b),p=g/k.scale,q=g/l.scale;if(f=j.datapoints.pointsize,k.options.inverseTransform&&(p=Number.MAX_VALUE),l.options.inverseTransform&&(q=Number.MAX_VALUE),j.lines.show||j.points.show)for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1];if(null!=r&&!(r-n>p||r-n<-p||s-o>q||s-o<-q)){var t=Math.abs(k.p2c(r)-a),u=Math.abs(l.p2c(s)-b),v=t*t+u*u;v<h&&(h=v,i=[d,e/f])}}if(j.bars.show&&!i){var w,x;switch(j.bars.align){case"left":w=0;break;case"right":w=-j.bars.barWidth;break;default:w=-j.bars.barWidth/2}for(x=w+j.bars.barWidth,e=0;e<m.length;e+=f){var r=m[e],s=m[e+1],y=m[e+2];null!=r&&(da[d].bars.horizontal?n<=Math.max(y,r)&&n>=Math.min(y,r)&&o>=s+w&&o<=s+x:n>=r+w&&n<=r+x&&o>=Math.min(y,s)&&o<=Math.max(y,s))&&(i=[d,e/f])}}}return i?(d=i[0],e=i[1],f=da[d].datapoints.pointsize,{datapoint:da[d].datapoints.points.slice(e*f,(e+1)*f),dataIndex:e,series:da[d],seriesIndex:d}):null}function T(a){ea.grid.hoverable&&W("plothover",a,function(a){return 0!=a.hoverable})}function U(a){ea.grid.hoverable&&W("plothover",a,function(a){return!1})}function V(a){W("plotclick",a,function(a){return 0!=a.clickable})}function W(a,b,d){var e=ha.offset(),f=b.pageX-e.left-ma.left,g=b.pageY-e.top-ma.top,h=o({left:f,top:g});h.pageX=b.pageX,h.pageY=b.pageY;var i=S(f,g,d);if(i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+ma.left,10),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+ma.top,10)),ea.grid.autoHighlight){for(var j=0;j<ra.length;++j){var k=ra[j];k.auto!=a||i&&k.series==i.series&&k.point[0]==i.datapoint[0]&&k.point[1]==i.datapoint[1]||$(k.series,k.point)}i&&Z(i.series,i.datapoint,a)}c.trigger(a,[h,i])}function X(){var a=ea.interaction.redrawOverlayInterval;return a==-1?void Y():void(sa||(sa=setTimeout(Y,a)))}function Y(){sa=null,ja.save(),ga.clear(),ja.translate(ma.left,ma.top);var a,b;for(a=0;a<ra.length;++a)b=ra[a],b.series.bars.show?ba(b.series,b.point):aa(b.series,b.point);ja.restore(),h(pa.drawOverlay,[ja])}function Z(a,b,c){if("number"==typeof a&&(a=da[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=_(a,b);e==-1?(ra.push({series:a,point:b,auto:c}),X()):c||(ra[e].auto=!1)}function $(a,b){if(null==a&&null==b)return ra=[],void X();if("number"==typeof a&&(a=da[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=_(a,b);d!=-1&&(ra.splice(d,1),X())}function _(a,b){for(var c=0;c<ra.length;++c){var d=ra[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function aa(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.lineWidth/2;ja.lineWidth=i,ja.strokeStyle=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),ja.beginPath(),"circle"==b.points.symbol?ja.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(ja,d,e,j,!1),ja.closePath(),ja.stroke()}}function ba(b,c){var d,e="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),f=e;switch(b.bars.align){case"left":d=0;break;case"right":d=-b.bars.barWidth;break;default:d=-b.bars.barWidth/2}ja.lineWidth=b.bars.lineWidth,ja.strokeStyle=e,O(c[0],c[1],c[2]||0,d,d+b.bars.barWidth,function(){return f},b.xaxis,b.yaxis,ja,b.bars.horizontal,b.bars.lineWidth)}function ca(b,c,d,e){if("string"==typeof b)return b;for(var f=ia.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;g<h;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var da=[],ea={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},fa=null,ga=null,ha=null,ia=null,ja=null,ka=[],la=[],ma={left:0,right:0,top:0,bottom:0},na=0,oa=0,pa={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},qa=this;qa.setData=k,qa.setupGrid=B,qa.draw=G,qa.getPlaceholder=function(){return c},qa.getCanvas=function(){return fa.element},qa.getPlotOffset=function(){return ma},qa.width=function(){return na},qa.height=function(){return oa},qa.offset=function(){var a=ha.offset();return a.left+=ma.left,a.top+=ma.top,a},qa.getData=function(){return da},qa.getAxes=function(){var b={};return a.each(ka.concat(la),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},qa.getXAxes=function(){return ka},qa.getYAxes=function(){return la},qa.c2p=o,qa.p2c=p,qa.getOptions=function(){return ea},qa.highlight=Z,qa.unhighlight=$,qa.triggerRedrawOverlay=X,qa.pointOffset=function(a){return{left:parseInt(ka[m(a,"x")-1].p2c(+a.x)+ma.left,10),top:parseInt(la[m(a,"y")-1].p2c(+a.y)+ma.top,10)}},qa.shutdown=v,qa.destroy=function(){v(),c.removeData("plot").empty(),da=[],ea=null,fa=null,ga=null,ha=null,ia=null,ja=null,ka=[],la=[],pa=null,ra=[],qa=null},qa.resize=function(){var a=c.width(),b=c.height();fa.resize(a,b),ga.resize(a,b)},qa.hooks=pa,i(qa),j(f),t(),k(e),B(),G(),u();var ra=[],sa=null}function d(a,b){return b*Math.floor(a/b)}var e=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),b.prototype.resize=function(a,b){if(a<=0||b<=0)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},b.prototype.render=function(){var a=this._textCache;for(var b in a)if(e.call(a,b)){var c=this.getTextLayer(b),d=a[b];c.hide();for(var f in d)if(e.call(d,f)){var g=d[f];for(var h in g)if(e.call(g,h)){for(var i,j=g[h].positions,k=0;i=j[k];k++)i.active?i.rendered||(c.append(i.element),i.rendered=!0):(j.splice(k--,1),i.rendered&&i.element.detach());0==j.length&&delete g[h]}}c.show()}},b.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},b.prototype.getTextInfo=function(b,c,d,e,f){var g,h,i,j;if(c=""+c,g="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,h=this._textCache[b],null==h&&(h=this._textCache[b]={}),i=h[g],null==i&&(i=h[g]={}),j=i[c],null==j){var k=a("<div></div>").html(c).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?k.css({font:g,color:d.color}):"string"==typeof d&&k.addClass(d),j=i[c]={width:k.outerWidth(!0),height:k.outerHeight(!0),element:k,positions:[]},k.detach()}return j},b.prototype.addText=function(a,b,c,d,e,f,g,h,i){var j=this.getTextInfo(a,d,e,f,g),k=j.positions;"center"==h?b-=j.width/2:"right"==h&&(b-=j.width),"middle"==i?c-=j.height/2:"bottom"==i&&(c-=j.height);for(var l,m=0;l=k[m];m++)if(l.x==b&&l.y==c)return void(l.active=!0);l={active:!0,rendered:!1,element:k.length?j.element.clone():j.element,x:b,y:c},k.push(l),l.element.css({top:Math.round(c),left:Math.round(b),"text-align":h})},b.prototype.removeText=function(a,b,c,d,f,g){if(null==d){var h=this._textCache[a];if(null!=h)for(var i in h)if(e.call(h,i)){var j=h[i];for(var k in j)if(e.call(j,k))for(var l,m=j[k].positions,n=0;l=m[n];n++)l.active=!1}}else for(var l,m=this.getTextInfo(a,d,f,g).positions,n=0;l=m[n];n++)l.x==b&&l.y==c&&(l.active=!1)},a.plot=function(b,d,e){var f=new c(a(b),d,e,a.plot.plugins);return f},a.plot.version="0.8.3",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery),function(a){function b(a,b){return b*Math.floor(a/b)}function c(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){return a=""+a,b=""+(null==b?"0":b),1==a.length?b+a:a},f=[],g=!1,h=a.getHours(),i=h<12;null==c&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==d&&(d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var j;j=h>12?h-12:0==h?12:h;for(var k=0;k<b.length;++k){var l=b.charAt(k);if(g){switch(l){case"a":l=""+d[a.getDay()];break;case"b":l=""+c[a.getMonth()];break;case"d":l=e(a.getDate());break;case"e":l=e(a.getDate()," ");break;case"h":case"H":l=e(h);break;case"I":l=e(j);break;case"l":l=e(j," ");break;case"m":l=e(a.getMonth()+1);break;case"M":l=e(a.getMinutes());break;case"q":l=""+(Math.floor(a.getMonth()/3)+1);break;case"S":l=e(a.getSeconds());break;case"y":l=e(a.getFullYear()%100);break;case"Y":l=""+a.getFullYear();break;case"p":l=i?"am":"pm";break;case"P":l=i?"AM":"PM";break;case"w":l=""+a.getDay()}f.push(l),g=!1}else"%"==l?g=!0:f.push(l)}return f.join("")}function d(a){function b(a,b,c,d){a[b]=function(){return c[d].apply(c,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime"),b(c,"getTime",a,"getTime"),b(c,"setTime",a,"setTime");for(var d=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function e(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var c=new timezoneJS.Date;return c.setTimezone(b.timezone),c.setTime(a),c}return d(new Date(a))}return d(new Date(a))}function f(d){d.hooks.processOptions.push(function(d,f){a.each(d.getAxes(),function(a,d){var f=d.options;"time"==f.mode&&(d.tickGenerator=function(a){var c=[],d=e(a.min,f),g=0,i=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?k:j;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*h[f.minTickSize[1]]);for(var l=0;l<i.length-1&&!(a.delta<(i[l][0]*h[i[l][1]]+i[l+1][0]*h[i[l+1][1]])/2&&i[l][0]*h[i[l][1]]>=g);++l);var m=i[l][0],n=i[l][1];if("year"==n){if(null!=f.minTickSize&&"year"==f.minTickSize[1])m=Math.floor(f.minTickSize[0]);else{var o=Math.pow(10,Math.floor(Math.log(a.delta/h.year)/Math.LN10)),p=a.delta/h.year/o;m=p<1.5?1:p<3?2:p<7.5?5:10,m*=o}m<1&&(m=1)}a.tickSize=f.tickSize||[m,n];var q=a.tickSize[0];n=a.tickSize[1];var r=q*h[n];"second"==n?d.setSeconds(b(d.getSeconds(),q)):"minute"==n?d.setMinutes(b(d.getMinutes(),q)):"hour"==n?d.setHours(b(d.getHours(),q)):"month"==n?d.setMonth(b(d.getMonth(),q)):"quarter"==n?d.setMonth(3*b(d.getMonth()/3,q)):"year"==n&&d.setFullYear(b(d.getFullYear(),q)),d.setMilliseconds(0),r>=h.minute&&d.setSeconds(0),r>=h.hour&&d.setMinutes(0),r>=h.day&&d.setHours(0),r>=4*h.day&&d.setDate(1),r>=2*h.month&&d.setMonth(b(d.getMonth(),3)),r>=2*h.quarter&&d.setMonth(b(d.getMonth(),6)),r>=h.year&&d.setMonth(0);var s,t=0,u=Number.NaN;do if(s=u,u=d.getTime(),c.push(u),"month"==n||"quarter"==n)if(q<1){d.setDate(1);var v=d.getTime();d.setMonth(d.getMonth()+("quarter"==n?3:1));var w=d.getTime();d.setTime(u+t*h.hour+(w-v)*q),t=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+q*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+q):d.setTime(u+r);while(u<a.max&&u!=s);return c},d.tickFormatter=function(a,b){var d=e(a,b.options);if(null!=f.timeformat)return c(d,f.timeformat,f.monthNames,f.dayNames);var g,i=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],j=b.tickSize[0]*h[b.tickSize[1]],k=b.max-b.min,l=f.twelveHourClock?" %p":"",m=f.twelveHourClock?"%I":"%H";g=j<h.minute?m+":%M:%S"+l:j<h.day?k<2*h.day?m+":%M"+l:"%b %d "+m+":%M"+l:j<h.month?"%b %d":i&&j<h.quarter||!i&&j<h.year?k<h.year?"%b":"%b %Y":i&&j<h.year?k<h.year?"Q%q":"Q%q %Y":"%Y";var n=c(d,g,f.monthNames,f.dayNames);return n})})})}var g={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],j=i.concat([[3,"month"],[6,"month"],[1,"year"]]),k=i.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:f,options:g,name:"time",version:"1.0"}),a.plot.formatDate=c,a.plot.dateGenerator=e}(jQuery),function(a){function b(a){function b(a,b){for(var c=null,d=0;d<b.length&&a!=b[d];++d)b[d].stack==a.stack&&(c=b[d]);return c}function c(a,c,d){if(null!=c.stack&&c.stack!==!1){var e=b(c,a.getData());if(e){for(var f,g,h,i,j,k,l,m,n=d.pointsize,o=d.points,p=e.datapoints.pointsize,q=e.datapoints.points,r=[],s=c.lines.show,t=c.bars.horizontal,u=n>2&&(t?d.format[2].x:d.format[2].y),v=s&&c.lines.steps,w=!0,x=t?1:0,y=t?0:1,z=0,A=0;;){if(z>=o.length)break;if(l=r.length,null==o[z]){for(m=0;m<n;++m)r.push(o[z+m]);z+=n}else if(A>=q.length){if(!s)for(m=0;m<n;++m)r.push(o[z+m]);z+=n}else if(null==q[A]){for(m=0;m<n;++m)r.push(null);w=!0,A+=p}else{if(f=o[z+x],g=o[z+y],i=q[A+x],j=q[A+y],k=0,f==i){for(m=0;m<n;++m)r.push(o[z+m]);r[l+y]+=j,k=j,z+=n,A+=p}else if(f>i){if(s&&z>0&&null!=o[z-n]){for(h=g+(o[z-n+y]-g)*(i-f)/(o[z-n+x]-f),r.push(i),r.push(h+j),m=2;m<n;++m)r.push(o[z+m]);k=j}A+=p}else{if(w&&s){z+=n;continue}for(m=0;m<n;++m)r.push(o[z+m]);s&&A>0&&null!=q[A-p]&&(k=j+(q[A-p+y]-j)*(f-i)/(q[A-p+x]-i)),r[l+y]+=k,z+=n}w=!1,l!=r.length&&u&&(r[l+2]+=k)}if(v&&l!=r.length&&l>0&&null!=r[l]&&r[l]!=r[l-n]&&r[l+1]!=r[l-n+1]){for(m=0;m<n;++m)r[l+n+m]=r[l+m];r[l+1]=r[l-n+1]}}d.points=r}}}a.hooks.processDatapoints.push(c)}var c={series:{stack:null}};a.plot.plugins.push({init:b,options:c,name:"stack",version:"1.2"})}(jQuery),function(a){function b(b){function c(a){o.active&&(j(a),b.getPlaceholder().trigger("plotselecting",[f()]))}function d(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==p.onselectstart&&(p.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==p.ondrag&&(p.ondrag=document.ondrag,document.ondrag=function(){return!1}),i(o.first,b),o.active=!0,q=function(a){e(a)},a(document).one("mouseup",q))}function e(a){return q=null,void 0!==document.onselectstart&&(document.onselectstart=p.onselectstart),void 0!==document.ondrag&&(document.ondrag=p.ondrag),o.active=!1,j(a),n()?g():(b.getPlaceholder().trigger("plotunselected",[]),b.getPlaceholder().trigger("plotselecting",[null])),!1}function f(){if(!n())return null;if(!o.show)return null;var c={},d=o.first,e=o.second;return a.each(b.getAxes(),function(a,b){if(b.used){var f=b.c2p(d[b.direction]),g=b.c2p(e[b.direction]);c[a]={from:Math.min(f,g),to:Math.max(f,g)}}}),c}function g(){var a=f();b.getPlaceholder().trigger("plotselected",[a]),a.xaxis&&a.yaxis&&b.getPlaceholder().trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function h(a,b,c){return b<a?a:b>c?c:b}function i(a,c){var d=b.getOptions(),e=b.getPlaceholder().offset(),f=b.getPlotOffset();a.x=h(0,c.pageX-e.left-f.left,b.width()),a.y=h(0,c.pageY-e.top-f.top,b.height()),"y"==d.selection.mode&&(a.x=a==o.first?0:b.width()),"x"==d.selection.mode&&(a.y=a==o.first?0:b.height())}function j(a){null!=a.pageX&&(i(o.second,a),n()?(o.show=!0,b.triggerRedrawOverlay()):k(!0))}function k(a){o.show&&(o.show=!1,b.triggerRedrawOverlay(),a||b.getPlaceholder().trigger("plotunselected",[]))}function l(a,c){var d,e,f,g,h=b.getAxes();for(var i in h)if(d=h[i],d.direction==c&&(g=c+d.n+"axis",a[g]||1!=d.n||(g=c+"axis"),a[g])){e=a[g].from,f=a[g].to;break}if(a[g]||(d="x"==c?b.getXAxes()[0]:b.getYAxes()[0],e=a[c+"1"],f=a[c+"2"]),null!=e&&null!=f&&e>f){var j=e;e=f,f=j}return{from:e,to:f,axis:d}}function m(a,c){var d,e=b.getOptions();"y"==e.selection.mode?(o.first.x=0,o.second.x=b.width()):(d=l(a,"x"),o.first.x=d.axis.p2c(d.from),o.second.x=d.axis.p2c(d.to)),"x"==e.selection.mode?(o.first.y=0,o.second.y=b.height()):(d=l(a,"y"),o.first.y=d.axis.p2c(d.from),o.second.y=d.axis.p2c(d.to)),o.show=!0,b.triggerRedrawOverlay(),!c&&n()&&g()}function n(){var a=b.getOptions().selection.minSize;return Math.abs(o.second.x-o.first.x)>=a&&Math.abs(o.second.y-o.first.y)>=a}var o={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},p={},q=null;b.clearSelection=k,b.setSelection=m,b.getSelection=f,b.hooks.bindEvents.push(function(a,b){var e=a.getOptions();null!=e.selection.mode&&(b.mousemove(c),b.mousedown(d))}),b.hooks.drawOverlay.push(function(b,c){if(o.show&&n()){var d=b.getPlotOffset(),e=b.getOptions();c.save(),c.translate(d.left,d.top);var f=a.color.parse(e.selection.color);c.strokeStyle=f.scale("a",.8).toString(),c.lineWidth=1,c.lineJoin=e.selection.shape,c.fillStyle=f.scale("a",.4).toString();var g=Math.min(o.first.x,o.second.x)+.5,h=Math.min(o.first.y,o.second.y)+.5,i=Math.abs(o.second.x-o.first.x)-1,j=Math.abs(o.second.y-o.first.y)-1;c.fillRect(g,h,i,j),c.strokeRect(g,h,i,j),c.restore()}}),b.hooks.shutdown.push(function(b,e){e.unbind("mousemove",c),e.unbind("mousedown",d),q&&a(document).unbind("mouseup",q)})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(a){function b(b){function e(b,c,d){x||(x=!0,r=b.getCanvas(),s=a(r).parent(),t=b.getOptions(),b.setData(f(b.getData())))}function f(b){for(var c=0,d=0,e=0,f=t.series.pie.combine.color,g=[],h=0;h<b.length;++h){var i=b[h].data;a.isArray(i)&&1==i.length&&(i=i[0]),a.isArray(i)?!isNaN(parseFloat(i[1]))&&isFinite(i[1])?i[1]=+i[1]:i[1]=0:i=!isNaN(parseFloat(i))&&isFinite(i)?[1,+i]:[1,0],b[h].data=[i]}for(var h=0;h<b.length;++h)c+=b[h].data[0][1];for(var h=0;h<b.length;++h){var i=b[h].data[0][1];i/c<=t.series.pie.combine.threshold&&(d+=i,e++,f||(f=b[h].color))}for(var h=0;h<b.length;++h){var i=b[h].data[0][1];(e<2||i/c>t.series.pie.combine.threshold)&&g.push(a.extend(b[h],{data:[[1,i]],color:b[h].color,label:b[h].label,angle:i*Math.PI*2/c,percent:i/(c/100)}))}return e>1&&g.push({data:[[1,d]],color:f,label:t.series.pie.combine.label,angle:d*Math.PI*2/c,percent:d/(c/100)}),g}function g(b,e){function f(){y.clearRect(0,0,j,k),s.children().filter(".pieLabel, .pieLabelBackground").remove()}function g(){var a=t.series.pie.shadow.left,b=t.series.pie.shadow.top,c=10,d=t.series.pie.shadow.alpha,e=t.series.pie.radius>1?t.series.pie.radius:u*t.series.pie.radius;if(!(e>=j/2-a||e*t.series.pie.tilt>=k/2-b||e<=c)){y.save(),y.translate(a,b),y.globalAlpha=d,y.fillStyle="#000",y.translate(v,w),y.scale(1,t.series.pie.tilt);for(var f=1;f<=c;f++)y.beginPath(),y.arc(0,0,e,0,2*Math.PI,!1),y.fill(),e-=f;y.restore()}}function i(){function b(a,b,c){a<=0||isNaN(a)||(c?y.fillStyle=b:(y.strokeStyle=b,y.lineJoin="round"),y.beginPath(),Math.abs(a-2*Math.PI)>1e-9&&y.moveTo(0,0),y.arc(0,0,e,f,f+a/2,!1),y.arc(0,0,e,f+a/2,f+a,!1),y.closePath(),f+=a,c?y.fill():y.stroke())}function c(){function b(b,c,d){if(0==b.data[0][1])return!0;var f,g=t.legend.labelFormatter,h=t.series.pie.label.formatter;f=g?g(b.label,b):b.label,h&&(f=h(f,b));var i=(c+b.angle+c)/2,l=v+Math.round(Math.cos(i)*e),m=w+Math.round(Math.sin(i)*e)*t.series.pie.tilt,n="<span class='pieLabel' id='pieLabel"+d+"' style='position:absolute;top:"+m+"px;left:"+l+"px;'>"+f+"</span>";s.append(n);var o=s.children("#pieLabel"+d),p=m-o.height()/2,q=l-o.width()/2;if(o.css("top",p),o.css("left",q),0-p>0||0-q>0||k-(p+o.height())<0||j-(q+o.width())<0)return!1;if(0!=t.series.pie.label.background.opacity){var r=t.series.pie.label.background.color;null==r&&(r=b.color);var u="top:"+p+"px;left:"+q+"px;";a("<div class='pieLabelBackground' style='position:absolute;width:"+o.width()+"px;height:"+o.height()+"px;"+u+"background-color:"+r+";'></div>").css("opacity",t.series.pie.label.background.opacity).insertBefore(o)}return!0}for(var c=d,e=t.series.pie.label.radius>1?t.series.pie.label.radius:u*t.series.pie.label.radius,f=0;f<m.length;++f){if(m[f].percent>=100*t.series.pie.label.threshold&&!b(m[f],c,f))return!1;c+=m[f].angle}return!0}var d=Math.PI*t.series.pie.startAngle,e=t.series.pie.radius>1?t.series.pie.radius:u*t.series.pie.radius;y.save(),y.translate(v,w),y.scale(1,t.series.pie.tilt),y.save();for(var f=d,g=0;g<m.length;++g)m[g].startAngle=f,b(m[g].angle,m[g].color,!0);if(y.restore(),t.series.pie.stroke.width>0){y.save(),y.lineWidth=t.series.pie.stroke.width,f=d;for(var g=0;g<m.length;++g)b(m[g].angle,t.series.pie.stroke.color,!1);y.restore()}return h(y),y.restore(),!t.series.pie.label.show||c()}if(s){var j=b.getPlaceholder().width(),k=b.getPlaceholder().height(),l=s.children().filter(".legend").children().width()||0;y=e,x=!1,u=Math.min(j,k/t.series.pie.tilt)/2,w=k/2+t.series.pie.offset.top,v=j/2,"auto"==t.series.pie.offset.left?(t.legend.position.match("w")?v+=l/2:v-=l/2,v<u?v=u:v>j-u&&(v=j-u)):v+=t.series.pie.offset.left;var m=b.getData(),n=0;do n>0&&(u*=d),n+=1,f(),t.series.pie.tilt<=.8&&g();while(!i()&&n<c);n>=c&&(f(),s.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),b.setSeries&&b.insertLegend&&(b.setSeries(m),b.insertLegend())}}function h(a){if(t.series.pie.innerRadius>0){a.save();var b=t.series.pie.innerRadius>1?t.series.pie.innerRadius:u*t.series.pie.innerRadius;a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=t.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),a.strokeStyle=t.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore()}}function i(a,b){for(var c=!1,d=-1,e=a.length,f=e-1;++d<e;f=d)(a[d][1]<=b[1]&&b[1]<a[f][1]||a[f][1]<=b[1]&&b[1]<a[d][1])&&b[0]<(a[f][0]-a[d][0])*(b[1]-a[d][1])/(a[f][1]-a[d][1])+a[d][0]&&(c=!c);return c}function j(a,c){for(var d,e,f=b.getData(),g=b.getOptions(),h=g.series.pie.radius>1?g.series.pie.radius:u*g.series.pie.radius,j=0;j<f.length;++j){var k=f[j];if(k.pie.show){if(y.save(),y.beginPath(),y.moveTo(0,0),y.arc(0,0,h,k.startAngle,k.startAngle+k.angle/2,!1),y.arc(0,0,h,k.startAngle+k.angle/2,k.startAngle+k.angle,!1),y.closePath(),d=a-v,e=c-w,y.isPointInPath){if(y.isPointInPath(a-v,c-w))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:j}}else{var l=h*Math.cos(k.startAngle),m=h*Math.sin(k.startAngle),n=h*Math.cos(k.startAngle+k.angle/4),o=h*Math.sin(k.startAngle+k.angle/4),p=h*Math.cos(k.startAngle+k.angle/2),q=h*Math.sin(k.startAngle+k.angle/2),r=h*Math.cos(k.startAngle+k.angle/1.5),s=h*Math.sin(k.startAngle+k.angle/1.5),t=h*Math.cos(k.startAngle+k.angle),x=h*Math.sin(k.startAngle+k.angle),z=[[0,0],[l,m],[n,o],[p,q],[r,s],[t,x]],A=[d,e];if(i(z,A))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:j}}y.restore()}}return null}function k(a){m("plothover",a)}function l(a){m("plotclick",a)}function m(a,c){var d=b.offset(),e=parseInt(c.pageX-d.left),f=parseInt(c.pageY-d.top),g=j(e,f);
if(t.grid.autoHighlight)for(var h=0;h<z.length;++h){var i=z[h];i.auto!=a||g&&i.series==g.series||o(i.series)}g&&n(g.series,a);var k={pageX:c.pageX,pageY:c.pageY};s.trigger(a,[k,g])}function n(a,c){var d=p(a);d==-1?(z.push({series:a,auto:c}),b.triggerRedrawOverlay()):c||(z[d].auto=!1)}function o(a){null==a&&(z=[],b.triggerRedrawOverlay());var c=p(a);c!=-1&&(z.splice(c,1),b.triggerRedrawOverlay())}function p(a){for(var b=0;b<z.length;++b){var c=z[b];if(c.series==a)return b}return-1}function q(a,b){function c(a){a.angle<=0||isNaN(a.angle)||(b.fillStyle="rgba(255, 255, 255, "+d.series.pie.highlight.opacity+")",b.beginPath(),Math.abs(a.angle-2*Math.PI)>1e-9&&b.moveTo(0,0),b.arc(0,0,e,a.startAngle,a.startAngle+a.angle/2,!1),b.arc(0,0,e,a.startAngle+a.angle/2,a.startAngle+a.angle,!1),b.closePath(),b.fill())}var d=a.getOptions(),e=d.series.pie.radius>1?d.series.pie.radius:u*d.series.pie.radius;b.save(),b.translate(v,w),b.scale(1,d.series.pie.tilt);for(var f=0;f<z.length;++f)c(z[f].series);h(b),b.restore()}var r=null,s=null,t=null,u=null,v=null,w=null,x=!1,y=null,z=[];b.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.legend.show?b.series.pie.label.show=!1:b.series.pie.label.show=!0),"auto"==b.series.pie.radius&&(b.series.pie.label.show?b.series.pie.radius=.75:b.series.pie.radius=1),b.series.pie.tilt>1?b.series.pie.tilt=1:b.series.pie.tilt<0&&(b.series.pie.tilt=0))}),b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(k),c.grid.clickable&&b.unbind("click").click(l))}),b.hooks.processDatapoints.push(function(a,b,c,d){var f=a.getOptions();f.series.pie.show&&e(a,b,c,d)}),b.hooks.drawOverlay.push(function(a,b){var c=a.getOptions();c.series.pie.show&&q(a,b)}),b.hooks.draw.push(function(a,b){var c=a.getOptions();c.series.pie.show&&g(a,b)})}var c=10,d=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(a,b){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+b.color+";'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};a.plot.plugins.push({init:b,options:e,name:"pie",version:"1.1"})}(jQuery),null==window.jQuery.plot)throw new Error('Grunt Requireize: module does not define "window.jQuery.plot"');return window.jQuery.plot}),fweb_define("select_setup",["fweb","jquery","closure-ipaddress","ftnt_shared","jquery.util_core"],null,function(a,b,c,d){"use strict";var e="q_origin_key",f="/api/v2/cmdb/",g="/api/v2/monitor/",h=["firewallInterfaces","user.fortitoken","user.group","user.local","user.ldap"],i=[{type:"ha",global:!0},{type:"zone",global:!1}],j={"weight-based":["weight"],"usage-based":["ingress_spillover_threshold","spillover_threshold"],"measured-volume-based":["volume_ratio"]},k=d.TooltipKey,l=function(a){return a.name},m={},n=function(a,b){return function(){return!!top.state&&top.state.adminHasWritePermissionForTable(a,b)}},o=function(a,b){return function(){return n(a,b)()&&top.state.featureEnabled("gui-multiple-utm-profiles")}};m.getCSFProxySourceID=function(a,b){return b?"csf::"+b+"::"+a:a};var p=m.getSourceCSFPath=function(a){return Omniselect.prototype.SOURCES[a].csfPath},q=m.processCSFSourceURI=function(a,b){var c=p(b);return c&&(a="/csf/"+c+a),a},r=m.createExtensionSource=function(a,c,d){var e=Omniselect.prototype.SOURCES[a],f=b.extend(!0,{},e,d);f.aliasFor?"string"==typeof f.aliasFor&&(f.aliasFor=[f.aliasFor]):f.aliasFor=[],f.aliasFor.push(a),Omniselect.prototype.SOURCES[c]=f},s=function(a,c,d,e){var g=f+a+"/"+c+"?with_meta=1&datasource=1&skip=1";return null!=d&&(g+="&vdom="+d),function(a,c){var f=this.getSource(c),h=!d&&f.isGlobal,i=g;return h&&(i+="&global=1"),c&&(i=q(i,c)),b.get(i).then(function(c){if(h){var d=[],f=b.isFunction(e)?e:function(a){return a.results.map(function(b){return b.vdom=a.vdom,b})};return c.forEach(function(b){d=d.concat(f(b,a))}),d}return b.isFunction(e)?e(c.results,a):c.results})}},t=function(a,c,d,e,f,g){return function(){function h(a){var c=(a[d]&&a[d].options||[]).map(function(a){return a.q_origin_key=a[e],a.datasource=f,a});return b.isFunction(g)&&(c=g(c)),c}var i="/api/v2/cmdb/"+a+"/"+c+"?action=schema";return b.get(i).then(function(a){return h(a.results.children,d)})}},u=function(a){var b=function(a,c){return Array.isArray(a)&&a.length?a.some(function(a){return b(a,c)}):"object"==typeof a?String(a.q_origin_key).toLowerCase().indexOf(c)>=0:String(a).toLowerCase().indexOf(c)>=0};return function(c,d){var e=c[a];return b(e,d)}},v=function(a,b){return a.member.some(function(a){return Omniselect.queryMatchesEntrySync(b,a,a.datasource)})},w=function(a){var b="",c=a["css-class"];return c&&(b='<f-icon class="'+c+'"></f-icon>'),b+="object"==typeof a?"<span>"+(a.q_origin_key||a.name)+"</span>":"<span>"+a+"</span>"},x=m.nColumnListFormat=function(a,b,c){c=c||function(a){return a};var e;return a.length&&(d.browser.responsive.isSmall()?(e='<div class="flex-row-centered flex-wrap">',a.forEach(function(a){e+="<div>"+c(a)+"</div>"}),e+="</div>"):(e='<table class="table condensed"><tbody>',a.forEach(function(a,d){d%b===0&&(0!==d&&(e+="</tr>"),e+="<tr>"),e+="<td>"+c(a)+"</td>"}),e+="</tr></tbody></table>")),e},y=function(a){return function(b){var c=b.load_balance_mode;if(b.is_virtual_wan_link&&c){var d=b.sd_wan_settings,e=j[c];if(e&&e.indexOf(a)>=0){var f=[];if(d.forEach(function(b){"enable"===b.status&&f.push([b.name,b[a]])}),f.length){var g=f.map(function(a){var b=a.map(function(a){return'<td class="h-align-center">'+a+"</td>"}).join("");return"<tr>"+b+"</tr>"}).join("");return'<table class="key-value">'+g+"</table>"}}}}},z=m.createMembersTooltipFormatter=function(a){return function(b){var c,d=b[a];return Array.isArray(d)?d.length&&(c=x(d,2,w)):"object"==typeof b[a]&&(c=w(d)),c}},A=m.createEscapedTooltipFormatter=function(b){return function(c){var d=c[b];return d&&(d=a.util.dom.escapeHTML(c[b])),d}},B=new k(b.getInfo("comment"),A("comment")),C=new k(b.getInfo("comment"),A("comments")),D=new k(b.getInfo("members"),z("member")),E=function(a,c,d){return function(e){var f=e[a];return c?b.getInfo(c+f):b.getInfo(d&&d[f]||f)}},F=function(a){return a.indexOf("-")>=0&&(a=a.replace(/-/g," - ")),a},G=function(a,b){var c="",d=a.q_class||a["css-class"];return d&&(c='<span class="'+d+'"></span>'),c+="<span>"+b+"</span>"},H=function(a,b){return function(c){var d=this.getSourceMetaData(a),e=d&&d.poolStats&&d.poolStats[c.name];return e&&null!=e[b]&&e[b].toString()}},I=function(a,c){return function(d,e){var f=d[e],g="function"==typeof a?a(f,d):(a||{})[f],h="";return g&&(h+='<f-icon class="'+g+'"></f-icon>'),f="function"==typeof c?c(f,d):b.getInfo(f),h+"<span>"+f+"</span>"}},J=I({enable:"fa-enabled",disable:"fa-disabled"},function(a){return a=a?b.getInfo(a+"d"):""}),K={searchKeys:{extip:!0,extport:!0,mappedip:!0,mappedport:!0,comment:!0},tooltipKeys:{extip:new k(b.getInfo("extip"),function(a){return F(a.extip)}),mappedip:new k(b.getInfo("mappedip"),function(a){return a.mappedip&&F(a.mappedip)}),extport:new k(b.getInfo("extport"),function(a){return"enable"===a.portforward?b.getInfo(a.protocol)+" "+F(a.extport):a.extport}),mappedport:new k(b.getInfo("mappedport"),function(a){if("enable"===a.portforward)return F(a.mappedport)}),comment:B}},L=function(c){var d,e,f=b.Deferred(),g=top.state.admin.vdom_info||{},h=[];return Object.keys(g).map(function(b){d=g[b],e=a.util.formatters.vdom_icon_class(b),h.push({name:b,q_origin_key:b,datasource:"system.vdom","css-class":e,inspection_mode:d.inspection_mode,operation_mode:d.transparent_mode?"transparent":"nat",transparent_mode:d.transparent_mode,is_management_vdom:d.is_management_vdom,ngfw_mode:d.ngfw_mode,default_ssl_ssh_profile:d.default_ssl_ssh_profile})}),c&&c.includeGlobal&&top.state.admin.global_admin&&h.unshift({name:b.getInfo("global"),q_origin_key:"","css-class":"fa-globe",datasource:"system.vdom",is_global:!0}),f.resolve(h),f.then(function(a){return a})},M=function(a){return b.get("/api/v2/monitor/utm/application-categories/").then(function(c){var d=c.results,e={};return d.forEach(function(a){e[a.id]=a}),a.forEach(function(a){a.q_origin_key=a.id.toString();var c=e[a.category];c?a.categoryName=e[a.category].name:a.categoryName=b.getInfo("unknown")}),a})},N={formatFunction:function(b){return b.name?a.util.dom.escapeHTML(b.name)+" ("+b.policyid+")":b.policyid},tooltipKeys:{srcintf:new k(b.getInfo("Source Interface"),z("srcintf")),dstintf:new k(b.getInfo("Destination Interface"),z("dstintf")),srcaddr:new k(b.getInfo("Source address"),z("srcaddr")),dstaddr:new k(b.getInfo("Destination address"),z("dstaddr")),schedule:new k(b.getInfo("Schedule"),z("schedule")),service:new k(b.getInfo("Service"),z("service")),comments:new k(b.getInfo("comment"),A("comments"))}},O={searchKeys:{member:v,comment:!0},tooltipKeys:{member:D,comment:B}};Omniselect.createCMDBSource=s,Omniselect.createSchemaSource=t;var P=function(a,b){var c=[],d=a[b];return d&&(c=d.map(function(a){return a.ip+"/"+a.cidr_netmask})),c},Q=function(a){var c,d=b.getInfo("any"),e=[],f=a.protocol;return"TCP/UDP/SCTP"===f||"enable"===a.proxy?["tcp","udp","sctp"].forEach(function(b){var c=a[b+"-portrange"];c&&c.split(" ").forEach(function(a){var c=a.split(":"),f=c[0],g=c[1];e.push(b.toUpperCase()+": "+(g?g:d)+"  "+f)})}):["ICMP","ICMP6"].indexOf(f)>=0?(c=f+"/",c+=a.icmptype?a.icmptype+": "+(a.icmpcode||d):d,e.push(c)):a["protocol-number"]?e.push("IP/"+a["protocol-number"]):e.push(d),e};Omniselect.prototype.ENTRY_ID_KEY=e,Omniselect.prototype.ENTRY_SOURCE_ID_FUNCTION=function(b){var c;return b.datasource?c=b.datasource:b.q_path&&b.q_name?c=b.q_path+"."+b.q_name:a.log.warn("Could not get source ID for entry:",JSON.stringify(b)),c},Omniselect.prototype.PANE_TITLE=b.getInfo("Select Entries"),Omniselect.prototype.SEARCH_PLACEHOLDER=b.getInfo("search"),Omniselect.prototype.CLEAR_SEARCH_TITLE=b.getInfo("clear_search"),Omniselect.prototype.NO_ENTRIES_TEXT=b.getInfo("No entries"),Omniselect.prototype.PROCESSING_TEXT=b.getInfo("Processing"),Omniselect.prototype.CLOSE_TEXT=b.getInfo("Close"),Omniselect.prototype.OK_TEXT=b.getInfo("ok"),Omniselect.prototype.CANCEL_TEXT=b.getInfo("Cancel"),Omniselect.prototype.CREATE_NEW_TEXT=b.getInfo("Create New"),Omniselect.prototype.RETURN_TITLE=b.getInfo("Return"),Omniselect.NOTIFY_SOURCE_CHANGED_IFRAMES=!0,Omniselect.prototype.DEFAULT_VALUE_FUNCTION=function(a){return"object"==typeof a?a[e]:a},Omniselect.prototype.DEFAULT_FORMAT_FUNCTION=function(b,c){var d="",e=b.q_class||b["css-class"];return e&&(d='<f-icon class="'+e+'"></f-icon>'),d+="<span>"+a.util.dom.escapeHTML(c)+"</span>"};var R=function(b,c){var d,e=c&&c.q_origin_key,f=c&&c.vdom,g=Omniselect.prototype.SOURCES[b],h=g&&g.createNewDatasource||b,i=a.util.formatters.path_name_format(h),j=top.state.getExactEditUrl(i.path,i.name,e,f);return j.then(function(b){return b?d=a.util.slide.iframe(b):a.log.error('No edit url for "'+h+'"'),d})};return Omniselect.prototype.DEFAULT_CREATE_NEW_FUNCTION=function(a){return R(a)},Omniselect.prototype.DEFAULT_INLINE_EDIT_FUNCTION=function(a,b){return R(a,b)},Omniselect.prototype.SOURCES={"antivirus.profile":{name:b.getInfo("datasource_antivirus.profile"),data:s("antivirus","profile"),createNew:o("antivirus","profile"),inlineEdit:n("antivirus","profile"),formatFunction:G,searchKeys:{comment:!0},tooltipKeys:{comment:B}},"application.category":{name:b.getInfo("appcat"),data:function(){return b.get("/api/v2/monitor/utm/application-categories/").then(function(a){var b=a.results;return b.forEach(function(a){a.datasource="application.category",a.q_origin_key=a.id.toString()}),b})},metaData:function(){return Omniselect.getSourceData("application.name").then(function(a){var b={categoryIdsWithApps:{}};return b.categoryIdsWithApps=a.reduce(function(a,b){return a[b.category]=!0,a},{}),b})},valueFunction:function(a){return a.name},searchKeys:{name:!0},tooltipNameLabel:b.getInfo("id"),preProcessSelected:!0},"application.custom":{name:b.getInfo("Custom Firewall Application"),data:s("application","custom",null,M),valueFunction:l,searchKeys:{name:!0,categoryName:!0,protocol:!0,technology:!0,behavior:!0,vendor:!0},tooltipNameLabel:b.getInfo("id"),tooltipKeys:{categoryName:new k(b.getInfo("category")),protocol:new k(b.getInfo("protocol")),technology:new k(b.getInfo("technology")),behavior:new k(b.getInfo("behavior")),vendor:new k(b.getInfo("vendor"))}},"application.list":{name:b.getInfo("datasource_application.list"),data:s("application","list"),createNew:o("application","list"),inlineEdit:n("application","list"),formatFunction:G,searchKeys:{comment:!0},tooltipKeys:{comment:B}},"application.name":{name:b.getInfo("Firewall Application"),data:s("application","name",null,M),preProcessSelected:!0,valueFunction:l,searchKeys:{name:!0,protocol:!0,technology:!0,behavior:!0,vendor:!0,categoryName:!0},tooltipNameLabel:b.getInfo("id"),tooltipKeys:{categoryName:new k(b.getInfo("category")),protocol:new k(b.getInfo("protocol")),technology:new k(b.getInfo("technology")),behavior:new k(b.getInfo("behavior")),vendor:new k(b.getInfo("vendor"))},subcategories:!0,subcategoryValueFunction:function(a){return a.categoryName||"Other"}},availableCertificates:{name:b.getInfo("certificate.local"),aliasFor:["certificate.local","vpn.certificate.local"],data:function(){var a=top.state,c=a.vdom_mode&&""===a.current_vdom?"global":"vdom",d="/api/v2/monitor/system/available-certificates?scope="+c;return b.get(d).then(function(a){return a.results.forEach(function(a){a.q_origin_key=a.name,a.datasource="certificate.local"}),a.results})},formatFunction:function(b,c){return a.util.formatters.certificate_format_fn(b.range,c)},sortFunction:function(a,b,c,e){return c.range===e.range?d.util.fastLocaleCompare(c.name,e.name):"global"===c.range?-1:1},tooltipKeys:{range:new k(b.getInfo("Certificate range"),function(a){return"global"===a.range?b.getInfo("Global Certificate, available on all VDOMs"):""})}},availableVdoms:{name:b.getInfo("VDOM"),data:L,dontCache:!0,aliasFor:["system.vdom"],valueFunction:l,searchKeys:{inspection_mode:!0,operation_mode:!0},tooltipKeys:{inspection_mode:new k(b.getInfo("inspect_mode"),function(a){if(!a.is_global)return b.getInfo(a.inspection_mode)}),operation_mode:new k(b.getInfo("Operation Mode"),function(a){if(!a.is_global)return b.getInfo(a.operation_mode)}),is_management_vdom:new k(b.getInfo("Management VDOM"),function(a){if(a.is_management_vdom&&top.state.admin.super_admin)return b.getInfo("Yes")}),ngfw_mode:new k(b.getInfo("NGFW Mode"),function(a){if("flow"===a.inspection_mode)return b.getInfo("SystemSettings::ngfw-mode::"+a.ngfw_mode)}),default_ssl_ssh_profile:new k(b.getInfo("ssl_inspection"),function(a){if("flow"===a.inspection_mode&&"policy-based"===a.ngfw_mode)return a.default_ssl_ssh_profile})}},countryDialCode:{name:b.getInfo("Country"),data:function(){return b.getJSON("/js/country_codes.json").then(function(a){return Object.keys(a).map(function(c){var d=a[c];return d.name=b.getInfo(c),d.q_origin_key=d.code,d.datasource="countryDialCode",d})})},preProcessSelected:!0,valueFunction:function(a){var b=a.dial_code||"",c=b?" ("+b+")":"";return a.name+c},formatFunction:function(a,b){var c=a.q_origin_key,d='<span class="country_flag country_'+c+'"></span><span>'+b+"</span>";return d}},firewallInterfaces:{aliasFor:["system.interface","system.virtual-wan-link","system.zone"],name:b.getInfo("Interface"),data:function(b,c){var d=this.getSource(c),e=d.isGlobal,f=d.csfPath,g=d.viewTypes;return a.util.firewallInterfaces.get(e,f,g)},valueFunction:function(a){return a.label||a.name},preProcessSelected:!0,solitaryEntries:{any:!0},formatFunction:function(a,b){return'<f-icon class="'+a.icon+'"></f-icon><span>'+b+"</span>"},sortFunction:function(b,c,d,e){var f=d.sortValue===e.sortValue?0:d.sortValue<e.sortValue?-1:1;return f||a.util.sort.interfaceName(d.name,e.name)},searchKeys:{alias:!0,type:function(a,c,d){return d.test(b.getInfo(a.type))},role:function(a,c,d){if(a.role&&"undefined"!==a.role)return d.test(b.getInfo("Interface::role."+a.role))},ipv4_addresses:function(a,b,c){return P(a,"ipv4_addresses").some(function(a){return c.test(a)})},ipv6_addresses:function(a,b,c){return P(a,"ipv6_addresses").some(function(a){return c.test(a)})},ssid:!0,vlan_id:!0,description:!0,members:!0},tooltipKeys:{alias:new k(b.getInfo("alias")),link:new k(b.getInfo("link"),function(a){var c,d,e,f;return"down"===a.status?c='<f-icon class="fa-status-down-disabled"></f-icon><span>('+b.getInfo("disabled")+")</span>":a.link&&(f="up"===a.link?"fa-status-up":"fa-status-down",d='<f-icon class="'+f+'"></f-icon>',a.speed&&a.duplex?(e=a.speed+" "+b.getInfo("mbps")+" / "+b.getInfo("duplex_"+a.duplex),c=d+"<span>"+e+"</span>"):c=d),c}),type:new k(b.getInfo("type"),function(c){var d,e,f;return"any"!==c.name&&(d=a.util.icon.formatIcon(a.util.icon.ICON_TYPE.INTERFACE,c.type),e=b.getInfo("interface_type::"+c.type),f=e,d&&(f=d+"<span>"+e+"</span>")),f}),role:new k(b.getInfo("role"),function(a){if(a.role&&"undefined"!==a.role)return b.getInfo("Interface::role."+a.role)}),ipv4_addresses:new k(b.getInfo("IPv4 Addresses"),function(a){return P(a,"ipv4_addresses").reduce(function(a,b){return a+"<div>"+b+"</div>"},"")}),ipv6_addresses:new k(b.getInfo("IPv6 Addresses"),function(a){return P(a,"ipv6_addresses").reduce(function(a,b){return a+"<div>"+b+"</div>"},"")}),ssid:new k(b.getInfo("ssid"),A("ssid")),vlan_id:new k(b.getInfo("vlanid")),vlan_interface:new k(b.getInfo("Base Interface"),function(a){var b;if(a.vlan_interface)try{b=this.processedFormatEntrySync({q_origin_key:a.vlan_interface,datasource:"firewallInterfaces"})}catch(c){b=a.vlan_interface}return b}),description:new k(b.getInfo("description"),A("description")),members:new k(b.getInfo("members"),function(a){var b;return Array.isArray(a.members)&&a.members.length&&(b=x(a.members,2,function(a){return this.processedFormatEntrySync({q_origin_key:a,datasource:"firewallInterfaces"})}.bind(this))),b}),managed_devices:new k(b.getInfo("ac_managed_devices"),function(a){var b;return Array.isArray(a.managed_devices)&&a.managed_devices.length&&(b=x(a.managed_devices,1,function(a){return a})),b}),dhcp4_client_count:new k(b.getInfo("DHCP Clients")),dhcp6_client_count:new k(b.getInfo("DHCPv6 Clients")),load_balance_mode:new k(b.getInfo("load-balance-mode"),function(a){var c=a.load_balance_mode;if(a.is_virtual_wan_link&&c){var d="SD-WAN::load-balance-mode."+c;return b.getInfo(d)}}),sd_wan_weight:new k(b.getInfo("weight"),y("weight")),sd_wan_volume_ratio:new k(b.getInfo("weight"),y("volume_ratio")),sd_wan_ingress_threshold:new k(b.getInfo("Ingress Spillover Threshold"),y("ingress_spillover_threshold")),sd_wan_egress_threshold:new k(b.getInfo("Egress Spillover Threshold"),y("spillover_threshold"))}},"user.fortitoken":{name:b.getInfo("fortitoken"),data:function(a,c){function d(a,d){return Object.keys(a).map(function(e){var f=a[e];return b.extend(f,{q_origin_key:f.serial_number,datasource:c,vdom:d})})}var e=this.getSource(c),f=e.isGlobal?"?global=1":"",g="/api/v2/monitor/user/fortitoken/"+f;return b.getJSON(g).then(function(a){if(f){var b=[];return a.forEach(function(a){var c=a.results,e=d(c,a.vdom);b=b.concat(e)}),b}return d(a.results,a.vdom)})},valueFunction:function(a){return a.serial_number},formatFunction:function(a,b){var c="mobile"===a.type?"fa-mobile":"ftnt-fortitoken";return'<f-icon class="'+c+'"></f-icon><span>'+b+"</span>"},searchKeys:{type:function(a,c,d){var e=a.type;return d.test(b.getInfo("fortitoken_type::"+e))}},tooltipKeys:{type:new k(b.getInfo("type"),function(a){var c=a.type;return b.getInfo("fortitoken_type::"+c)})}},"firewall.internet-service":{name:b.getInfo("Internet Service"),data:s("firewall","internet-service"),searchKeys:{name:!0},valueFunction:l,tooltipKeys:{totalIPRanges:new k(b.getInfo("Total IP Ranges"),function(a){return a.entry.reduce(function(a,b){return a+=b["ip-range-number"]||0},0)}),totalIPs:new k(b.getInfo("Total IPs"),function(a){return a.entry.reduce(function(a,b){return a+=b["ip-number"]||0},0)})}},"firewall.internet-service-custom":{name:b.getInfo("Custom Internet Service"),data:s("firewall","internet-service-custom"),filterFunction:function(a){return!a["master-service-id"]}},dlpFileTypes:{aliasFor:["dlp.filepattern"],name:b.getInfo("File Types"),data:function(){return b.when(b.get("/api/v2/cmdb/dlp/filepattern/?action=schema"),b.get("/api/v2/cmdb/system/global/?format=special-file-23-support")).then(function(a,b){var c=[],d="enable"===b[0].results["special-file-23-support"];return a[0].results.children.entries.children["file-type"].options.forEach(function(a){if("hibun"!==a.name||d){var b=a.name;c.push({name:b,q_origin_key:b,"file-type":b,pattern:b,"filter-type":"type",datasource:"dlp.filepattern",lang:"ft_"+b})}}),c})},formatFunction:function(a){return b.getInfo(a.lang)+" ("+a.q_origin_key+")"},sortFunction:function(b,c,d,e){return a.util.sort.fileType(b,c,d,e)},tooltipNameLabel:b.getInfo("File type")},"dlp.sensor":{name:b.getInfo("datasource_dlp.sensor"),data:s("dlp","sensor"),createNew:o("dlp","sensor"),inlineEdit:n("dlp","sensor"),formatFunction:G},"dnsfilter.profile":{name:b.getInfo("datasource_dnsfilter.profile"),data:s("dnsfilter","profile"),createNew:o("dnsfilter","profile"),inlineEdit:n("dnsfilter","profile"),formatFunction:G,searchKeys:{comment:!0},tooltipKeys:{comment:B}},"extender-controller.extender":{name:b.getInfo("extender"),data:s("extender-controller","extender")},"firewall.address":{name:b.getInfo("Address"),data:s("firewall","address"),metaData:function(){var a=[b.get("/api/v2/cmdb/system/geoip-country"),Omniselect.getSourceData("firewallInterfaces"),b.get("/api/v2/monitor/firewall/address-fqdns"),b.get("/api/v2/monitor/firewall/address-dynamic")];return b.when.apply(b,a).then(function(a,b,c,d){c=c||[{results:[]}],d=d||[{results:[]}];var e={};return a[0].results.forEach(function(a){e[a.id]=a}),{countryMap:e,resolvedFqdn:c[0].results,resolvedDynamic:d[0].results}})},formatFunction:function(a,b){var c,d,e,f,g,h=a.q_class||a["css-class"];try{c=a.type,"fqdn"===c||h.includes("ftnt-address-fqdn")?(d=this.getSourceMetaData("firewall.address").resolvedFqdn,f=d?d[a.name].addrs:[],g="ftnt-address-invalid-fqdn"):("dynamic"===c||h.includes("ftnt-address-dynamic"))&&(e=this.getSourceMetaData("firewall.address").resolvedDynamic,f=e?e[a.name].addrs:[],g="ftnt-address-invalid-dynamic"),f&&!f.length&&(h=h.split(" "),h[0]=g,h=h.join(" "))}catch(a){}return'<f-icon class="'+h+'"></f-icon><span>'+b+"</span>"},createNew:n("firewall","address"),inlineEdit:n("firewall","address"),solitaryEntries:{all:!0,none:!0},searchKeys:{type:function(a,c,d){return d.test(b.getInfo("addr_type_"+a.type))},fqdn:!0,geography:!0,range:function(b,d){if("iprange"!==b.type)return!1;var e=[c.net.IpAddress.fromString(b["start-ip"]),c.net.IpAddress.fromString(b["end-ip"])];return a.util.address_search.ip4_basic_search([e],d).length},subnet:function(b,c){if("ipmask"!==b.type)return!1;var d=b.address||(null!=b.subnet?b.subnet.replace(" ","/"):null),e=a.util.address_search.IP_ALL===d;if(e&&!a.util.address_search.IP_ALL_QUERY_PARTIAL.test(c)||!e&&a.util.address_search.IP_ALL_QUERY.test(c))return!1;var f=a.util.address_search.ip4_range_calculate(d);return a.util.address_search.ip4_basic_search([f],c).length},wildcard:function(b,c){if("wildcard"!==b.type)return!1;var d=b.wildcard.split(" "),e=d[0],f=d[1];return a.util.address_search.ip4_wildcard_search(e,f,c)},"wildcard-fqdn":!0,"associated-interface":!0,comment:!0,sdn:!0,tenant:!0,"epg-name":!0,"sdn-tag":!0,filter:!0},tooltipKeys:{type:new k(b.getInfo("type"),function(a){return b.getInfo("addr_type_"+a.type)}),fqdn:new k(b.getInfo("addr_type_fqdn"),function(a){if("fqdn"===a.type)return a.fqdn}),geography:new k(b.getInfo("addr_type_geography"),function(a){var b,c,d;if("geography"===a.type)return b=a.country,d=this.getSourceMetaData("firewall.address").countryMap,c=d?d[b].name:b,'<span class="country_flag country_'+b+'"></span><span>'+c+"</span>"}),range:new k(b.getInfo("addr_type_iprange"),function(a){if("iprange"===a.type)return a["start-ip"]+" - "+a["end-ip"]}),subnet:new k(b.getInfo("addr_type_ipmask"),function(b){var c;if("ipmask"===b.type)return c=a.util.ip.IpMask.parse(b.subnet),c.fullNetwork()}),wildcard:new k(b.getInfo("wildcard"),function(a){if("wildcard"===a.type)return a.wildcard.replace(" ","/")}),"wildcard-fqdn":new k(b.getInfo("addr_type_wildcard-fqdn"),function(a){if("wildcard-fqdn"===a.type)return a["wildcard-fqdn"]}),sdn:new k(b.getInfo("SDN"),function(a){if("dynamic"===a.type)return b.getInfo("System::SDN::type."+a.sdn)}),tenant:new k(b.getInfo("System::SDN::field.tenant"),function(a){if("dynamic"===a.type)return a.tenant}),"epg-name":new k(b.getInfo("System::SDN::field.epg-name"),function(a){if("dynamic"===a.type)return a["epg-name"]}),"sdn-tag":new k(b.getInfo("System::SDN::field.sdn-tag"),function(a){if("dynamic"===a.type)return a["sdn-tag"]}),organization:new k(b.getInfo("System::SDN::field.organization"),function(a){if("dynamic"===a.type)return a.organization}),"subnet-name":new k(b.getInfo("System::SDN::field.subnet-name"),function(a){if("dynamic"===a.type)return a["subnet-name"]}),"policy-group":new k(b.getInfo("System::SDN::field.policy-group"),function(a){if("dynamic"===a.type)return a["policy-group"]}),"obj-id":new k(b.getInfo("System::SDN::field.obj-id"),function(a){if("dynamic"===a.type&&"nsx"===a.sdn)return a["obj-id"]}),filter:new k(b.getInfo("System::SDN::field.filter"),function(a){if("dynamic"===a.type&&["aws","azure"].includes(a.sdn))return a.filter}),"associated-interface":new k(b.getInfo("Interface"),function(a){var b=(a["associated-interface"]||{}).name||"any";return Omniselect.processedFormatEntrySync({q_origin_key:b,datasource:"firewallInterfaces"})}),"resolved-fqdn":new k(b.getInfo("Resolved To"),function(a){var c,d,e;return"fqdn"===a.type&&(c=this.getSourceMetaData("firewall.address").resolvedFqdn,d=c?c[a.name].addrs:[],d.length?(e="",d.forEach(function(a){e+="<div>"+a+"</div>"})):e='<f-icon class="fa-warning"></f-icon><span>'+b.getInfo("fqdn_unresolved",[a.name])+"</span>"),e}),"resolved-dynamic":new k(b.getInfo("Resolved To"),function(a){var c,d,e,f;return"dynamic"===a.type&&(f=a.name,c=this.getSourceMetaData("firewall.address").resolvedDynamic,d=(c&&c[f]||{}).addrs||[],d.length?(e="",d.forEach(function(a){e+="<div>"+a+"</div>"})):e='<f-icon class="fa-warning"></f-icon><span>'+b.getInfo("dynamic_unresolved",[a.name])+"</span>"),e}),comment:B}},"firewall.addrgrp":{name:b.getInfo("firewall.addrgrp"),data:function(a,b){var c=s("firewall","addrgrp");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.address")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){a.member.forEach(function(c,d){var e,f,g=c.q_origin_key;b[g]&&(e=b[g],f="firewall.address"),e&&f&&(a.member[d]=e,a.member[d].datasource=f)})}),a[0]})},createNew:n("firewall","addrgrp"),inlineEdit:n("firewall","addrgrp"),searchKeys:{member:v,comment:!0},tooltipKeys:{member:D,comment:B}},"firewall.address6":{name:b.getInfo("firewall.address6"),data:s("firewall","address6"),metaData:function(){return b.when(b.get("/api/v2/monitor/firewall/address6-dynamic")).then(function(a){return{resolvedDynamic:a.results}})},formatFunction:function(a,b){var c,d,e,f,g=a.q_class||a["css-class"];try{c=a.type,("dynamic"===c||g.includes("ftnt-address-dynamic"))&&(d=this.getSourceMetaData("firewall.address6").resolvedDynamic,e=d?d[a.name].addrs:[],f="ftnt-address-invalid-dynamic"),e&&!e.length&&(g=g.split(" "),g[0]=f,g=g.join(" "))}catch(a){}return'<f-icon class="'+g+'"></f-icon><span>'+b+"</span>"},createNew:n("firewall","address6"),inlineEdit:n("firewall","address6"),solitaryEntries:{all:!0,none:!0},searchKeys:{ip6:function(b,d){var e=["::0","all"];if("ipprefix"!==b.type||"all"===b.q_origin_key&&e.indexOf(d)===-1)return!1;var f=b.ip6.split("/"),g=c.net.IpAddress.fromString(f[0]),h=c.math.Integer.fromString(f[1]);return a.util.patterns.commonRegExp.IP6_HOST.test(d)?a.util.address_search.subnet_util.contains(g,h,c.net.IpAddress.fromString(d)):void 0},"start-ip":function(b,d){if("iprange"!==b.type)return!1;var e=c.net.IpAddress.fromString(b["start-ip"]),f=c.net.IpAddress.fromString(b["end-ip"]);return a.util.patterns.commonRegExp.IP6_HOST.test(d)?a.util.address_search.subnet_util.range_contains(e,f,c.net.IpAddress.fromString(d)):void 0},ipmaskrange:!0,"obj-id":!0,comment:!0},tooltipKeys:{type:new k(b.getInfo("type"),function(a){return b.getInfo("addr_type_ipv6_"+a.type)}),sdn:new k(b.getInfo("SDN"),function(a){if("dynamic"===a.type)return b.getInfo("System::SDN::type."+a.sdn)}),ipprefix:new k(b.getInfo("address"),function(a){if("ipprefix"===a.type)return a.ip6}),iprange:new k(b.getInfo("ipmaskrange"),function(a){if("iprange"===a.type)return a["start-ip"]+" - "+a["end-ip"]}),"obj-id":new k(b.getInfo("System::SDN::field.obj-id"),function(a){if("dynamic"===a.type&&"nsx"===a.sdn)return a["obj-id"]}),"resolved-dynamic":new k(b.getInfo("Resolved To"),function(a){var c,d,e,f;return"dynamic"===a.type&&(f=a.name,c=this.getSourceMetaData("firewall.address6").resolvedDynamic,d=(c&&c[f]||{}).addrs||[],d.length?(e="",d.forEach(function(a){e+="<div>"+a+"</div>"})):e='<f-icon class="fa-warning"></f-icon><span>'+b.getInfo("dynamic_unresolved",[a.name])+"</span>"),e}),comment:B}},"firewall.addrgrp6":{name:b.getInfo("firewall.addrgrp6"),data:function(a,b){var c=s("firewall","addrgrp6");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.address6")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){for(var c=0,d=a.member.length;c<d;c++){var e=a.member[c].q_origin_key;a.member[c]=b[e],a.member[c].datasource="firewall.address6"}}),a[0]})},createNew:n("firewall","addrgrp6"),inlineEdit:n("firewall","addrgrp6"),searchKeys:{member:v,comment:!0},tooltipKeys:{member:D,comment:B}},"firewall.proxy-address":{name:b.getInfo("firewall.proxy-address"),data:s("firewall","proxy-address"),createNew:n("firewall","proxy-address"),inlineEdit:n("firewall","proxy-address")},"firewall.proxy-addrgrp":{name:b.getInfo("firewall.proxy-addrgrp"),data:s("firewall","proxy-addrgrp"),createNew:n("firewall","proxy-addrgrp"),inlineEdit:n("firewall","proxy-addrgrp")},"firewall.gtp":{name:b.getInfo("gtp_profile"),data:s("firewall","gtp")},"firewall.ippool":{name:b.getInfo("firewall.ippool"),data:s("firewall","ippool"),createNew:n("firewall","ippool"),inlineEdit:n("firewall","ippool"),metaData:function(){return b.when(b.get("/api/v2/monitor/firewall/ippool")).then(function(a){return{poolStats:a.results}})},searchKeys:{comments:!0},tooltipKeys:{comments:C,type:new k(b.getInfo("type"),function(a){return b.getInfo(a.type)}),startip:new k(b.getInfo("external_ip_range"),function(a){return a.startip+" - "+a.endip}),"source-startip":new k(b.getInfo("internal_ip_range"),function(a){if("fixed-port-range"===a.type)return a["source-startip"]+" - "+a["source-endip"]}),"arp-reply":new k(b.getInfo("arp-reply"),J),"block-size":new k(b.getInfo("block-size")),"num-blocks-per-user":new k(b.getInfo("num-blocks-per-user")),"pba-per-ip":new k(b.getInfo("Blocks Per IP"),H("firewall.ippool","pba_per_ip")),"nat-ip-inuse":new k(b.getInfo("External IPs in Use"),function(a){var b=this.getSourceMetaData("firewall.ippool"),c=b&&b.poolStats&&b.poolStats[a.name];return c&&null!=c.natip_in_use&&null!=c.natip_total&&c.natip_in_use+"/"+c.natip_total}),clients:new k(b.getInfo("Clients Online"),H("firewall.ippool","clients")),available:new k(b.getInfo("Blocks Available"),function(a){var c=this.getSourceMetaData("firewall.ippool"),d=c&&c.poolStats&&c.poolStats[a.name],e=d&&d.available,f=d&&b.getInfo("({COUNT}/{TOTAL} blocks used)",[d.used,d.total]),g="<span>";return e<10&&(g='<f-icon class="fa-warning"></f-icon><span>'),null!=e&&g+e.toFixed(2)+"% "+f+"</span>"}),ip_shared:new k(b.getInfo("IPs Sharing External IP"),H("firewall.ippool","ip_shared")),
ports_per_ip:new k(b.getInfo("Ports Per IP"),H("firewall.ippool","ports_per_ip"))}},"firewall.ippool6":{name:b.getInfo("firewall.ippool"),data:s("firewall","ippool6"),createNew:n("firewall","ippool6"),inlineEdit:n("firewall","ippool6"),searchKeys:{comments:!0},tooltipKeys:{startip:new k(b.getInfo("external_ip_range"),function(a){return a.startip+" - "+a.endip}),comments:C}},"firewall.ldb-monitor":{name:b.getInfo("Health Check"),data:s("firewall","ldb-monitor"),formatFunction:function(a,b){return'<f-icon class="ftnt-virtual-ip ftnt-color-0"></f-icon><span>'+b+"</span>"},searchKeys:{type:!0,port:!0,interval:!0,timeout:!0,retry:!0},subcategories:!0,subcategoryValueFunction:function(a){return a.type.toUpperCase()||"Uncategorized"},tooltipKeys:{type:new k(b.getInfo("type"),function(a){return a.type.toUpperCase()}),"http-get":new k(b.getInfo("http_get")),port:new k(b.getInfo("Port"),function(a){return!!a.hasOwnProperty("port")&&a.port.toString()}),interval:new k(b.getInfo("interval")),timeout:new k(b.getInfo("timeout")),retry:new k(b.getInfo("retry"))}},"firewall.policy":{name:b.getInfo("firewall.policy"),data:s("firewall","policy"),tooltipKeys:N.tooltipKeys,formatFunction:N.formatFunction},"firewall.policy6":{name:b.getInfo("firewall.policy6"),data:s("firewall","policy6"),tooltipKeys:N.tooltipKeys,formatFunction:N.formatFunction},"firewall.policy64":{name:b.getInfo("firewall.policy64"),data:s("firewall","policy64"),tooltipKeys:N.tooltipKeys,formatFunction:N.formatFunction},"firewall.policy46":{name:b.getInfo("firewall.policy46"),data:s("firewall","policy46"),tooltipKeys:N.tooltipKeys,formatFunction:N.formatFunction},"firewall.proxy-policy":{name:b.getInfo("firewall.proxy-policy"),data:s("firewall","proxy-policy"),tooltipKeys:N.tooltipKeys,formatFunction:N.formatFunction},"firewall.profile-group":{name:b.getInfo("firewall.profile-group"),data:s("firewall","profile-group"),createNew:n("firewall","profile-group"),inlineEdit:n("firewall","profile-group"),formatFunction:G,searchKeys:{comment:!0},tooltipKeys:{comment:B}},"firewall.profile-protocol-options":{name:b.getInfo("firewall.profile-protocol-options"),data:s("firewall","profile-protocol-options"),createNew:o("firewall","profile-protocol-options"),inlineEdit:n("firewall","profile-protocol-options"),formatFunction:G,searchKeys:{comment:!0},tooltipKeys:{comment:B}},"firewall.schedule.onetime":{name:b.getInfo("firewall.schedule.onetime"),data:s("firewall.schedule","onetime"),createNew:n("firewall.schedule","onetime"),inlineEdit:n("firewall.schedule","onetime"),searchKeys:{start:!0,end:!0},tooltipKeys:{start:new k(b.getInfo("Start")),end:new k(b.getInfo("End"))}},"firewall.schedule.recurring":{name:b.getInfo("firewall.schedule.recurring"),data:s("firewall.schedule","recurring"),createNew:n("firewall.schedule","recurring"),inlineEdit:n("firewall.schedule","recurring"),searchKeys:{day:!0,start:!0,end:!0},tooltipKeys:{day:new k(b.getInfo("days"),function(a){return a.day.split(" ").map(function(a){return b.getInfo(a)}).join(", ")}),start:new k(b.getInfo("start_time")),end:new k(b.getInfo("end_time"))}},"firewall.schedule.group":{name:b.getInfo("firewall.schedule.group"),data:function(a,b){var c=s("firewall.schedule","group");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.schedule.onetime"),Omniselect.getSourceData("firewall.schedule.recurring")]).then(function(a){var b=a[1].mapping,c=a[2].mapping;return a[0].forEach(function(a){for(var d=0,e=a.member.length;d<e;d++){var f=a.member[d].q_origin_key;b[f]?(a.member[d]=b[f],a.member[d].datasource="firewall.schedule.onetime"):c[f]&&(a.member[d]=c[f],a.member[d].datasource="firewall.schedule.recurring")}}),a[0]})},createNew:n("firewall.schedule","group"),inlineEdit:n("firewall.schedule","group"),searchKeys:{member:v},tooltipKeys:{member:D}},"firewall.service.custom":{name:b.getInfo("firewall.service.custom"),data:s("firewall.service","custom"),metaData:function(){return b.get("/api/v2/cmdb/firewall.service/category").then(function(a){var b,c={};return a.results.forEach(function(a,d){c[a.name]=d,b=d}),c.Uncategorized=b+1,c})},createNew:n("firewall.service","custom"),inlineEdit:n("firewall.service","custom"),solitaryEntries:{ALL:!0,NONE:!0},searchKeys:{comment:!0,category:!0,protocols:function(a,b,c){for(var d=Q(a),e=0;e<d.length;e++)if(c.test(d[e]))return!0;return!1}},tooltipKeys:{comment:B,category:new k(b.getInfo("category"),function(a){return a.category.name}),protocols:new k(b.getInfo("protocols"),function(a){var b=Q(a);return b.map(function(a){return"<div>"+a+"</div>"}).join("\n")})},subcategories:!0,subcategoryValueFunction:function(a){return a.category.name||"Uncategorized"},subcategorySortFunction:function(a,b){var c=this.getSourceMetaData("firewall.service.custom"),d=c[a],e=c[b];return d-e}},"firewall.service.group":{name:b.getInfo("firewall.service.group"),data:function(a,b){var c=s("firewall.service","group");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.service.custom")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){for(var c=0,d=a.member.length;c<d;c++){var e=a.member[c].q_origin_key,f=b[e];f&&(a.member[c]=f,f.datasource="firewall.service.custom")}}),a[0]})},createNew:n("firewall.service","group"),inlineEdit:n("firewall.service","group"),searchKeys:{member:v,comment:!0},tooltipKeys:{member:D,comment:B}},"firewall.shaper.per-ip-shaper":{name:b.getInfo("firewall.shaper.per-ip-shaper"),data:s("firewall.shaper","per-ip-shaper"),createNew:n("firewall.shaper","per-ip-shaper"),inlineEdit:n("firewall.shaper","per-ip-shaper")},"firewall.shaper.traffic-shaper":{name:b.getInfo("firewall.shaper.traffic-shaper"),data:s("firewall.shaper","traffic-shaper"),createNew:n("firewall.shaper","traffic-shaper"),inlineEdit:n("firewall.shaper","traffic-shaper")},"firewall.ssl-ssh-profile":{name:b.getInfo("firewall.ssl-ssh-profile"),data:s("firewall","ssl-ssh-profile"),formatFunction:G,createNew:o("firewall","ssl-ssh-profile"),inlineEdit:n("firewall","ssl-ssh-profile"),searchKeys:{comment:!0},tooltipKeys:{comment:B}},"firewall.vip":{name:function(){var a="firewall.vip";return top.state&&top.state.featureEnabled("gui-load-balance")?b.getInfo("Virtual IP/Server"):b.getInfo(a)},data:s("firewall","vip"),createNew:n("firewall","vip"),inlineEdit:n("firewall","vip"),filterFunction:function(a){var b=a.q_class||a["css-class"];return!(b.indexOf("load-balance")>=0)||top.state&&top.state.featureEnabled("gui-load-balance")},searchKeys:{extintf:u("extintf"),extip:!0,extport:!0,"mapped-addr":!0,mappedip:!0,mappedport:!0,realservers:!0,comment:!0},tooltipKeys:{extintf:new k(b.getInfo("Interface"),function(a){return w(a.extintf)}),extip:new k(b.getInfo("extip"),function(a){return F(a.extip)}),"mapped-addr":new k(b.getInfo("FQDNs"),z("mapped-addr")),mappedip:new k(b.getInfo("mappedip"),function(a){var b;return Array.isArray(a.mappedip)&&a.mappedip.length&&(b="",a.mappedip.forEach(function(a){b+="<div>"+F(a.range)+"</div>"})),b}),extport:new k(b.getInfo("extport"),function(a){return"enable"===a.portforward&&a.extport?b.getInfo(a.protocol)+" "+F(a.extport):a.extport}),service:new k(b.getInfo("service"),function(a){if(a.service)return x(a.service,2,w)}),mappedport:new k(b.getInfo("mappedport"),function(a){if("enable"===a.portforward)return F(a.mappedport)}),realservers:new k(b.getInfo("ldb_realservers"),function(a){if(a.realservers)return Array.isArray(a.realservers)&&a.realservers.map(function(a){return a.ip+":"+a.port+"<br>"}).join("")}),comment:B}},"firewall.vip46":{name:b.getInfo("firewall.vip46"),data:s("firewall","vip46"),createNew:n("firewall","vip46"),inlineEdit:n("firewall","vip46"),searchKeys:K.searchKeys,tooltipKeys:K.tooltipKeys},"firewall.vip6":{name:b.getInfo("firewall.vip6"),data:s("firewall","vip6"),createNew:n("firewall","vip6"),inlineEdit:n("firewall","vip6"),searchKeys:K.searchKeys,tooltipKeys:K.tooltipKeys},"firewall.vip64":{name:b.getInfo("firewall.vip64"),data:s("firewall","vip64"),createNew:n("firewall","vip64"),inlineEdit:n("firewall","vip64"),searchKeys:K.searchKeys,tooltipKeys:K.tooltipKeys},"firewall.vipgrp":{name:b.getInfo("firewall.vipgrp"),data:function(a,b){var c=s("firewall","vipgrp");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.vip")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){for(var c=0,d=a.member.length;c<d;c++){var e=a.member[c].q_origin_key;a.member[c]=b[e],a.member[c].datasource="firewall.vip"}}),a[0]})},createNew:n("firewall","vipgrp"),inlineEdit:n("firewall","vipgrp"),searchKeys:{interface:!0,member:v,comment:!0},tooltipKeys:{interface:new k(b.getInfo("Interface"),function(a){return w(a.interface)}),member:D,comment:B}},"firewall.vipgrp46":{name:b.getInfo("firewall.vipgrp46"),data:function(a,b){var c=s("firewall","vipgrp46");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.vip46")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){for(var c=0,d=a.member.length;c<d;c++){var e=a.member[c].q_origin_key;a.member[c]=b[e],a.member[c].datasource="firewall.vip46"}}),a[0]})},createNew:n("firewall","vipgrp46"),inlineEdit:n("firewall","vipgrp46"),searchKeys:O.searchKeys,tooltipKeys:O.tooltipKeys},"firewall.vipgrp6":{name:b.getInfo("firewall.vipgrp6"),data:function(a,b){var c=s("firewall","vipgrp6");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.vip6")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){for(var c=0,d=a.member.length;c<d;c++){var e=a.member[c].q_origin_key;a.member[c]=b[e],a.member[c].datasource="firewall.vip6"}}),a[0]})},createNew:n("firewall","vipgrp6"),inlineEdit:n("firewall","vipgrp6"),searchKeys:O.searchKeys,tooltipKeys:O.tooltipKeys},"firewall.vipgrp64":{name:b.getInfo("firewall.vipgrp64"),data:function(a,b){var c=s("firewall","vipgrp64");return Promise.all([c.call(this,a,b),Omniselect.getSourceData("firewall.vip64")]).then(function(a){var b=a[1].mapping;return a[0].forEach(function(a){for(var c=0,d=a.member.length;c<d;c++){var e=a.member[c].q_origin_key;a.member[c]=b[e],a.member[c].datasource="firewall.vip64"}}),a[0]})},createNew:n("firewall","vipgrp64"),inlineEdit:n("firewall","vipgrp64"),searchKeys:O.searchKeys,tooltipKeys:O.tooltipKeys},"icap.profile":{name:b.getInfo("datasource_icap.profile"),data:s("icap","profile"),createNew:n("icap","profile"),inlineEdit:n("icap","profile"),formatFunction:G},"icap.server":{name:b.getInfo("icap.server"),data:s("icap","server"),createNew:n("icap","server"),inlineEdit:n("icap","server")},"ips.sensor":{name:b.getInfo("datasource_ips.sensor"),data:s("ips","sensor"),createNew:o("ips","sensor"),inlineEdit:n("ips","sensor"),formatFunction:G},"firewall.mms-profile":{name:b.getInfo("mmsprofile"),data:s("firewall","mms-profile"),formatFunction:G},"firewall.multicast-address":{name:b.getInfo("firewall.multicast-address"),data:s("firewall","multicast-address"),searchKeys:{subnet:!0,"start-ip":!0,"end-ip":!0},tooltipKeys:{subnet:new k(b.getInfo("addr_subnet")),"start-ip":new k(b.getInfo("start-ip")),"end-ip":new k(b.getInfo("end-ip"))},createNew:n("firewall","multicast-address"),inlineEdit:n("firewall","multicast-address")},fortiGuardCategoryActions:{name:b.getInfo("Filter by action"),data:function(){var c=["all","allow","monitor","block","warning","authenticate"];return b.when(c.map(function(b){return{datasource:"fortiGuardCategoryActions",name:b,q_origin_key:b,"css-class":a.util.icon.iconClass(a.util.icon.ICON_TYPE.FGD_CAT_ACTION,b)}}))},formatFunction:function(c,d){return a.util.icon.genIcon(c["css-class"],b.getInfo("ftgd_"+d))}},fortiviewDestination:{name:b.getInfo("FortiView Destination"),data:function(){return b.Deferred().reject()},valueFunction:function(a){return a.dstaddr||a.dstip||a.country},searchKeys:{address:!0,country:!0},tooltipKeys:{address:new k(b.getInfo("IP Address")),country:new k(b.getInfo("Country"),function(a){if("Reserved"!==a.country&&a.country_id){var b=255&a.country_id,c=a.country_id>>8,d="country_flag country_"+String.fromCharCode(b)+String.fromCharCode(c);return'<span class="'+d+'"></span><span>'+a.country+"</span>"}})}},"gtp.apn":{name:b.getInfo("apn"),data:s("gtp","apn")},"gtp.apngrp":{name:b.getInfo("APN groups"),data:s("gtp","apngrp")},"gtp.message-filter-v0v1":{name:b.getInfo("gtp.message-filter-v0v1"),data:s("gtp","message-filter-v0v1")},"gtp.message-filter-v2":{name:b.getInfo("gtp.message-filter-v2"),data:s("gtp","message-filter-v2")},"spamfilter.bword":{name:b.getInfo("datasource_spamfilter.bword"),data:s("spamfilter","bword"),valueFunction:function(a){return a.name},searchKeys:{comment:!0},tooltipKeys:{comment:B}},"spamfilter.profile":{name:b.getInfo("datasource_spamfilter.profile"),data:s("spamfilter","profile"),createNew:o("spamfilter","profile"),inlineEdit:n("spamfilter","profile"),formatFunction:G},"system.accprofile":{name:b.getInfo("admin_profile"),data:s("system","accprofile"),createNew:n("system","accprofile"),inlineEdit:n("system","accprofile"),searchKeys:{name:!0}},"system.geoip-country":{name:b.getInfo("geography"),data:s("system","geoip-country"),searchKeys:{name:!0},formatFunction:function(a,b){return'<span class="country_flag country_'+b+'"></span><span>'+a.name+"</span>"},sortFunction:function(a,b,c,e){return d.util.fastLocaleCompare(c.name,e.name)}},switchControllerVLANs:{name:b.getInfo("datasource_switch-controller.vlan"),aliasFor:["system.interface"],data:s("system","interface",null,function(b){return a.util.switchctrl.getDedicatedToFortiSwitchInterface().then(function(a){return b.filter(function(b){return"vlan"===b.type&&b.interface.name===a.name})})}),metaData:function(){return b.when(a.util.firewallInterfaces.get(),b.get("/api/v2/cmdb/switch-controller.security-policy/captive-portal")).then(function(a,b){var c={},d=b[0].results;return a.forEach(function(a){c[a.name]=a,a.is_used_by_switchctrl_captive_portal_policy=d.some(function(b){return b.vlan===a.name})}),c})},valueFunction:l,formatFunction:function(a,b){var c=this.getSourceMetaData("switchControllerVLANs"),d=a.color||c[a.name]&&c[a.name].color,e="ftnt-vlan ftnt-desc-color ftnt-color-"+d,f='<f-icon class="'+e+'"></f-icon>';return f+="<span>"+b+"</span>"},tooltipKeys:{ip:new k(b.getInfo("ip")),vlanid:new k(b.getInfo("vlanid"))}},"switch-controller.security-policy.802-1X":{name:b.getInfo("datasource_switch-controller.security-policy.802-1X"),data:s("switch-controller.security-policy","802-1X"),createNew:n("switch-controller.security-policy","802-1X"),inlineEdit:n("switch-controller.security-policy","802-1X"),formatFunction:function(a){return'<span class="ftnt-switch-controller-security-policy-802-1X"></span><span>'+a.name+"</span>"},searchKeys:{name:!0}},"switch-controller.qos.qos-policy":{name:b.getInfo("QoS Policy"),data:s("switch-controller.qos","qos-policy"),searchKeys:{name:!0}},"switch-controller.lldp-profile":{name:b.getInfo("LLDP Profile"),data:s("switch-controller","lldp-profile"),searchKeys:{name:!0}},"system.interface":{name:b.getInfo("Interface"),data:s("system","interface")},"system.object-tag":{name:b.getInfo("Asset Tag"),data:s("system","object-tag"),preProcessSelected:!0,createNew:n("system","object-tag"),inlineEdit:n("system","object-tag"),sortFunction:function(a,b,c,e){return c.q_ref===e.q_ref?d.util.fastLocaleCompare(c.name,e.name):e.q_ref-c.q_ref},valueFunction:function(a){var b=a.name;return void 0!==a.q_ref&&(b+=" ("+a.q_ref+")"),b},tooltipKeys:{q_ref:new k(b.getInfo("total_ref"))}},"system.replacemsg-group":{name:b.getInfo("system.replacemsg-group"),data:s("system","replacemsg-group")},"system.sms-server":{name:b.getInfo("SMS Server"),data:s("system","sms-server"),tooltipKeys:{"mail-server":new k(b.getInfo("Mail Server"))},searchKeys:{name:!0,"mail-server":!0}},"system.zone":{name:b.getInfo("zone"),data:s("system","zone")},"user.device-category":{name:b.getInfo("device_category"),data:s("user","device-category"),solitaryEntries:{all:!0},valueFunction:function(a){return a.desc||a.name},searchKeys:{comment:!0},tooltipKeys:{comment:B}},"user.device-group":{name:b.getInfo("Custom Device Group"),data:s("user","device-group"),createNew:n("user","device-group"),inlineEdit:n("user","device-group"),searchKeys:{member:u("member"),comment:!0},tooltipKeys:{member:D,comment:B}},"user.group":{name:b.getInfo("usergroup"),data:s("user","group"),createNew:n("user","group"),inlineEdit:n("user","group"),searchKeys:{member:u("member")},tooltipKeys:{member:D,"group-type":new k(b.getInfo("grp_type"),function(a){var c=a["group-type"];if(c)return b.getInfo(c)})}},"user.local":{name:b.getInfo("user"),data:s("user","local"),createNew:n("user","local"),inlineEdit:n("user","local"),formatFunction:function(b){var c=b.type,d=a.util.icon.formatIcon(a.util.icon.ICON_TYPE.USER,c,{fallBackIconClass:"fa-user-local"});return d+"<span>"+b.name+"</span>"},subcategories:!0,subcategoryValueFunction:function(a){return a.type},subcategoryFormatFunction:function(a,c){return b.getInfo("User::type."+a)+" ("+c+")"}},"user.peer":{name:b.getInfo("PKI User"),data:s("user","peer"),formatFunction:function(b){var c=a.util.icon.formatIcon(a.util.icon.ICON_TYPE.USER,"peer");return c+"<span>"+b.name+"</span>"},createNew:n("user","peer"),inlineEdit:n("user","peer")},"user.peergrp":{name:b.getInfo("PKI Group"),data:s("user","peergrp")},"user.radius":{name:b.getInfo("RADIUS Server"),data:s("user","radius"),createNew:n("user","radius"),inlineEdit:n("user","radius")},"user.ldap":{name:b.getInfo("LDAP Server"),data:s("user","ldap"),createNew:n("user","ldap"),inlineEdit:n("user","ldap"),tooltipKeys:{server:new k(b.getInfo("Server IP/Name")),port:new k(b.getInfo("Server Port")),cnid:new k(b.getInfo("Common Name Identifier")),dn:new k(b.getInfo("dn")),type:new k(b.getInfo("Bind Type"),E("type"))}},"user.tacacs+":{name:b.getInfo("TACACS+ Server"),data:s("user","tacacs+"),createNew:n("user","tacacs+"),inlineEdit:n("user","tacacs+")},"user.adgrp":{name:b.getInfo("FSSO Group"),data:s("user","adgrp"),formatFunction:function(b){var c=a.util.icon.formatIcon(a.util.icon.ICON_TYPE.USER,"fsso");return c+"<span>"+b.name+"</span>"},tooltipKeys:{"server-name":new k(b.getInfo("FSSO"),function(a){return a["server-name"].name})},searchKeys:{name:!0,"server-name":!0}},"user.fsso":{name:b.getInfo("fsso_agent"),data:s("user","fsso"),createNew:n("user","fsso"),inlineEdit:n("user","fsso"),tooltipKeys:{"ldap-server":new k(b.getInfo("LDAP Server"),function(a){return a["ldap-server"]&&a["ldap-server"].name}),server:new k(b.getInfo("Primary FSSO Agent")),server2:new k(b.getInfo("FSSO Agent")),server3:new k(b.getInfo("FSSO Agent")),server4:new k(b.getInfo("FSSO Agent")),server5:new k(b.getInfo("FSSO Agent"))},searchKeys:{name:!0,"ldap-server":!0,server:!0,server2:!0,server3:!0,server4:!0,server5:!0}},"user.fsso-polling":{name:b.getInfo("fsso_poll"),data:s("user","fsso-polling"),createNew:n("user","fsso-polling"),inlineEdit:n("user","fsso-polling"),valueFunction:function(a){return a.server},sortFunction:function(a,b,c,e){return d.util.fastLocaleCompare(c.server,e.server)},tooltipKeys:{id:new k(b.getInfo("id")),"ldap-server":new k(b.getInfo("LDAP Server"),function(a){return a["ldap-server"]&&a["ldap-server"].name}),status:new k(b.getInfo("Status"),E("status"))},searchKeys:{name:!0,id:!0,"ldap-server":!0,status:!0}},"voip.profile":{name:b.getInfo("datasource_voip.profile"),data:s("voip","profile"),createNew:o("voip","profile"),inlineEdit:n("voip","profile"),formatFunction:G},"vpn.certificate.ca":{name:b.getInfo("vpn.certificate.ca"),data:s("vpn.certificate","ca"),formatFunction:function(b){return a.util.formatters.certificate_format_fn(b.range,b.name)}},"vpn.ipsec.manualkey":{name:b.getInfo("vpn.ipsec.manualkey"),data:s("vpn.ipsec","manualkey")},"vpn.ipsec.phase1":{name:b.getInfo("vpn.ipsec.phase1"),data:s("vpn.ipsec","phase1")},"vpn.ssl.web.portal":{name:b.getInfo("portal"),data:s("vpn.ssl.web","portal")},"vpn.ssl.web.realm":{name:b.getInfo("realm"),data:s("vpn.ssl.web","realm")},"waf.profile":{name:b.getInfo("datasource_waf.profile"),data:s("waf","profile"),createNew:o("waf","profile"),inlineEdit:n("waf","profile"),formatFunction:G},"wanopt.auth-group":{name:b.getInfo("wanopt.auth-group"),data:s("wanopt","auth-group"),tooltipKeys:{"auth-method":new k(b.getInfo("auth-method"),E("auth-method")),"peer-accept":new k(b.getInfo("Accept Peer(s)"),E("peer-accept",null,{any:"any",defined:"Defined Only",one:"specify"})),peer:new k(b.getInfo("peer"),function(a){return a.peer&&w(a.peer)})}},"wanopt.peer":{name:b.getInfo("wan_peer"),data:s("wanopt","peer"),searchKeys:{ip:!0},tooltipKeys:{"peer-host-id":new k(b.getInfo("peer_name")),ip:new k(b.getInfo("field_ipaddr"))}},"wanopt.profile":{name:b.getInfo("wan_profile"),data:s("wanopt","profile"),formatFunction:G},"web-proxy.forward-server":{name:b.getInfo("web-proxy.forward-server"),data:s("web-proxy","forward-server"),tooltipKeys:{comment:B}},"web-proxy.forward-server-group":{name:b.getInfo("web-proxy.forward-server-group"),data:s("web-proxy","forward-server-group"),tooltipKeys:{comment:B}},"webfilter.ftgd-cat":{name:b.getInfo("webcat"),data:function(){var a=g+"webfilter/fortiguard-categories",c={include_unrated:1,convert_unrated_id:1};return b.getJSON(a,c).then(function(a){return a.results.forEach(function(a){a.q_origin_key=a.id,a.datasource="webfilter.ftgd-cat"}),a.results})},preProcessSelected:!0,subcategories:!0,subcategoryValueFunction:function(a){return a.group||"Uncategorized"},valueFunction:l},"web-proxy.url-match":{name:b.getInfo("web-proxy.url-match"),data:s("web-proxy","url-match"),tooltipKeys:{pattern:new k(b.getInfo("url-pattern"),A("url-pattern")),"forward-server":new k(b.getInfo("Forward to Server"),function(a){return a["forward-server"]&&w(a["forward-server"])}),"cache-exemption":new k(b.getInfo("cache-exemption"),A("cache-exemption")),status:new k(b.getInfo("enabled"),A("status"))}},"webfilter.ftgd-local-cat":{name:b.getInfo("webfilter.ftgd-local-cat"),data:s("webfilter","ftgd-local-cat",null,function(a){return a.forEach(function(a){a.q_origin_key=a.id.toString(),a.name=a.desc,a.datasource="webfilter.ftgd-local-cat"}),a}),preProcessSelected:!0,valueFunction:l,searchKeys:{name:!0},tooltipNameLabel:b.getInfo("id")},"webfilter.profile":{name:b.getInfo("datasource_webfilter.profile"),data:s("webfilter","profile"),createNew:o("webfilter","profile"),inlineEdit:n("webfilter","profile"),formatFunction:G,searchKeys:{comment:!0},tooltipKeys:{comment:B}},"wireless-controller.vap":{name:b.getInfo("wireless-controller.vap"),data:s("wireless-controller","vap"),valueFunction:function(a){return a.ssid?a.ssid+" ("+a.name+")":a.name}},"wireless-controller.vap-group":{name:b.getInfo("wireless-controller.vap-group"),data:s("wireless-controller","vap-group"),tooltipKeys:{vaps:new k(b.getInfo("ssids"),z("vaps"))}},"wireless-controller.wids-profile":{name:b.getInfo("wids_profile"),data:s("wireless-controller","wids-profile"),tooltipKeys:{"ap-scan":new k(b.getInfo("rogue_ap_detection"),function(a){return'<f-icon class="fa-'+a["ap-scan"]+'d"></f-icon>'})}},"wireless-controller.wtp":{name:b.getInfo("FortiAP"),data:s("wireless-controller","wtp"),valueFunction:function(a){return a.name?a.name+" ("+a["wtp-id"]+")":a["wtp-id"]},tooltipKeys:{"wtp-profile":new k(b.getInfo("Profile"),function(a){function c(a){function b(a,b){function c(a){return 0===a.indexOf(b)}return a.filter(c)}function c(a){return"enable"===this[a]}var d=Object.keys(a),e=b(d,"override-");return e.some(c,a)}var d,e,f=!1;if(!(f=c(a)))for(d=1;!f&&(e=a["radio-"+d]);)f=c(e),d++;return f=f?" ("+b.getInfo("Overridden")+")":"",a["wtp-profile"].name+f})}},"wireless-controller.wtp-group":{name:b.getInfo("FortiAP Group"),data:s("wireless-controller","wtp-group"),tooltipKeys:{vaps:new k(b.getInfo("members"),z("wtps"))}},"wireless-controller.wtp-profile":{name:b.getInfo("ap_profile"),data:s("wireless-controller","wtp-profile"),createNew:n("wireless-controller","wtp-profile"),inlineEdit:n("wireless-controller","wtp-profile")}},Omniselect.prototype.SOURCES.firewallInterfacesCreate=Object.assign({},Omniselect.prototype.SOURCES.firewallInterfaces,{createNew:!0}),Omniselect.prototype.SOURCES.availableCertificatesWithSelfSign=Object.assign({},Omniselect.prototype.SOURCES.availableCertificates,{data:function(){return Omniselect.prototype.SOURCES.availableCertificates.data().then(function(a){return a.concat([{datasource:"vpn.certificate.local",q_origin_key:"self-sign",name:"self-sign",exists:!0,is_ssl_server_cert:!0,is_built_in:!0,has_valid_cert_key:!0}])})}}),h.forEach(function(a){r(a,"global::"+a,{isGlobal:!0})}),i.forEach(function(a){var b=a.type+"FirewallInterfaces";r("firewallInterfaces",b,{viewTypes:[a.type]}),a.global&&r(b,"global::"+b,{isGlobal:!0})}),m}),fweb_define("select_setup_device",["jquery","select_setup","fweb","ftnt_shared"],null,function(a,b,c,d){"use strict";function e(a){var b=a.user&&"auth"!==a.user.src&&a.user.name;a.authuser=a.user&&"auth"===a.user.src&&a.user.name,a.last_login_user=a.endpoint_record&&a.endpoint_record.user&&a.endpoint_record.user.name,a.unauthuser=a.last_login_user||b,a.unauthusersource=a.last_login_user?"forticlient":b?a.user.src:""}var f=d.TooltipKey,g=c.util.icon,h={},i=h.STATUS_MAP={online:{class:"fa-status-up",lang_key:"online"},offline:{class:"fa-status-down-disabled",lang_key:"offline"},quarantined:{class:"ftnt-forticlient-quarantined",lang_key:"quarantined"},registered:{class:"ftnt-forticlient-registered",lang_key:"Registered"},unregistered:{class:"ftnt-forticlient-unregistered",lang_key:"unreg"},blocked:{class:"ftnt-forticlient-blocked",lang_key:"blocked"},capture:{class:"ftnt-forticlient-captive",lang_key:"Blocked/Captive Portal"},"registered-online-offnet":{class:"ftnt-forticlient-registered-offnet",lang_key:"Registered - Online - Off-Net"},"registered-online-onnet":{class:"ftnt-forticlient-registered-onnet",lang_key:"Registered - Online - On-Net"},"registered-online":{class:"ftnt-forticlient-registered-onnet",lang_key:"Registered - Online"},"registered-offline":{class:"ftnt-forticlient-registered-offline",lang_key:"Registered - Offline"}},j=function(a){var b,c=a.endpoint_record;return b=c&&"registered"===c.state?c.online?top.state.featureEnabled("gui-endpoint-control-advanced")?c.on_net?"registered-online-onnet":"registered-online-offnet":"registered-online":"registered-offline":a.is_online?"online":"offline",i[b]},k=function(c){var d=function(){var d="/api/v2/monitor/user/device",e=b.processCSFSourceURI(d,c);return a.get(e).then(function(b){var c={},f={},g=d!==e;return b.results.forEach(function(a){c[a.mac]=a,a.mac===a.master_mac&&(a.other_macs=[]),g&&(a._from_csf=!0)}),b.results.forEach(function(b){var d,e=b.master_mac;b.mac!==e?(d=c[e],d.other_macs.push(a.extend(!0,{},b)),b.master=a.extend(!0,{},d)):(b.forticlient&&b.forticlient.uid&&(f[b.forticlient.uid]=b),b.is_master_mac=!0)}),{list:b.results,map:c,uid_map:f}})},e=function(){var d=b.processCSFSourceURI("/api/v2/monitor/endpoint-control/record-list",c);return a.get(d).then(function(a){return a.results})},f=function(){var d=b.processCSFSourceURI("/api/v2/cmdb/system/global?format=device-idle-timeout",c);return a.get(d).then(function(a){return a.results["device-idle-timeout"]})},g=[d(),f()],h=top.state.featureEnabled("gui-endpoint-control");return h&&g.push(e()),a.when.apply(a,g).then(function(a,b,c){return a.list.forEach(function(a){var c=!1,d=[],e=a.last_seen,f=a.interface;a.master||(a.last_seen<b&&(a.interface&&d.push(a.interface),c=!0),a.other_macs.length&&(a.other_macs.forEach(function(a){a.last_seen<e&&a.interface&&(e=a.last_seen,f=a.interface),a.last_seen<b&&(a.interface&&d.push(a.interface),a.is_online=!0,c=!0)}),a.online_interfaces=d),a.is_online=c,a.last_seen=e,a.interface=f)}),h&&c.forEach(function(b){var c=new Set;b.mac&&c.add(b.mac),b.host_mac&&c.add(b.host_mac),b.mac_list&&b.mac_list.split(";").forEach(function(a){if(a){var b=a.replace(/-/g,":");c.add(b)}}),c.forEach(function(c){var d=a.map[c];d&&(d.endpoint_record=b,d.master&&(d.master.endpoint_record=b))})}),a})},l=function(c){var d=b.processCSFSourceURI("/api/v2/cmdb/user/device?with_meta=1&skip=1&datasource=1",c);return a.get(d).then(function(a){var b={};return a.results.forEach(function(a){b[a.mac]=a}),{list:a.results,mac_map:b}})},m={aliasFor:"devices",metaData:function(a,c){var d="firewallInterfaces",e=b.getSourceCSFPath(c);return e&&(d=b.getCSFProxySourceID(d,e)),Omniselect.getSourceData(d)},valueFunction:function(a){var b;return a.name?b=a.name:a.alias?b=a.alias:a.host?(b=a.host.name,a.master&&(b+=" ("+a.mac+")")):b=a.mac,b},formatFunction:function(a,b){a.master&&(a=a.master);var c="",d=g.iconClass(g.ICON_TYPE.DEVICE,a.category&&a.category.type),e=a.q_class||a["css-class"]||d;return e&&(c='<f-icon class="'+e+'"></f-icon>'),c+="<span>"+b+"</span>"},headerSearchKeys:["authuser","unauthuser","username","master-device","alias","addr","address"],tooltipHeaderFormatFunction:function(a,d){var e=b.getSourceCSFPath(d),f=a.authuser,g=a.unauthuser,h=a.forticlient&&a.forticlient.uid;return c.util.avatars.headerFormatFn({user:f,unauthuser:g,uid:h,unauthusersource:a.unauthusersource,alias:a["master-device"]||a.alias,display_mode:"large",addr:a.addr,csfPath:e})},searchKeys:{status:function(b,c,d){return d.test(a.getInfo(j(b).lang_key))},host_name:function(a,b,c){if(a.host)return c.test(a.host.name)},server:function(b,c,d){if(b.server){var e=a.getInfo("Server::type."+b.server);return d.test(e)}},mac:!0,other_macs:function(a,b,c){if(a.other_macs)return a.other_macs.some(function(a){return c.test(a.mac)})},addr:!0,addr6:!0,interface:function(a,b,c){if(!a.online_interfaces&&a.interface){var d=this.getSourceMetaData("devices"),e=Omniselect.formatEntry(d.mapping[a.interface],"firewallInterfaces");return c.test(e)}},online_interfaces:function(a,b,c){if(a.online_interfaces){var d=this.getSourceMetaData("devices");return a.online_interfaces.some(function(a){var b=Omniselect.formatEntry(d.mapping[a],"firewallInterfaces");return c.test(b)})}},os:function(a,b,c){var d;return a.os&&(d=a.os.name,a.os.version&&(d+=" / "+a.os.version)),c.test(d)},user:function(a,b,c){if(a.user)return c.test(a.user.name)},comment:function(a,b,c){if(a.comment)return c.test(a.comment)},tags:function(a,b,c){if(a.tags)return a.tags.some(function(a){return c.test(a.name)})},authuser:!0,unauthuser:!0},tooltipKeys:{status:new f(a.getInfo("Status"),function(b){var c,d=["registered","quarantined","blocked"],e=b.endpoint_record;if(e&&d.indexOf(e.state)>-1)return c=i[e.state],'<f-icon class="'+c.class+'"></f-icon><span>'+a.getInfo(c.lang_key)+"</span>"}),vulnerabilities:new f(a.getInfo("Vulnerabilities"),function(a){var b=a.endpoint_record&&a.endpoint_record.vulnerabilities;if(b&&b.vuln_count)return c.util.formatters.vulnerability_number_bubbles(b)}),host_name:new f(a.getInfo("host_name"),function(a){if(a.host&&a.host.name&&a.alias)return a.host.name}),server:new f(a.getInfo("Server"),function(a){return c.util.formatters.server_format_fn(null,{selector:"server"},a)}),mac:new f(a.getInfo("mac_address")),master_mac:new f(a.getInfo("Primary MAC Address"),function(a){var b=a.master_mac,c=a.mac;if(b&&b!==c)return b}),other_macs:new f(a.getInfo("Other MAC Addresses"),function(a){if(a.other_macs&&a.other_macs.length)return a.other_macs.map(function(a){return"<div>"+a.mac+"</div>"}).join("\n")}),addr6:new f(a.getInfo("address6")),interface:new f(a.getInfo("Interface"),function(a){if(!a.online_interfaces&&a.interface){var b=this.getSourceMetaData("devices");return Omniselect.formatEntry(b.mapping[a.interface],"firewallInterfaces")}}),online_interfaces:new f(a.getInfo("Online Interfaces"),function(a){if(a.online_interfaces){var c=this.getSourceMetaData("devices");return b.nColumnListFormat(a.online_interfaces,2,function(a){return Omniselect.formatEntry(c.mapping[a],"firewallInterfaces")})}}),last_seen:new f(a.getInfo("last_seen"),function(a){var b;if(!a.is_online&&a.last_seen)return b=(new Date).getTime(),c.util.datetime.getLocalDate(b-1e3*a.last_seen)}),os:new f(a.getInfo("os"),function(a){var b;return a.os&&(b=a.os.name,a.os.version&&(b+=" / "+a.os.version)),
b}),collected_email:new f(a.getInfo("collected_email")),domain:new f(a.getInfo("domain")),avatar:new f(a.getInfo("Device Avatar"),function(a){var b=a.master?a.master.avatar:a.avatar;if(b&&!a._from_csf)return'<img src="'+b+'"></img>'}),tags:new f(a.getInfo("Asset Tags"),b.createMembersTooltipFormatter("tags")),comment:new f(a.getInfo("comment"),b.createEscapedTooltipFormatter("comment"))},tooltipNameLabel:a.getInfo("Device")};return Omniselect.prototype.SOURCES["user.device"]=a.extend({},m,{name:a.getInfo("Custom Device"),data:function(b,c){var d=[l(c),k(c)];return a.when.apply(a,d).then(function(b,c){return b.list.forEach(function(d,f){var g=c.map[d.mac];g&&(e(g),d=a.extend(g,d),b.list[f]=d),d.name=d.alias}),b.list})},createNew:!0}),Omniselect.prototype.SOURCES.detectedDevices=a.extend(!0,{},m,{name:a.getInfo("Detected Devices"),data:function(b,c){var d=[k(c),l(c)];return a.when.apply(a,d).then(function(b,c){return b.list.forEach(function(b){var d=c.mac_map[b.mac];e(b),d&&a.extend(b,d),b.q_origin_key=b.mac,b.datasource="devices"}),b.list})}}),h}),fweb_define("mutable_setup",["ftnt_shared","fweb","jquery"],null,function(a,b,c){"use strict";var d={cellFormatter:function(a,c){var d,e=a[c.id];return e&&(d=b.util.dom.elem("span",{className:"tooltip-hint",textContent:e}),Tooltip.addToElement(d,b.util.dom.elem("span",{textContent:e,style:{"word-wrap":"break-word"}}))),d}};MuTable.ID_PROCESSOR=function(a){var c=b.util.uri.urlParams();return c.vdom&&(a+="#"+c.vdom),a},MuTable.STANDARD_COLUMNS={comment:d,comments:d,cmdbReferences:{langKey:"ref",type:"number",numberType:"custom",cellValueFunction:function(a){return a.q_ref},cellFormatter:function(a){return b.util.dom.elem("a",{href:"#",textContent:a.q_ref},{events:{click:function(c){var d=[a.q_type],e=a.q_origin_key,f=a.vdom;Array.isArray(a.q_type_extra)&&(d=d.concat(a.q_type_extra)),b.util.structure.topPostMessage({messageType:"showObjectUsage",qTypes:d,mkey:e,vdom:f}),c.preventDefault()}}})}}},MuTable.DEFAULT_REORDER_FUNCTION=function(a){var d,e=a.entry.q_origin_key,f=a.entry.q_path,g=a.entry.q_name,h=Object.create(null);return null==e||null==f||null==g?(b.log.error("Default reorder functionality failed due to missing CMDB properties"),Promise.reject()):(h.action="move",a.beforeEntry?h.before=a.beforeEntry.q_origin_key:h.after=a.afterEntry.q_origin_key,d="/api/v2/cmdb/"+f+"/"+g+"/"+e+"?"+b.util.uri.formatParams(h),c.ajax({url:d,method:"PUT"}))},MuTable.DEFAULT_SEQUENCE_GROUPING_VALUE_FUNCTION=function(a){return a["global-label"]||""},MuTable.DEFAULT_EDIT_SEQUENCE_GROUPING_VALUE=function(a,d){var e,f,g=a.q_origin_key,h=a.q_path,i=a.q_name;return null==g||null==h||null==i?(b.log.error("Default sequence grouping functionality failed due to missing CMDB properties"),Promise.reject()):(a["global-label"]=d,f={"global-label":d},e="/api/v2/cmdb/"+h+"/"+i+"/"+g,c.ajax({url:e,method:"PUT",data:JSON.stringify(f)}))}}),fweb_define("slide_setup",["fweb"],null,function(a){"use strict";var b=top===window;if(!Sliderin.configured){!b&&top.Sliderin&&a.log.error("Configuring Sliderin from non-top window, this should never happen. IE is going to freak out.");var c=/^\/ng\//;Sliderin.sameOriginIframeManipulation=function(a,b){var d,e,f,g,h,i=!1;if(b)return f=b.getElementsByClassName("title-bar"),f.length&&(d=f[0],h=d.getElementsByTagName("h1"),h.length&&(d=h[0],e=d.innerHTML,d.parentElement.removeChild(d),i=!0)),i||(g=b.getElementsByClassName("qlist-view-container"),g.length&&(i=!0)),i||c.test(b.location.pathname)||(h=b.getElementsByTagName("h1"),h.length&&(d=h[0],e=d.innerHTML,d.parentElement.removeChild(d),i=!0)),i&&!e&&(e=b.title),(e||i)&&a.fweb.util.browser&&a.fweb.util.browser.startResponsiveListener(),e||i},Sliderin.configured=!0,Sliderin.DEFAULT_SLIDE_OPEN_CALLBACK=a.util.structure.closeResponsiveMenu}}),function(a,b){"use strict";var c=window.fweb_define&&window.fweb_define.DEFINITIONS;if("function"!=typeof window.fweb_define||c){var d,e=Object.create(null),f=Object.create(null),g="function"==typeof a&&a.amd,h=function(a,b){Array.isArray(b)||(b=[b]),b.forEach(function(b){f[b]?f[b].push(a):f[b]=[a]})},i=function(){var a={},b=i.define_it=function(a){var b=c[a];d(a,b.dependencies,b.export_path,b.definition)};for(var f in c)f in a||f in e||(a[f]=!0,b(f));c=null,i.define_it=null};d=window.fweb_define=function(b,c,d,f){var j,k,l=function(){var a=f.apply(null,arguments);return e[b]=a||null,g||h(b,c),a&&k&&j&&(k[j]=a),a};if(d&&d.split(".").forEach(function(a){k=k&&j?k[j]=k[j]||{}:window,j=a}),void 0!==e[b])throw new Error('fweb_define: "'+b+'" is already defined');if(d&&k[j])throw new Error('fweb_define: object "'+d+'" already exists');g||(a=function(a,b,c){var d;b&&(d=b.map(function(b){var c=e[b],d=i&&i.define_it;if(void 0===c&&("function"==typeof d&&(d(b),c=e[b]),void 0===c))throw new Error('fweb_define: "'+b+'" is not defined(required by '+a+")");return c})),c.apply(null,d)}),a(b,c||[],l)},c&&i(d),window.fweb_require=function(){function a(a,b){return!b&&"string"==typeof a&&e[a]}function b(a,b){function c(a){return e[a]}if("string"==typeof a&&!b)return e[a];if(!Array.isArray(a)||"function"!=typeof b)throw new Error("Invalid arguments to fweb_require");b.apply(null,a.map(c))}var c=window.require;c&&g||(c=b);var d=a.apply(null,arguments);return d?d:c!==b&&(d=c.apply(arguments))?d:c.apply(null,arguments)},d.DEFINED=e,d.LOADED_BY=f,g&&(b.onResourceLoad=function(a,b,c){var d=b.name||b.originalName;e[d]=a.defined[d]||null,c&&c.forEach(function(a){h(d,a.name||a.originalName)})})}}(window.define,window.requirejs),fweb_define("jquery.textarea",["jquery"],null,function(a){"use strict";a.fn.textarea=function(b){var c=a.extend({},a.fn.textarea.defaults,b);return this.each(function(){function b(){function a(){var a=parseFloat(e.css("line-height"));isNaN(a)&&(a=1.2*parseFloat(e.css("font-size")));var b=e.attr("rows")||e.prop("rows");""===e.val()&&(b=1);var c="border-box"===e.css("box-sizing")?e.outerHeight()-e.height():0;e.css("height",b*a+c)}if(e.is(":visible")){for(var b=e[0];b.rows>i&&b.scrollHeight<b.offsetHeight;)b.rows--,a();for(;b.value.length>b.rows&&b.scrollHeight>b.offsetHeight;)b.rows++,a();c.expandable.extraLine&&b.rows++,a()}}function d(){function b(){var a=e[0],b=a.value.getBytesCRLF(!0);if(b>c.maxLength){for(var d=a.value.substr(0,c.maxLength);d.getBytesCRLF(!0)>c.maxLength&&d.length>0;)d=d.slice(0,-1);var f={start:a.selectionStart,end:a.selectionEnd};a.value=d,a.selectionStart=f.start,a.selectionEnd=f.end,c.textCount.onlimit(this)}var g={$textarea:e,byteLength:b,maxLength:c.maxLength};c.textCount.onedit(g),e.scrollTop(a.scrollHeight)}a("<span></span>").addClass("ui-textarea-elem-text-count").insertAfter(e),e.keyup(function(){b()}),e.on("input paste cut",function(){setTimeout(b,250)}),b()}if("textarea"!==this.type)return!1;var e=a(this),f=!1;a.extend(c,{resize:b});var g=e.data("jquery.textarea");if(c.maxLength=c.maxLength||parseInt(e.attr("maxlength"))||-1,!g||g.maxLength!==c.maxLength){var h=e.next(".ui-textarea-elem-text-count");c.textCount.use&&c.maxLength>0?h.length||(f=!0):h.remove()}if(g)g.maxLength=c.maxLength,g.resize&&g.resize();else{e.data("jquery.textarea",c);var i=c.expandable.minRows;if(i||(i=parseInt(e.attr("rows"))||1),c.wrap!==!1){var j=a("<div></div>").addClass("textarea-wrapper").css({position:"relative"});e.wrap(j)}c.expandable.use&&(e.css("overflow","hidden"),e.keyup(function(){b()}),e.on("input paste cut",function(){setTimeout(b,250)}),b())}f&&(d(),b())})},a.fn.textarea.defaults={textCount:{use:!0,onedit:function(a){a.$textarea.siblings(".ui-textarea-elem-text-count").text(a.byteLength+"/"+a.maxLength)},onlimit:function(){}},expandable:{use:!0,extraLine:!1}}}),fweb_define("jquery.validate",["jquery"],null,function(){var a=void 0;!function(b){"function"==typeof a&&a.amd?a(["jquery"],b):b(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d,e;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){9===b.which&&""===this.elementValue(a)||(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",b).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in c||!b.objectLength(a(this).rules()))&&(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?a("input[name='"+b.name+"']:checked").val():"number"===e&&"undefined"!=typeof b.validity?!b.validity.badInput&&d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",a),a}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),i?i.match(new RegExp("\\b"+f+"\\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{boolean:function(a){return a},string:function(b,c){return!!a(b,c.form).length},function:function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})})}),fweb_define("jquery.qtip",["jquery"],null,function(){var a=void 0;!function(b,c,d){!function(b){"use strict";"function"==typeof a&&a.amd?a(["jquery"],b):jQuery&&!jQuery.fn.qtip&&b(jQuery)}(function(a){"use strict";function e(b,c,d,e){this.id=d,this.target=b,this.tooltip=A,this.elements={target:b},this._id=N+"-"+d,this.timers={img:{}},this.options=c,this.plugins={},this.cache={event:{},target:a(),disabled:z,attr:e,onTooltip:z,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=z}function f(b){return b===A||"object"!==a.type(b)}function g(b){return!(a.isFunction(b)||b&&b.attr||b.length||"object"===a.type(b)&&(b.jquery||b.then))}function h(b){var c,d,e,h;return f(b)?z:(f(b.metadata)&&(b.metadata={type:b.metadata}),"content"in b&&(c=b.content,f(c)||c.jquery||c.done?c=b.content={text:d=g(c)?z:c}:d=c.text,"ajax"in c&&(e=c.ajax,h=e&&e.once!==z,delete c.ajax,c.text=function(b,c){var f=d||a(this).attr(c.options.content.attr)||"Loading...",g=a.ajax(a.extend({},e,{context:c})).then(e.success,A,e.error).then(function(a){return a&&h&&c.set("content.text",a),a},function(a,b,d){c.destroyed||0===a.status||c.set("content.text",b+": "+d)});return h?f:(c.set("content.text",f),g)}),"title"in c&&(f(c.title)||(c.button=c.title.button,c.title=c.title.text),g(c.title||z)&&(c.title=z))),"position"in b&&f(b.position)&&(b.position={my:b.position,at:b.position}),"show"in b&&f(b.show)&&(b.show=b.show.jquery?{target:b.show}:b.show===y?{ready:y}:{event:b.show}),"hide"in b&&f(b.hide)&&(b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide}),"style"in b&&f(b.style)&&(b.style={classes:b.style}),a.each(M,function(){this.sanitize&&this.sanitize(b)}),b)}function i(a,b){for(var c,d=0,e=a,f=b.split(".");e=e[f[d++]];)d<f.length&&(c=e);return[c||a,f.pop()]}function j(a,b){var c,d,e;for(c in this.checks)for(d in this.checks[c])(e=new RegExp(d,"i").exec(a))&&(b.push(e),("builtin"===c||this.plugins[c])&&this.checks[c][d].apply(this.plugins[c]||this,b))}function k(a){return Q.concat("").join(a?"-"+a+" ":" ")}function l(a){return a&&{type:a.type,pageX:a.pageX,pageY:a.pageY,target:a.target,relatedTarget:a.relatedTarget,scrollX:a.scrollX||b.pageXOffset||c.body.scrollLeft||c.documentElement.scrollLeft,scrollY:a.scrollY||b.pageYOffset||c.body.scrollTop||c.documentElement.scrollTop}||{}}function m(b,c){return c>0?setTimeout(a.proxy(b,this),c):void b.call(this)}function n(a){return this.tooltip.hasClass(X)?z:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=m.call(this,function(){this.toggle(y,a)},this.options.show.delay)))}function o(b){if(this.tooltip.hasClass(X))return z;var c=a(b.relatedTarget),d=c.closest(R)[0]===this.tooltip[0],e=c[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==c[0]&&"mouse"===this.options.position.target&&d||this.options.hide.fixed&&/mouse(out|leave|move)/.test(b.type)&&(d||e))try{
b.preventDefault(),b.stopImmediatePropagation()}catch(a){}else this.timers.hide=m.call(this,function(){this.toggle(z,b)},this.options.hide.delay,this)}function p(a){return this.tooltip.hasClass(X)||!this.options.hide.inactive?z:(clearTimeout(this.timers.inactive),void(this.timers.inactive=m.call(this,function(){this.hide(a)},this.options.hide.inactive)))}function q(a){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(a)}function r(b,d,e){a(c.body).delegate(b,(d.split?d:d.join(ca+" "))+ca,function(){var b=t.api[a.attr(this,P)];b&&!b.disabled&&e.apply(b,arguments)})}function s(b,d,f){var g,i,j,k,l,m=a(c.body),n=b[0]===c?m:b,o=b.metadata?b.metadata(f.metadata):A,p="html5"===f.metadata.type&&o?o[f.metadata.name]:A,q=b.data(f.metadata.name||"qtipopts");try{q="string"==typeof q?a.parseJSON(q):q}catch(a){}if(k=a.extend(y,{},t.defaults,f,"object"==typeof q?h(q):A,h(p||o)),i=k.position,k.id=d,"boolean"==typeof k.content.text){if(j=b.attr(k.content.attr),k.content.attr===z||!j)return z;k.content.text=j}if(i.container.length||(i.container=m),i.target===z&&(i.target=n),k.show.target===z&&(k.show.target=n),k.show.solo===y&&(k.show.solo=i.container.closest("body")),k.hide.target===z&&(k.hide.target=n),k.position.viewport===y&&(k.position.viewport=i.container),i.container=i.container.eq(0),i.at=new v(i.at,y),i.my=new v(i.my),b.data(N))if(k.overwrite)b.qtip("destroy",!0);else if(k.overwrite===z)return z;return b.attr(O,d),k.suppress&&(l=b.attr("title"))&&b.removeAttr("title").attr(Z,l).attr("title",""),g=new e(b,k,d,!!j),b.data(N,g),b.one("remove.qtip-"+d+" removeqtip.qtip-"+d,function(){var b;(b=a(this).data(N))&&b.destroy(!0)}),g}var t,u,v,w,x,y=!0,z=!1,A=null,B="x",C="y",D="width",E="height",F="top",G="left",H="bottom",I="right",J="center",K="flipinvert",L="shift",M={},N="qtip",O="data-hasqtip",P="data-qtip-id",Q=["ui-widget","ui-tooltip"],R="."+N,S="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),T=N+"-fixed",U=N+"-default",V=N+"-focus",W=N+"-hover",X=N+"-disabled",Y="_replacedByqTip",Z="oldtitle",$={ie:function(){for(var a=3,b=c.createElement("div");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&b.getElementsByTagName("i")[0];);return a>4?a:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||z};u=e.prototype,u._when=function(b){return a.when.apply(a,b)},u.render=function(b){if(this.rendered||this.destroyed)return this;var c,d=this,e=this.options,f=this.cache,g=this.elements,h=e.content.text,i=e.content.title,j=e.content.button,k=e.position,l=("."+this._id+" ",[]);return a.attr(this.target[0],"aria-describedby",this._id),this.tooltip=g.tooltip=c=a("<div/>",{id:this._id,class:[N,U,e.style.classes,N+"-pos-"+e.position.my.abbrev()].join(" "),width:e.style.width||"",height:e.style.height||"",tracking:"mouse"===k.target&&k.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":z,"aria-describedby":this._id+"-content","aria-hidden":y}).toggleClass(X,this.disabled).attr(P,this.id).data(N,this).appendTo(k.container).append(g.content=a("<div />",{class:N+"-content",id:this._id+"-content","aria-atomic":y})),this.rendered=-1,this.positioning=y,i&&(this._createTitle(),a.isFunction(i)||l.push(this._updateTitle(i,z))),j&&this._createButton(),a.isFunction(h)||l.push(this._updateContent(h,z)),this.rendered=y,this._setWidget(),a.each(M,function(a){var b;"render"===this.initialize&&(b=this(d))&&(d.plugins[a]=b)}),this._unassignEvents(),this._assignEvents(),this._when(l).then(function(){d._trigger("render"),d.positioning=z,d.hiddenDuringWait||!e.show.ready&&!b||d.toggle(y,f.event,z),d.hiddenDuringWait=z}),t.api[this.id]=this,this},u.destroy=function(b){function c(){if(!this.destroyed){this.destroyed=y;var b=this.target,c=b.attr(Z);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),a.each(this.plugins,function(a){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),b.removeData(N).removeAttr(P).removeAttr(O).removeAttr("aria-describedby"),this.options.suppress&&c&&b.attr("title",c).removeAttr(Z),this._unbind(b),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=A,delete t.api[this.id]}}return this.destroyed?this.target:(b===y&&"hide"!==this.triggering||!this.rendered?c.call(this):(this.tooltip.one("tooltiphidden",a.proxy(c,this)),!this.triggering&&this.hide()),this.target)},w=u.checks={builtin:{"^id$":function(b,c,d,e){var f=d===y?t.nextid:d,g=N+"-"+f;f!==z&&f.length>0&&!a("#"+g).length?(this._id=g,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):b[c]=e},"^prerender":function(a,b,c){c&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(a,b,c){this._updateContent(c)},"^content.attr$":function(a,b,c,d){this.options.content.text===this.target.attr(d)&&this._updateContent(this.target.attr(c))},"^content.title$":function(a,b,c){return c?(c&&!this.elements.title&&this._createTitle(),void this._updateTitle(c)):this._removeTitle()},"^content.button$":function(a,b,c){this._updateButton(c)},"^content.title.(text|button)$":function(a,b,c){this.set("content."+b,c)},"^position.(my|at)$":function(a,b,c){"string"==typeof c&&(a[b]=new v(c,"at"===b))},"^position.container$":function(a,b,c){this.rendered&&this.tooltip.appendTo(c)},"^show.ready$":function(a,b,c){c&&(!this.rendered&&this.render(y)||this.toggle(y))},"^style.classes$":function(a,b,c,d){this.rendered&&this.tooltip.removeClass(d).addClass(c)},"^style.(width|height)":function(a,b,c){this.rendered&&this.tooltip.css(b,c)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(a,b,c){this.rendered&&this.tooltip.toggleClass(U,!!c)},"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){this.rendered&&this.tooltip[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var a=this.options.position;this.tooltip.attr("tracking","mouse"===a.target&&a.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},u.get=function(a){if(this.destroyed)return this;var b=i(this.options,a.toLowerCase()),c=b[0][b[1]];return c.precedance?c.string():c};var _=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,aa=/^prerender|show\.ready/i;u.set=function(b,c){if(this.destroyed)return this;var d,e=this.rendered,f=z,g=this.options;this.checks;return"string"==typeof b?(d=b,b={},b[d]=c):b=a.extend({},b),a.each(b,function(c,d){if(e&&aa.test(c))return void delete b[c];var h,j=i(g,c.toLowerCase());h=j[0][j[1]],j[0][j[1]]=d&&d.nodeType?a(d):d,f=_.test(c)||f,b[c]=[j[0],j[1],d,h]}),h(g),this.positioning=y,a.each(b,a.proxy(j,this)),this.positioning=z,this.rendered&&this.tooltip[0].offsetWidth>0&&f&&this.reposition("mouse"===g.position.target?A:this.cache.event),this},u._update=function(b,c,d){var e=this,f=this.cache;return this.rendered&&b?(a.isFunction(b)&&(b=b.call(this.elements.target,f.event,this)||""),a.isFunction(b.then)?(f.waiting=y,b.then(function(a){return f.waiting=z,e._update(a,c)},A,function(a){return e._update(a,c)})):b===z||!b&&""!==b?z:(b.jquery&&b.length>0?c.empty().append(b.css({display:"block",visibility:"visible"})):c.html(b),this._waitForContent(c).then(function(a){a.images&&a.images.length&&e.rendered&&e.tooltip[0].offsetWidth>0&&e.reposition(f.event,!a.length)}))):z},u._waitForContent=function(b){var c=this.cache;return c.waiting=y,(a.fn.imagesLoaded?b.imagesLoaded():a.Deferred().resolve([])).done(function(){c.waiting=z}).promise()},u._updateContent=function(a,b){this._update(a,this.elements.content,b)},u._updateTitle=function(a,b){this._update(a,this.elements.title,b)===z&&this._removeTitle(z)},u._createTitle=function(){var b=this.elements,c=this._id+"-title";b.titlebar&&this._removeTitle(),b.titlebar=a("<div />",{class:N+"-titlebar "+(this.options.style.widget?k("header"):"")}).append(b.title=a("<div />",{id:c,class:N+"-title","aria-atomic":y})).insertBefore(b.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus","down"===b.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(b){a(this).toggleClass("ui-state-hover","mouseover"===b.type)}),this.options.content.button&&this._createButton()},u._removeTitle=function(a){var b=this.elements;b.title&&(b.titlebar.remove(),b.titlebar=b.title=b.button=A,a!==z&&this.reposition())},u.reposition=function(d,e){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=y;var f,g,h=this.cache,i=this.tooltip,j=this.options.position,k=j.target,l=j.my,m=j.at,n=j.viewport,o=j.container,p=j.adjust,q=p.method.split(" "),r=i.outerWidth(z),s=i.outerHeight(z),t=0,u=0,v=i.css("position"),w={left:0,top:0},x=i[0].offsetWidth>0,A=d&&"scroll"===d.type,B=a(b),C=o[0].ownerDocument,D=this.mouse;if(a.isArray(k)&&2===k.length)m={x:G,y:F},w={left:k[0],top:k[1]};else if("mouse"===k)m={x:G,y:F},!D||!D.pageX||!p.mouse&&d&&d.pageX?d&&d.pageX||((!p.mouse||this.options.show.distance)&&h.origin&&h.origin.pageX?d=h.origin:d&&(!d||"resize"!==d.type&&"scroll"!==d.type)||(d=h.event)):d=D,"static"!==v&&(w=o.offset()),C.body.offsetWidth!==(b.innerWidth||C.documentElement.clientWidth)&&(g=a(c.body).offset()),w={left:d.pageX-w.left+(g&&g.left||0),top:d.pageY-w.top+(g&&g.top||0)},p.mouse&&A&&D&&(w.left-=(D.scrollX||0)-B.scrollLeft(),w.top-=(D.scrollY||0)-B.scrollTop());else{if("event"===k?d&&d.target&&"scroll"!==d.type&&"resize"!==d.type?h.target=a(d.target):d.target||(h.target=this.elements.target):"event"!==k&&(h.target=a(k.jquery?k:this.elements.target)),k=h.target,k=a(k).eq(0),0===k.length)return this;k[0]===c||k[0]===b?(t=$.iOS?b.innerWidth:k.width(),u=$.iOS?b.innerHeight:k.height(),k[0]===b&&(w={top:(n||k).scrollTop(),left:(n||k).scrollLeft()})):M.imagemap&&k.is("area")?f=M.imagemap(this,k,m,M.viewport?q:z):M.svg&&k&&k[0].ownerSVGElement?f=M.svg(this,k,m,M.viewport?q:z):(t=k.outerWidth(z),u=k.outerHeight(z),w=k.offset()),f&&(t=f.width,u=f.height,g=f.offset,w=f.position),w=this.reposition.offset(k,w,o),($.iOS>3.1&&$.iOS<4.1||$.iOS>=4.3&&$.iOS<4.33||!$.iOS&&"fixed"===v)&&(w.left-=B.scrollLeft(),w.top-=B.scrollTop()),(!f||f&&f.adjustable!==z)&&(w.left+=m.x===I?t:m.x===J?t/2:0,w.top+=m.y===H?u:m.y===J?u/2:0)}return w.left+=p.x+(l.x===I?-r:l.x===J?-r/2:0),w.top+=p.y+(l.y===H?-s:l.y===J?-s/2:0),M.viewport?(w.adjusted=M.viewport(this,w,j,t,u,r,s),g&&w.adjusted.left&&(w.left+=g.left),g&&w.adjusted.top&&(w.top+=g.top)):w.adjusted={left:0,top:0},this._trigger("move",[w,n.elem||n],d)?(delete w.adjusted,e===z||!x||isNaN(w.left)||isNaN(w.top)||"mouse"===k||!a.isFunction(j.effect)?i.css(w):a.isFunction(j.effect)&&(j.effect.call(i,this,a.extend({},w)),i.queue(function(b){a(this).css({opacity:"",height:""}),$.ie&&this.style.removeAttribute("filter"),b()})),this.positioning=z,this):this},u.reposition.offset=function(b,d,e){function f(a,b){d.left+=b*a.scrollLeft(),d.top+=b*a.scrollTop()}if(!e[0])return d;var g,h,i,j,k=a(b[0].ownerDocument),l=!!$.ie&&"CSS1Compat"!==c.compatMode,m=e[0];do"static"!==(h=a.css(m,"position"))&&("fixed"===h?(i=m.getBoundingClientRect(),f(k,-1)):(i=a(m).position(),i.left+=parseFloat(a.css(m,"borderLeftWidth"))||0,i.top+=parseFloat(a.css(m,"borderTopWidth"))||0),d.left-=i.left+(parseFloat(a.css(m,"marginLeft"))||0),d.top-=i.top+(parseFloat(a.css(m,"marginTop"))||0),g||"hidden"===(j=a.css(m,"overflow"))||"visible"===j||(g=a(m)));while(m=m.offsetParent);return g&&(g[0]!==k[0]||l)&&f(g,1),d};var ba=(v=u.reposition.Corner=function(a,b){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,J).toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!b;var c=a.charAt(0);this.precedance="t"===c||"b"===c?C:B}).prototype;ba.invert=function(a,b){this[a]=this[a]===G?I:this[a]===I?G:b||this[a]},ba.string=function(){var a=this.x,b=this.y;return a===b?a:this.precedance===C||this.forceY&&"center"!==b?b+" "+a:a+" "+b},ba.abbrev=function(){var a=this.string().split(" ");return a[0].charAt(0)+(a[1]&&a[1].charAt(0)||"")},ba.clone=function(){return new v(this.string(),this.forceY)},u.toggle=function(b,d){var e=this.cache,f=this.options,g=this.tooltip;if(d){if(/over|enter/.test(d.type)&&/out|leave/.test(e.event.type)&&f.show.target.add(d.target).length===f.show.target.length&&g.has(d.relatedTarget).length)return this;e.event=l(d)}if(this.waiting&&!b&&(this.hiddenDuringWait=y),!this.rendered)return b?this.render(1):this;if(this.destroyed||this.disabled)return this;var h,i,j,k=b?"show":"hide",m=this.options[k],n=(this.options[b?"hide":"show"],this.options.position),o=this.options.content,p=this.tooltip.css("width"),q=this.tooltip.is(":visible"),r=b||1===m.target.length,s=!d||m.target.length<2||e.target[0]===d.target;return(typeof b).search("boolean|number")&&(b=!q),h=!g.is(":animated")&&q===b&&s,i=h?A:!!this._trigger(k,[90]),this.destroyed?this:(i!==z&&b&&this.focus(d),!i||h?this:(a.attr(g[0],"aria-hidden",!b),b?(e.origin=l(this.mouse),a.isFunction(o.text)&&this._updateContent(o.text,z),a.isFunction(o.title)&&this._updateTitle(o.title,z),!x&&"mouse"===n.target&&n.adjust.mouse&&(a(c).bind("mousemove."+N,this._storeMouse),x=y),p||g.css("width",g.outerWidth(z)),this.reposition(d,arguments[2]),p||g.css("width",""),m.solo&&("string"==typeof m.solo?a(m.solo):a(R,m.solo)).not(g).not(m.target).qtip("hide",a.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete e.origin,x&&!a(R+'[tracking="true"]:visible',m.solo).not(g).length&&(a(c).unbind("mousemove."+N),x=z),this.blur(d)),j=a.proxy(function(){b?($.ie&&g[0].style.removeAttribute("filter"),g.css("overflow",""),"string"==typeof m.autofocus&&a(this.options.show.autofocus,g).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):g.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(b?"visible":"hidden")},this),m.effect===z||r===z?(g[k](),j()):a.isFunction(m.effect)?(g.stop(1,1),m.effect.call(g,this),g.queue("fx",function(a){j(),a()})):g.fadeTo(90,b?1:0,j),b&&m.target.trigger("qtip-"+this.id+"-inactive"),this))},u.show=function(a){return this.toggle(y,a)},u.hide=function(a){return this.toggle(z,a)},u.focus=function(b){if(!this.rendered||this.destroyed)return this;var c=a(R),d=this.tooltip,e=parseInt(d[0].style.zIndex,10),f=t.zindex+c.length;return d.hasClass(V)||this._trigger("focus",[f],b)&&(e!==f&&(c.each(function(){this.style.zIndex>e&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+V).qtip("blur",b)),d.addClass(V)[0].style.zIndex=f),this},u.blur=function(a){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(V),this._trigger("blur",[this.tooltip.css("zIndex")],a),this)},u.disable=function(a){return this.destroyed?this:("toggle"===a?a=!(this.rendered?this.tooltip.hasClass(X):this.disabled):"boolean"!=typeof a&&(a=y),this.rendered&&this.tooltip.toggleClass(X,a).attr("aria-disabled",a),this.disabled=!!a,this)},u.enable=function(){return this.disable(z)},u._createButton=function(){var b=this,c=this.elements,d=c.tooltip,e=this.options.content.button,f="string"==typeof e,g=f?e:"Close tooltip";c.button&&c.button.remove(),e.jquery?c.button=e:c.button=a("<a />",{class:"qtip-close "+(this.options.style.widget?"":N+"-icon"),title:g,"aria-label":g}).prepend(a("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),c.button.appendTo(c.titlebar||d).attr("role","button").click(function(a){return d.hasClass(X)||b.hide(a),z})},u._updateButton=function(a){if(!this.rendered)return z;var b=this.elements.button;a?this._createButton():b.remove()},u._setWidget=function(){var a=this.options.style.widget,b=this.elements,c=b.tooltip,d=c.hasClass(X);c.removeClass(X),X=a?"ui-state-disabled":"qtip-disabled",c.toggleClass(X,d),c.toggleClass("ui-helper-reset "+k(),a).toggleClass(U,this.options.style.def&&!a),b.content&&b.content.toggleClass(k("content"),a),b.titlebar&&b.titlebar.toggleClass(k("header"),a),b.button&&b.button.toggleClass(N+"-icon",!a)},u._storeMouse=function(a){(this.mouse=l(a)).type="mousemove"},u._bind=function(b,c,d,e,f){var g="."+this._id+(e?"-"+e:"");c.length&&a(b).bind((c.split?c:c.join(g+" "))+g,a.proxy(d,f||this))},u._unbind=function(b,c){a(b).unbind("."+this._id+(c?"-"+c:""))};var ca="."+N;a(function(){r(R,["mouseenter","mouseleave"],function(b){var c="mouseenter"===b.type,d=a(b.currentTarget),e=a(b.relatedTarget||b.target),f=this.options;c?(this.focus(b),d.hasClass(T)&&!d.hasClass(X)&&clearTimeout(this.timers.hide)):"mouse"===f.position.target&&f.hide.event&&f.show.target&&!e.closest(f.show.target[0]).length&&this.hide(b),d.toggleClass(W,c)}),r("["+P+"]",S,p)}),u._trigger=function(b,c,d){var e=a.Event("tooltip"+b);return e.originalEvent=d&&a.extend({},d)||this.cache.event||A,this.triggering=b,this.tooltip.trigger(e,[this].concat(c||[])),this.triggering=z,!e.isDefaultPrevented()},u._bindEvents=function(b,c,d,e,f,g){if(e.add(d).length===e.length){var h=[];c=a.map(c,function(c){var d=a.inArray(c,b);return d>-1?void h.push(b.splice(d,1)[0]):c}),h.length&&this._bind(d,h,function(a){var b=!!this.rendered&&this.tooltip[0].offsetWidth>0;(b?g:f).call(this,a)})}this._bind(d,b,f),this._bind(e,c,g)},u._assignInitialEvents=function(b){function c(b){return this.disabled||this.destroyed?z:(this.cache.event=l(b),this.cache.target=b?a(b.target):[d],clearTimeout(this.timers.show),void(this.timers.show=m.call(this,function(){this.render("object"==typeof b||e.show.ready)},e.show.delay)))}var e=this.options,f=e.show.target,g=e.hide.target,h=e.show.event?a.trim(""+e.show.event).split(" "):[],i=e.hide.event?a.trim(""+e.hide.event).split(" "):[];/mouse(over|enter)/i.test(e.show.event)&&!/mouse(out|leave)/i.test(e.hide.event)&&i.push("mouseleave"),this._bind(f,"mousemove",function(a){this._storeMouse(a),this.cache.onTarget=y}),this._bindEvents(h,i,f,g,c,function(){clearTimeout(this.timers.show)}),(e.show.ready||e.prerender)&&c.call(this,b)},u._assignEvents=function(){var d=this,e=this.options,f=e.position,g=this.tooltip,h=e.show.target,i=e.hide.target,j=f.container,k=f.viewport,l=a(c),m=(a(c.body),a(b)),r=e.show.event?a.trim(""+e.show.event).split(" "):[],s=e.hide.event?a.trim(""+e.hide.event).split(" "):[];a.each(e.events,function(a,b){d._bind(g,"toggle"===a?["tooltipshow","tooltiphide"]:["tooltip"+a],b,null,g)}),/mouse(out|leave)/i.test(e.hide.event)&&"window"===e.hide.leave&&this._bind(l,["mouseout","blur"],function(a){/select|option/.test(a.target.nodeName)||a.relatedTarget||this.hide(a)}),e.hide.fixed?i=i.add(g.addClass(T)):/mouse(over|enter)/i.test(e.show.event)&&this._bind(i,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+e.hide.event).indexOf("unfocus")>-1&&this._bind(j.closest("html"),["mousedown","touchstart"],function(b){var c=a(b.target),d=this.rendered&&!this.tooltip.hasClass(X)&&this.tooltip[0].offsetWidth>0,e=c.parents(R).filter(this.tooltip[0]).length>0;c[0]===this.target[0]||c[0]===this.tooltip[0]||e||this.target.has(c[0]).length||!d||this.hide(b)}),"number"==typeof e.hide.inactive&&(this._bind(h,"qtip-"+this.id+"-inactive",p),this._bind(i.add(g),t.inactiveEvents,p,"-inactive")),this._bindEvents(r,s,h,i,n,o),this._bind(h.add(g),"mousemove",function(a){if("number"==typeof e.hide.distance){var b=this.cache.origin||{},c=this.options.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&this.hide(a)}this._storeMouse(a)}),"mouse"===f.target&&f.adjust.mouse&&(e.hide.event&&this._bind(h,["mouseenter","mouseleave"],function(a){this.cache.onTarget="mouseenter"===a.type}),this._bind(l,"mousemove",function(a){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(X)&&this.tooltip[0].offsetWidth>0&&this.reposition(a)})),(f.adjust.resize||k.length)&&this._bind(a.event.special.resize?k:m,"resize",q),f.adjust.scroll&&this._bind(m.add(f.container),"scroll",q)},u._unassignEvents=function(){var d=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],b,c];this._unbind(a([]).pushStack(a.grep(d,function(a){return"object"==typeof a})))},t=a.fn.qtip=function(b,c,e){var f=(""+b).toLowerCase(),g=A,i=a.makeArray(arguments).slice(1),j=i[i.length-1],k=this[0]?a.data(this[0],N):A;return!arguments.length&&k||"api"===f?k:"string"==typeof b?(this.each(function(){var b=a.data(this,N);if(!b)return y;if(j&&j.timeStamp&&(b.cache.event=j),!c||"option"!==f&&"options"!==f)b[f]&&b[f].apply(b,i);else{if(e===d&&!a.isPlainObject(c))return g=b.get(c),z;b.set(c,e)}}),g!==A?g:this):"object"!=typeof b&&arguments.length?void 0:(k=h(a.extend(y,{},b)),this.each(function(b){var c,d;return d=a.isArray(k.id)?k.id[b]:k.id,d=!d||d===z||d.length<1||t.api[d]?t.nextid++:d,c=s(a(this),d,k),c===z?y:(t.api[d]=c,a.each(M,function(){"initialize"===this.initialize&&this(c)}),void c._assignInitialEvents(j))}))},a.qtip=e,t.api={},a.each({attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e&&f&&"object"==typeof f&&f.options.suppress)return arguments.length<2?a.attr(d,Z):(f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c),this.attr(Z,c))}return a.fn["attr"+Y].apply(this,arguments)},clone:function(b){var c=(a([]),a.fn["clone"+Y].apply(this,arguments));return b||c.filter("["+Z+"]").attr("title",function(){return a.attr(this,Z)}).removeAttr(Z),c}},function(b,c){if(!c||a.fn[b+Y])return y;var d=a.fn[b+Y]=a.fn[b];a.fn[b]=function(){return c.apply(this,arguments)||d.apply(this,arguments)}}),a.ui||(a["cleanData"+Y]=a.cleanData,a.cleanData=function(b){for(var c,d=0;(c=a(b[d])).length;d++)if(c.attr(O))try{c.triggerHandler("removeqtip")}catch(a){}a["cleanData"+Y].apply(this,arguments)}),t.version="2.2.0",t.nextid=0,t.inactiveEvents=S,t.zindex=15e3,t.defaults={prerender:z,id:z,overwrite:y,suppress:y,content:{text:y,attr:"title",title:z,button:z},position:{my:"top left",at:"bottom right",target:z,container:z,viewport:z,adjust:{x:0,y:0,mouse:y,scroll:y,resize:y,method:"flipinvert flipinvert"},effect:function(b,c,d){a(this).animate(c,{duration:200,queue:z})}},show:{target:z,event:"mouseenter",effect:y,delay:90,solo:z,ready:z,autofocus:z},hide:{target:z,event:"mouseleave",effect:y,delay:0,fixed:z,inactive:z,leave:"window",distance:z},style:{classes:"",widget:z,width:z,height:z,def:y},events:{render:A,move:A,show:A,hide:A,toggle:A,visible:A,hidden:A,focus:A,blur:A}},M.viewport=function(a,d,e,f,g,h,i){function j(a,b,c,e,f,g,h,i,j){var k=d[f],m=v[a],t=w[a],u=c===L,x=m===f?j:m===g?-j:-j/2,y=t===f?i:t===g?-i:-i/2,z=r[f]+s[f]-(o?0:n[f]),A=z-k,B=k+j-(h===D?p:q)-z,C=x-(v.precedance===a||m===v[b]?y:0)-(t===J?i/2:0);return u?(C=(m===f?1:-1)*x,d[f]+=A>0?A:B>0?-B:0,d[f]=Math.max(-n[f]+s[f],k-C,Math.min(Math.max(-n[f]+s[f]+(h===D?p:q),k+C),d[f],"center"===m?k-x:1e9))):(e*=c===K?2:0,A>0&&(m!==f||B>0)?(d[f]-=C+e,l.invert(a,f)):B>0&&(m!==g||A>0)&&(d[f]-=(m===J?-C:C)+e,l.invert(a,g)),d[f]<r&&-d[f]>B&&(d[f]=k,l=v.clone())),d[f]-k}var k,l,m,n,o,p,q,r,s,t=e.target,u=a.elements.tooltip,v=e.my,w=e.at,x=e.adjust,y=x.method.split(" "),A=y[0],M=y[1]||y[0],O=e.viewport,P=e.container,Q=a.cache,R={left:0,top:0};return O.jquery&&t[0]!==b&&t[0]!==c.body&&"none"!==x.method?(n=P.offset()||R,o="static"===P.css("position"),k="fixed"===u.css("position"),p=O[0]===b?O.width():O.outerWidth(z),q=O[0]===b?O.height():O.outerHeight(z),r={left:k?0:O.scrollLeft(),top:k?0:O.scrollTop()},s=O.offset()||R,"shift"===A&&"shift"===M||(l=v.clone()),R={left:"none"!==A?j(B,C,A,x.x,G,I,D,f,h):0,top:"none"!==M?j(C,B,M,x.y,F,H,E,g,i):0},l&&Q.lastClass!==(m=N+"-pos-"+l.abbrev())&&u.removeClass(a.cache.lastClass).addClass(a.cache.lastClass=m),R):R}})}(window,document),function(a){"use strict";var b=function(a,b,c){var d=b[c]=function(){return fweb.log.warn("qtip is deprecated, use $.ftip instead"),a.apply(this,arguments)};Object.assign(d,a)};b(a.qtip,a,"qtip"),b(a.fn.qtip,a.fn,"qtip")}(jQuery)}),fweb_define("jquery.resize",["jquery"],null,function(){!function(a,b,c){"$:nomunge";function d(){e=b[h](function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,j);return e?void(c===e.w&&d===e.h||b.trigger(i,[e.w=c,e.h=d])):void f.splice(a.inArray(this,f),1)}),d()},g[k])}var e,f=a([]),g=a.resize=a.extend(a.resize,{}),h="setTimeout",i="resize",j=i+"-special-event",k="delay",l="throttleWindow";g[k]=250,g[l]=!0,a.event.special[i]={setup:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.add(b),a.data(this,j,{w:b.width(),h:b.height()}),1===f.length&&d()},teardown:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.not(b),b.removeData(j),f.length||clearTimeout(e)},add:function(b){function d(b,d,f){var g=a(this),h=a.data(this,j);h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[l]&&this[h])return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}},a.event.special.windowResize={add:function(a){var b=this;jQuery._data(b);b.addEventListener?b.addEventListener("resize",a.handler,!1):b.attachEvent&&b.attachEvent("onresize",a.handler)}}}(jQuery,this)}),fweb_define("jquery.form",["jquery"],null,function(){if(function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData,a.fn.ajaxSubmit=function(b){function c(b){var c,d,e=a.param(b).split("&"),f=e.length,g={};for(c=0;c<f;c++)d=e[c].split("="),g[decodeURIComponent(d[0])]=decodeURIComponent(d[1]);return g}function f(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(var i in g)g.hasOwnProperty(i)&&e.append(i,g[i])}b.data=null;var j=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:h||"POST"});b.uploadProgress&&(j.xhr=function(){var a=jQuery.ajaxSettings.xhr();return a.upload&&(a.upload.onprogress=function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)}),a}),j.data=null;var k=j.beforeSend;return j.beforeSend=function(a,b){b.data=e,k&&k.call(this,a,b)},a.ajax(j)}function g(c){function e(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function f(){function b(){try{var a=e(q).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(a){d("Server abort: ",a," (",a.name,")"),g(A),v&&clearTimeout(v),v=void 0}}var c=k.attr("target"),f=k.attr("action");w.setAttribute("target",n),h||w.setAttribute("method","POST"),f!=l.url&&w.setAttribute("action",l.url),l.skipEncodingOverride||h&&!/post/i.test(h)||k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(v=setTimeout(function(){u=!0,g(z)},l.timeout));var i=[];try{if(l.extraData)for(var j in l.extraData)l.extraData.hasOwnProperty(j)&&(a.isPlainObject(l.extraData[j])&&l.extraData[j].hasOwnProperty("name")&&l.extraData[j].hasOwnProperty("value")?i.push(a('<input type="hidden" name="'+l.extraData[j].name+'">').attr("value",l.extraData[j].value).appendTo(w)[0]):i.push(a('<input type="hidden" name="'+j+'">').attr("value",l.extraData[j]).appendTo(w)[0]));l.iframeTarget||(p.appendTo("body"),q.attachEvent?q.attachEvent("onload",g):q.addEventListener("load",g,!1)),setTimeout(b,15),w.submit()}finally{w.setAttribute("action",f),c?w.setAttribute("target",c):k.removeAttr("target"),a(i).remove()}}function g(b){if(!r.aborted&&!F){try{E=e(q)}catch(a){d("cannot access response document: ",a),b=A}if(b===z&&r)return r.abort("timeout"),void y.reject(r,"timeout");if(b==A&&r)return r.abort("server abort"),void y.reject(r,"error","server abort");if(E&&E.location.href!=l.iframeSrc||u){q.detachEvent?q.detachEvent("onload",g):q.removeEventListener("load",g,!1);var c,f="success";try{if(u)throw"timeout";var h="xml"==l.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+h),!h&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),void setTimeout(g,250);var i=E.body?E.body:E.documentElement;r.responseText=i?i.innerHTML:null,r.responseXML=E.XMLDocument?E.XMLDocument:E,h&&(l.dataType="xml"),r.getResponseHeader=function(a){var b={"content-type":l.dataType};return b[a]},i&&(r.status=Number(i.getAttribute("status"))||r.status,r.statusText=i.getAttribute("statusText")||r.statusText);var j=(l.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||l.textarea){var n=E.getElementsByTagName("textarea")[0];if(n)r.responseText=n.value,r.status=Number(n.getAttribute("status"))||r.status,r.statusText=n.getAttribute("statusText")||r.statusText;else if(k){var o=E.getElementsByTagName("pre")[0],s=E.getElementsByTagName("body")[0];o?r.responseText=o.textContent?o.textContent:o.innerText:s&&(r.responseText=s.textContent?s.textContent:s.innerText)}}else"xml"==j&&!r.responseXML&&r.responseText&&(r.responseXML=H(r.responseText));try{D=J(r,j,l)}catch(a){f="parsererror",r.error=c=a||f}}catch(a){d("error caught: ",a),f="error",r.error=c=a||f}r.aborted&&(d("upload aborted"),f=null),r.status&&(f=r.status>=200&&r.status<300||304===r.status?"success":"error"),"success"===f?(l.success&&l.success.call(l.context,D,"success",r),y.resolve(r.responseText,"success",r),m&&a.event.trigger("ajaxSuccess",[r,l])):f&&(void 0===c&&(c=r.statusText),l.error&&l.error.call(l.context,r,f,c),y.reject(r,"error",c),m&&a.event.trigger("ajaxError",[r,l,c])),m&&a.event.trigger("ajaxComplete",[r,l]),m&&!--a.active&&a.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,r,f),F=!0,l.timeout&&clearTimeout(v),setTimeout(function(){l.iframeTarget||p.remove(),r.responseXML=null},100)}}}var i,j,l,m,n,p,q,r,s,t,u,v,w=k[0],x=!!a.fn.prop,y=a.Deferred();if(a(":input[name=submit],:input[id=submit]",w).length)return alert('Error: Form elements must not have name or id of "submit".'),y.reject(),y;if(c)for(j=0;j<o.length;j++)i=a(o[j]),x?i.prop("disabled",!1):i.removeAttr("disabled");if(l=a.extend(!0,{},a.ajaxSettings,b),l.context=l.context||l,n="jqFormIO"+(new Date).getTime(),l.iframeTarget?(p=a(l.iframeTarget),t=p.attr("name"),t?n=t:p.attr("name",n)):(p=a('<iframe name="'+n+'" src="'+l.iframeSrc+'" />'),p.css({position:"absolute",top:"-1000px",left:"-1000px"})),q=p[0],r={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";if(d("aborting upload... "+c),this.aborted=1,q.contentWindow.document.execCommand)try{q.contentWindow.document.execCommand("Stop")}catch(a){}p.attr("src",l.iframeSrc),r.error=c,l.error&&l.error.call(l.context,r,c,b),m&&a.event.trigger("ajaxError",[r,l,c]),l.complete&&l.complete.call(l.context,r,c)}},m=l.global,m&&0===a.active++&&a.event.trigger("ajaxStart"),m&&a.event.trigger("ajaxSend",[r,l]),l.beforeSend&&l.beforeSend.call(l.context,r,l)===!1)return l.global&&a.active--,y.reject(),y;if(r.aborted)return y.reject(),y;s=w.clk,s&&(t=s.name,t&&!s.disabled&&(l.extraData=l.extraData||{},
l.extraData[t]=s.value,"image"==s.type&&(l.extraData[t+".x"]=w.clk_x,l.extraData[t+".y"]=w.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(l.extraData=l.extraData||{},l.extraData[C]=B),l.forceSync?f():setTimeout(f,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var h,i,j,k=this;"function"==typeof b&&(b={success:b}),h=this.attr("method"),i=this.attr("action"),j="string"==typeof i?a.trim(i):"",j=j||window.location.href||"",j&&(j=(j.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:j,success:a.ajaxSettings.success,type:h||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var l={};if(this.trigger("form-pre-serialize",[this,b,l]),l.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=b.traditional;void 0===m&&(m=a.ajaxSettings.traditional);var n,o=[],p=this.formToArray(b.semantic,o);if(b.data&&(b.extraData=b.data,n=a.param(b.data,m)),b.beforeSubmit&&b.beforeSubmit(p,this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[p,this,b,l]),l.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var q=a.param(p,m);n&&(q=q?q+"&"+n:n),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+q,b.data=null):b.data=q;var r=[];if(b.resetForm&&r.push(function(){k.resetForm()}),b.clearForm&&r.push(function(){k.clearForm(b.includeHidden)}),!b.dataType&&b.target){var s=b.success||function(){};r.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(s,arguments)})}else b.success&&r.push(b.success);b.success=function(a,c,d){for(var e=b.context||this,f=0,g=r.length;f<g;f++)r[f].apply(e,[a,c,d||k,k])};var t=a("input:file:enabled[value]",this),u=t.length>0,v="multipart/form-data",w=k.attr("enctype")==v||k.attr("encoding")==v,x=e.fileapi&&e.formdata;d("fileAPI :"+x);var y,z=(u||w)&&!x;b.iframe!==!1&&(b.iframe||z)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){y=g(p)}):y=g(p):y=(u||w)&&x?f(p):a.ajax(b),k.removeData("jqxhr").data("jqxhr",y);for(var A=0;A<o.length;A++)o[A]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f=this[0],g=b?f.getElementsByTagName("*"):f.elements;if(!g)return d;var h,i,j,k,l,m,n;for(h=0,m=g.length;h<m;h++)if(l=g[h],j=l.name)if(b&&f.clk&&"image"==l.type)l.disabled||f.clk!=l||(d.push({name:j,value:a(l).val(),type:l.type}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}));else if(k=a.fieldValue(l,!0),k&&k.constructor==Array)for(c&&c.push(l),i=0,n=k.length;i<n;i++)d.push({name:j,value:k[i]});else if(e.fileapi&&"file"==l.type&&!l.disabled){c&&c.push(l);var o=l.files;if(o.length)for(i=0;i<o.length;i++)d.push({name:j,value:o[i],type:l.type});else d.push({name:j,value:"",type:l.type})}else null!==k&&"undefined"!=typeof k&&(c&&c.push(l),d.push({name:j,value:k,type:l.type,required:l.required}));if(!b&&f.clk){var p=a(f.clk),q=p[0];j=q.name,j&&!q.disabled&&"image"==q.type&&(d.push({name:j,value:p.val()}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&b.selectedIndex==-1))return null;if("select"==f){var g=b.selectedIndex;if(g<0)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}(jQuery),null==window.jQuery.fn.ajaxSubmit)throw new Error('Grunt Requireize: module does not define "window.jQuery.fn.ajaxSubmit"');return window.jQuery.fn.ajaxSubmit}),fweb_define("grid-list",["jquery","jquery.ui"],null,function(){var a=void 0;if(function(b,c){"function"==typeof a&&a.amd?a([],c):"object"==typeof exports?module.exports=c():b.GridList=c()}(this,function(){var a=function(a,b){this._options=b;for(var c in this.defaults)this._options.hasOwnProperty(c)||(this._options[c]=this.defaults[c]);this.items=a,this._adjustSizeOfItems(),this.generateGrid()};a.cloneItems=function(a,b){var c,d;for(void 0===b&&(b=[]),c=0;c<a.length;c++){b[c]||(b[c]={});for(d in a[c])b[c][d]=a[c][d]}return b},a.prototype={defaults:{lanes:5,direction:"horizontal"},toString:function(){var a,b,c,d=this.grid.length,e="\n #|",f="\n --";for(b=0;b<d;b++)e+=" "+this._padNumber(b," "),f+="---";for(e+=f,b=0;b<this._options.lanes;b++)for(e+="\n"+this._padNumber(b," ")+"|",c=0;c<d;c++)e+=" ",a=this.grid[c][b],e+=a?this._padNumber(this.items.indexOf(a),"0"):"--";return e+="\n"},generateGrid:function(){var a;for(this._resetGrid(),a=0;a<this.items.length;a++)this._markItemPositionToGrid(this.items[a])},resizeGrid:function(a){var b=0;this._options.lanes=a,this._adjustSizeOfItems(),this._sortItemsByPosition(),this._resetGrid();for(var c=0;c<this.items.length;c++){var d=this.items[c],e=this._getItemPosition(d);this._updateItemPosition(d,this.findPositionForItem(d,{x:b,y:0})),b=Math.max(b,e.x)}this._pullItemsToLeft()},findPositionForItem:function(a,b,c){var d,e,f;for(d=b.x;d<this.grid.length;d++)if(void 0!==c){if(f=[d,c],this._itemFitsAtPosition(a,f))return f}else for(e=b.y;e<this._options.lanes;e++)if(f=[d,e],this._itemFitsAtPosition(a,f))return f;var g=this.grid.length,h=0;return void 0!==c&&this._itemFitsAtPosition(a,[g,c])&&(h=c),[g,h]},moveItemToPosition:function(a,b){var c=this._getItemPosition({x:b[0],y:b[1],w:a.w,h:a.h});this._updateItemPosition(a,[c.x,c.y]),this._resolveCollisions(a)},resizeItem:function(a,b){var c=b.w||a.w,d=b.h||a.h;this._updateItemSize(a,c,d),this._resolveCollisions(a),this._pullItemsToLeft()},getChangedItems:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this._getItemByAttribute(b,a[d][b]);e.x===a[d].x&&e.y===a[d].y&&e.w===a[d].w&&e.h===a[d].h||c.push(e)}return c},_sortItemsByPosition:function(){this.items.sort(function(a,b){var c=this._getItemPosition(a),d=this._getItemPosition(b);return c.x!=d.x?c.x-d.x:c.y!=d.y?c.y-d.y:0}.bind(this))},_adjustSizeOfItems:function(){for(var a=0;a<this.items.length;a++){var b=this.items[a];void 0===b.autoSize&&(b.autoSize=0===b.w||0===b.h),b.autoSize&&("horizontal"===this._options.direction?b.h=this._options.lanes:b.w=this._options.lanes)}},_resetGrid:function(){this.grid=[]},_itemFitsAtPosition:function(a,b){var c,d,e=this._getItemPosition(a);if(b[0]<0||b[1]<0)return!1;if(b[1]+e.h>this._options.lanes)return!1;for(c=b[0];c<b[0]+e.w;c++){var f=this.grid[c];if(f)for(d=b[1];d<b[1]+e.h;d++)if(f[d]&&f[d]!==a)return!1}return!0},_updateItemPosition:function(a,b){null!==a.x&&null!==a.y&&this._deleteItemPositionFromGrid(a),this._setItemPosition(a,b),this._markItemPositionToGrid(a)},_updateItemSize:function(a,b,c){null!==a.x&&null!==a.y&&this._deleteItemPositionFromGrid(a),a.w=b,a.h=c,this._markItemPositionToGrid(a)},_markItemPositionToGrid:function(a){var b,c,d=this._getItemPosition(a);for(this._ensureColumns(d.x+d.w),b=d.x;b<d.x+d.w;b++)for(c=d.y;c<d.y+d.h;c++)this.grid[b][c]=a},_deleteItemPositionFromGrid:function(a){var b,c,d=this._getItemPosition(a);for(b=d.x;b<d.x+d.w;b++)if(this.grid[b])for(c=d.y;c<d.y+d.h;c++)this.grid[b][c]==a&&(this.grid[b][c]=null)},_ensureColumns:function(a){var c;for(c=0;c<a;c++)this.grid[c]||this.grid.push(new b(this._options.lanes))},_getItemsCollidingWithItem:function(a){for(var b=[],c=0;c<this.items.length;c++)a!=this.items[c]&&this._itemsAreColliding(a,this.items[c])&&b.push(c);return b},_itemsAreColliding:function(a,b){var c=this._getItemPosition(a),d=this._getItemPosition(b);return!(d.x>=c.x+c.w||d.x+d.w<=c.x||d.y>=c.y+c.h||d.y+d.h<=c.y)},_resolveCollisions:function(a){this._tryToResolveCollisionsLocally(a)||this._pullItemsToLeft(a),this._pullItemsToLeft()},_tryToResolveCollisionsLocally:function(b){var c=this._getItemsCollidingWithItem(b);if(!c.length)return!0;var d,e,f,g,h=new a([],this._options);a.cloneItems(this.items,h.items),h.generateGrid();for(var i=0;i<c.length;i++){var j=h.items[c[i]],k=this._getItemPosition(j),l=this._getItemPosition(b);if(d=[l.x-k.w,k.y],e=[l.x+l.w,k.y],f=[k.x,l.y-k.h],g=[k.x,l.y+l.h],h._itemFitsAtPosition(j,d))h._updateItemPosition(j,d);else if(h._itemFitsAtPosition(j,f))h._updateItemPosition(j,f);else if(h._itemFitsAtPosition(j,g))h._updateItemPosition(j,g);else{if(!h._itemFitsAtPosition(j,e))return!1;h._updateItemPosition(j,e)}}return a.cloneItems(h.items,this.items),this.generateGrid(),!0},_pullItemsToLeft:function(a){if(this._sortItemsByPosition(),this._resetGrid(),a){var b=this._getItemPosition(a);this._updateItemPosition(a,[b.x,b.y])}for(var c=0;c<this.items.length;c++){var d=this.items[c],e=this._getItemPosition(d);if(!a||d!=a){var f=this._findLeftMostPositionForItem(d),g=this.findPositionForItem(d,{x:f,y:0},e.y);this._updateItemPosition(d,g)}}},_findLeftMostPositionForItem:function(a){for(var b=0,c=this._getItemPosition(a),d=0;d<this.grid.length;d++)for(var e=c.y;e<c.y+c.h;e++){var f=this.grid[d][e];if(f){var g=this._getItemPosition(f);this.items.indexOf(f)<this.items.indexOf(a)&&(b=g.x+g.w)}}return b},_getItemByAttribute:function(a,b){for(var c=0;c<this.items.length;c++)if(this.items[c][a]===b)return this.items[c];return null},_padNumber:function(a,b){return a>=10?a:b+a},_getItemPosition:function(a){return"horizontal"===this._options.direction?a:{x:a.y,y:a.x,w:a.h,h:a.w}},_setItemPosition:function(a,b){"horizontal"===this._options.direction?(a.x=b[0],a.y=b[1]):(a.x=b[1],a.y=b[0])}};var b=function(a){for(var b=0;b<a;b++)this.push(null)};return b.prototype=[],a}),function(b){"function"==typeof a&&a.amd?a(["jquery","gridlist"],b):b(jQuery,GridList)}(function(a,b){var c=function(b,c,d){this.options=a.extend({},this.defaults,c),this.draggableOptions=a.extend({},this.draggableDefaults,d),this.$element=a(b),this._init(),this._bindEvents()};c.prototype={defaults:{lanes:5,direction:"horizontal",itemSelector:"li[data-w]",widthHeightRatio:1,dragAndDrop:!0},draggableDefaults:{zIndex:2,scroll:!1,containment:"parent"},destroy:function(){this._unbindEvents()},resize:function(a){a&&(this.options.lanes=a),this._createGridSnapshot(),this.gridList.resizeGrid(this.options.lanes),this._updateGridSnapshot(),this.reflow()},resizeItem:function(a,b){this._createGridSnapshot(),this.gridList.resizeItem(this._getItemByElement(a),b),this._updateGridSnapshot(),this.render()},reflow:function(){this._calculateCellSize(),this.render()},render:function(){this._applySizeToItems(),this._applyPositionToItems()},_bindMethod:function(a){var b=this;return function(){return a.apply(b,arguments)}},_init:function(){this.$items=this.$element.children(this.options.itemSelector),this.items=this._generateItemsFromDOM(),this._widestItem=Math.max.apply(null,this.items.map(function(a){return a.w})),this._tallestItem=Math.max.apply(null,this.items.map(function(a){return a.h})),this.$positionHighlight=this.$element.find(".position-highlight").hide(),this._initGridList(),this.reflow(),this.options.dragAndDrop&&this.$items.draggable(this.draggableOptions)},_initGridList:function(){this.gridList=new b(this.items,{lanes:this.options.lanes,direction:this.options.direction})},_bindEvents:function(){this._onStart=this._bindMethod(this._onStart),this._onDrag=this._bindMethod(this._onDrag),this._onStop=this._bindMethod(this._onStop),this.$items.on("dragstart",this._onStart),this.$items.on("drag",this._onDrag),this.$items.on("dragstop",this._onStop)},_unbindEvents:function(){this.$items.off("dragstart",this._onStart),this.$items.off("drag",this._onDrag),this.$items.off("dragstop",this._onStop)},_onStart:function(a,b){this._createGridSnapshot(),this._maxGridCols=this.gridList.grid.length},_onDrag:function(a,c){var d=this._getItemByElement(c.helper),e=this._snapItemPositionToGrid(d);this._dragPositionChanged(e)&&(this._previousDragPosition=e,b.cloneItems(this._items,this.items),this.gridList.generateGrid(),d=this._getItemByElement(c.helper),this.gridList.moveItemToPosition(d,e),this._applyPositionToItems(),this._highlightPositionForItem(d))},_onStop:function(b,c){this._updateGridSnapshot(),this._previousDragPosition=null,a(c.helper).removeClass("ui-draggable-dragging"),this._applyPositionToItems(),this._removePositionHighlight()},_generateItemsFromDOM:function(){var b=[];return this.$items.each(function(c,d){b.push({$element:a(d),x:Number(a(d).attr("data-x")),y:Number(a(d).attr("data-y")),w:Number(a(d).attr("data-w")),h:Number(a(d).attr("data-h")),id:Number(a(d).attr("data-id"))})}),b},_getItemByElement:function(a){for(var b=0;b<this.items.length;b++)if(this.items[b].$element.is(a))return this.items[b]},_calculateCellSize:function(){"horizontal"===this.options.direction?(this._cellHeight=Math.floor(this.$element.height()/this.options.lanes),this._cellWidth=this._cellHeight*this.options.widthHeightRatio):(this._cellWidth=Math.floor(this.$element.width()/this.options.lanes),this._cellHeight=this._cellWidth/this.options.widthHeightRatio),this.options.heightToFontSizeRatio&&(this._fontSize=this._cellHeight*this.options.heightToFontSizeRatio)},_getItemWidth:function(a){return a.w*this._cellWidth},_getItemHeight:function(a){return a.h*this._cellHeight},_applySizeToItems:function(){for(var a=0;a<this.items.length;a++)this.items[a].$element.css({width:this._getItemWidth(this.items[a]),height:this._getItemHeight(this.items[a])});this.options.heightToFontSizeRatio&&this.$items.css("font-size",this._fontSize)},_applyPositionToItems:function(){for(var a=0;a<this.items.length;a++)this.items[a].move||this.items[a].$element.css({left:this.items[a].x*this._cellWidth,top:this.items[a].y*this._cellHeight});"horizontal"===this.options.direction?this.$element.width((this.gridList.grid.length+this._widestItem)*this._cellWidth):this.$element.height((this.gridList.grid.length+this._tallestItem)*this._cellHeight)},_dragPositionChanged:function(a){return!this._previousDragPosition||(a[0]!=this._previousDragPosition[0]||a[1]!=this._previousDragPosition[1])},_snapItemPositionToGrid:function(a){var b=a.$element.position();b[0]-=this.$element.position().left;var c=Math.round(b.left/this._cellWidth),d=Math.round(b.top/this._cellHeight);return c=Math.max(c,0),d=Math.max(d,0),"horizontal"===this.options.direction?(c=Math.min(c,this._maxGridCols),d=Math.min(d,this.options.lanes-a.h)):(c=Math.min(c,this.options.lanes-a.w),d=Math.min(d,this._maxGridCols)),[c,d]},_highlightPositionForItem:function(a){this.$positionHighlight.css({width:this._getItemWidth(a),height:this._getItemHeight(a),left:a.x*this._cellWidth,top:a.y*this._cellHeight}).show(),this.options.heightToFontSizeRatio&&this.$positionHighlight.css("font-size",this._fontSize)},_removePositionHighlight:function(){this.$positionHighlight.hide()},_createGridSnapshot:function(){this._items=b.cloneItems(this.items)},_updateGridSnapshot:function(){this._triggerOnChange(),b.cloneItems(this.items,this._items)},_triggerOnChange:function(){"function"==typeof this.options.onChange&&this.options.onChange.call(this,this.gridList.getChangedItems(this._items,"$element"))}},a.fn.gridList=function(b,d){if(!window.GridList)throw new Error("GridList lib required");var e,f,g;return"string"==typeof b&&(f=b,g=Array.prototype.slice.call(arguments,1)),this.each(function(){e=a(this).data("_gridList"),e&&!f&&(e.destroy(),e=null),e||(e=new c(this,b,d),a(this).data("_gridList",e)),f&&e[f].apply(e,g)}),this}}),null==window.GridList)throw new Error('Grunt Requireize: module does not define "window.GridList"');return window.GridList}),fweb_define("jquery.ng_app",["jquery","fweb"],null,function(a,b){"use strict";function c(){}var d={DEFAULT_QLIST_MENU_ITEMS_CONTROLLER:"QlistCustomMenuItems"},e=["angular","ng/services/loader","ng/services/interceptor","ng/services/persistent_storage","ng/services/volatile_storage","ng/directives/ftnt","ng/directives/menu/menu_items","ng/directives/menu/templates","ng/filters/ftnt"],f=["ftnt","ftnt-gui","ngResource","ngCookies","ngSanitize","ui.jq","ui.event","ui.sortable"],g={};return c.prototype.$get=function(){return{}},a.fn.ng_app=function(h){if(this.length){h=h||{};var i=this[0],j=a.Deferred(),k=e.concat(h.require||[]),l=f.concat(h.modules||[]),m=i.getAttribute("f-ng-app");if(!m)throw new Error('Element doesn\'t have an "f-ng-app" attribute');if(g[m])throw new Error('A ng app named "'+m+'" already exists');return require(k,function(f,k){var n,o=arguments[0],p=o.module(m,l),q=Array.prototype.slice.call(arguments,e.length).filter(function(a){return o.isFunction(a)});p.factory("state",function(){return window.top.state}),p.service("$route",c),p.config(["$controllerProvider","$httpProvider","$compileProvider",function(a,c,d){n=a,d.debugInfoEnabled(b.BUILD.CONFIG.CONFIG_DEBUG),c.interceptors.push("ftntInterceptor")}]);var r=null;q.length&&(r=k.preloadModules(q)),p.run(["$rootScope","$window","$injector","$controller","loader","state",function(a,c,e,f,g,h){q.length&&g.initModules(q),a.ADMIN_RO=c.is_rw_admin===!1,h.readOnlyForPage=!c.is_rw_admin;var i=a.$new();i.__TESTING__=!0;try{f(d.DEFAULT_QLIST_MENU_ITEMS_CONTROLLER,{$scope:i})}catch(a){var j="Argument '"+d.DEFAULT_QLIST_MENU_ITEMS_CONTROLLER+"' is not a function, got undefined";if(!(a.message.indexOf(j)>-1))throw a;n.register(d.DEFAULT_QLIST_MENU_ITEMS_CONTROLLER,o.noop)}i.$destroy(),b.DEBUG&&(p._injector=e)}]),h.run&&p.run(h.run),a.when(r).then(function(a){a&&(q=a),o.bootstrap(i,[m]),g[m]=p,j.resolve(p)})}),j.promise()}},d}),fweb_define("jquery.notQlist",["jquery","fweb"],null,function(a,b){"use strict";function c(a,b,c){this.muTable=null,this._ngScope=b,this._ngInjector=c,this._initialized=!1,this._inline=!1,this._$element=a,this.selection={entries:[],lastSelectedEntry:null,rowInstances:[],rows:[]}}var d="qlist_select_rows",e="qlist_contextmenu",f="qlist_dblclick_row",g="notQlistInstance";c.prototype.init=function(){this._initialized||(this.muTable=new MuTable({inline:this._inline,ngScope:this._ngScope,ngInjector:this._ngInjector}),this._listenOnSelectionChange(),this._listenForContextMenu(),this._listenForDoubleClick(),this._append(),this._initialized=!0)},c.prototype.update=function(a){var b=this._convertQlistSettings(a);this.init(),a.source&&this.muTable.updateSource(a.source),this.muTable.updateSettings(b),a.locate_row&&(this.muTable.locate(a.locate_row),delete a.locate_row)},c.prototype._convertQlistSettings=function(b){var c={};return this._inline=!(!b.options||!b.options.inline),b.prefix&&(c.id=b.prefix),c.userDefinedSections=!1,Array.isArray(b.sections)&&(c.defaultSectionColumn=b.sections[0]),b.hasOwnProperty("sort_sections_fn")&&!b.sort_sections_fn&&(c.sortSections=!1),b.custom_sequence_grouping&&(c.customSequenceGrouping=!0),"function"==typeof b.implicit_sequence_grouping_value_function&&(c.implicitSequenceGroupingValueFunction=b.implicit_sequence_grouping_value_function),b.reordering&&b.reordering.enable&&(c.reordering=!0),c.sorting=!1,b.options&&b.options.sorting&&(c.sorting=!0,Array.isArray(b.default_sort)&&b.default_sort.length>0&&(c.defaultSortColumn=b.default_sort[0].selector,c.defaultSortDirection=b.default_sort[0].direction)),null!=b.vertical_collection_limit&&(c.verticalCollectionLimit=b.vertical_collection_limit),b.callbacks&&"function"==typeof b.callbacks.load&&(c.onChunkAdded=function(a){b.callbacks.load.call(a)}),"function"==typeof b.row_gen&&(c.onRowRendered=function(c,d){var e=this;b.row_gen.call(a(c),e.sourceIndex,d)}),b.rowHeight&&(c.rowHeight=b.rowHeight),this._convertColumns(c,b),c},c.prototype._convertColumns=function(b,c){var d={int:"number",datetime:"date"};b.defaultColumns=c.default_columns,this._$element.removeClass("qlist").addClass("mutable-view-container"),b.columns=c.columns.map(function(b){if("string"==typeof b)return b;var e={id:b.selector,langKey:b.lang_key,type:d[b.fld_type]||"standard",hidden:b.hidden},f=(c.value_fn||{})[b.selector],g=(c.format_fn||{})[b.selector],h=(c.sort_fns||{})[b.selector],i=c.search&&c.search.search_fn&&c.search.search_fn[b.selector];return b.date_type&&(e.dateType=b.date_type),b.number_type&&(e.numberType=b.number_type),b.number_compare_bar&&(e.numberCompareBar=b.number_compare_bar),"function"==typeof b.get_compare_bar_max&&(e.getCompareBarMax=function(a){return b.get_compare_bar_max(a,b)}),"function"==typeof b.on_cell_rendered&&(e.onCellRendered=function(a,c){var d=this;return b.on_cell_rendered.call(d,a,c,b)}),"function"==typeof f?e.cellValueFunction=function(a){var c=this;return f.call(c,a,b)}:"function"==typeof b.cell_value_function&&(e.cellValueFunction=function(a){var c=this;return b.cell_value_function.call(c,a,b)}),"function"==typeof g?(e.cellFormatter=function(c,d,e){var f=this,h=g.call(f,a(e),b,c);return h instanceof a&&(h=h[0]),h},e.trustCellFormatterForHTML=!0,e.jQueryFormatter=!0):"object"==typeof g&&"cell-collection"===g.type&&(e.type="collection",g.get_entries&&(e.cellValueFunction=function(a){var c=this;return g.get_entries.call(c,a,b)}),g.valid_collection_function?e.cellIsValidCollectionFunction=function(a){return g.valid_collection_function(a,b)}:g.requires_key&&(e.cellIsValidCollectionFunction=function(a){return a[g.requires_key]}),"function"==typeof g.format_item&&(e.collectionEntryFormatter=function(c){var d=this,e=g.format_item.call(d,null,b,c);return e instanceof a&&(e=e[0]),e}),"function"==typeof g.format_fallback&&(e.collectionFallbackFormatter=function(c,d,e){var f=this,h=g.format_fallback.call(f,a(e),b,c);return h instanceof a&&(h=h[0]),h}),"function"==typeof g.entry_matches_search&&(e.collectionEntryMatchesSearch=function(a,c){return g.entry_matches_search(a,c,b)}),"function"==typeof g.on_cell_rendered&&(e.onCellRendered=function(a,c){var d=this;return g.on_cell_rendered.call(d,a,c,b)}),e.trustCellFormatterForHTML=!0,e.jQueryFormatter=!0),"function"==typeof h&&(e.sortComparator=function(a,b,c,d){return h(a,b,c,d)}),"function"==typeof i&&(e.cellSearchFunction=function(a,b){var c=this,d=i(a,b,c.sourceIndex);if(Array.isArray(d)&&d.length)return!0}),e}.bind(this)),c.options&&c.options.ref_column&&(b.columns.push("cmdbReferences"),b.defaultColumns&&b.defaultColumns.push("cmdbReferences"))},c.prototype._listenOnSelectionChange=function(){this.muTable.onSelectionChange(function(a){this.selection=a,this._triggerRowEvent(d)}.bind(this))},c.prototype._listenForContextMenu=function(){this.muTable.setContextMenuCallback(function(a){this._triggerRowEvent(e,a)}.bind(this))},c.prototype._listenForDoubleClick=function(){this.muTable.onDoubleClickRow(function(){this._triggerRowEvent(f)}.bind(this))},c.prototype._triggerRowEvent=function(b,c){this._$element.trigger(b,{muTableInstance:this.muTable,entries:this.selection.entries,last_selected:this.selection.lastSelectedEntry,row_instances:this.selection.rows,rows:this.selection.rows.map(function(a){return a.render()}),column_selector:this.selection.targetColumnID,target_column_value_promise:this.selection.targetColumnValuePromise,$td:a(this.selection.targetColumnCell),event:c})},c.prototype._append=function(){this._$element.removeClass("qlist").addClass("mutable-view-container"),this._inline&&this._$element.addClass("inline"),this._$element.append(this.muTable.element)};var h={SEARCH:"search",FIND:"find",GET_SELECTED_ENTRIES:"get_selected_entries",CLEAR_SELECTION:"clear_selection",CLEAN_UP:"clean_up"};a.fn.notQlist=function(d,e){if("string"==typeof d&&0===this.length)throw new Error('Cannot run "notQlist" on an empty collection.');var f,i,j,k,l=a(this),m=l.data(g),n=this;if("string"==typeof d){if(i=d,!m)throw new Error('Cannot run command on a non-initialized "notQlist".');switch(f=m.muTable,i){case h.SEARCH:n=f.search(e);break;case h.FIND:f.locate(e);break;case h.GET_SELECTED_ENTRIES:n=Promise.resolve(m.selection.entries);break;case h.CLEAR_SELECTION:f.clearSelection();break;case h.CLEAN_UP:f.destroy();break;default:throw new Error('Unsupported command: "'+i+'".')}}else{if("object"!=typeof d)throw new Error('Invalid call to "notQlist".');m||(m=new c(l,d.ngScope,d.ngInjector),l.data(g,m),j=b.util.uri.urlParams().qlist_find,j&&(k=JSON.parse(j),"object"==typeof k&&(d.locate_row=k))),m.update(d)}return n}}),fweb_define("legacy.util",["fweb"],null,function(a){window.setProperty=function(a,b,c){a[b]=c},window.setPropertyByName=function(a,b,c,d,e){var f,g,h,i=new RegExp(c);for(f=0;f<b.length;f++)for(h=a.getElementsByTagName(b[f]),g=0;g<h.length;g++)!i.test(h[g].name)||h[g].disabled&&"disabled"!=d||setProperty(h[g],d,e)},window.disableElementsByName=function(a,b,c,d){setPropertyByName(a,b,c,"disabled",d)},window.change_icon=function(b){var c=b,d=c.src.split("/"),e=d[d.length-1];return"twistie_collapsed.gif"==e?(c.src="/"+a.CONFIG_GUI_NO+"/theme/images/twistie_expanded.gif",!0):(c.src="/"+a.CONFIG_GUI_NO+"/theme/images/twistie_collapsed.gif",!1)},window.qlist_toggle_section=function(a,b){var c=change_icon(a);"undefined"==typeof b&&(b=".qlist_row");var d=$(a).closest("tr");if(d.length){for(var e=d.next("tr");e&&e.is(b);)e=e.toggle(c).next("tr");return c}},window.tree_control=function(a){return qlist_toggle_section(a,".odd, .category, .disabled")},window.selectOptions=function(a,b,c,d,e){for(var f=0,g=null,h=0;h<a.length;h++)for(var i=0;i<b.length;i++)if(0===c(a[h],b[i])){a[h].selected=d,f++,g=a[h];break}return e&&g&&g.scrollIntoView(),f},window.moveOptions=function(a,b,c){var d=[];return d=optionsToArray(a,1,1),insertOptions(b,d,b.selectedIndex+1),b.selectedIndex=-1,selectOptions(b,d,compareObjTextString,!0,!1),c&&sortOptions(b,compareObjTextString),d},window.insertOptions=function(a,b,c){var d;d=optionsToArray(a,2,1),arrayToOptions(a,d.splice(0,c).concat(b).concat(d))},window.optionsToArray=function(a,b,c,d,e){var f=[],g=d?d:0;for(e=e?e:a.length;g<e;)switch(b){case 0:if(!a[g].selected&&(f[f.length]=a[g],c)){a.removeChild(a[g]),e--;break}g++;break;case 1:if(a[g].selected&&(f[f.length]=a[g],1==c)){a.removeChild(a[g]),e--;break}g++;break;default:if(f[f.length]=a[g],1==c){a.removeChild(a[g]),e--;break}g++}return f},window.arrayToOptions=function(a,b,c,d){c||(c="text"),d||(d="value");for(var e=0;e<b.length;e++)a.options[a.options.length]=new Option(b[e][c],b[e][d],b[e].selected),a.options[a.options.length-1].selected=b[e].selected},window.stringToOption=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=new Option(a[c],a[c],!1),b[c].selected=!1;return b},window.optionToString=function(a){for(var b=0;b<a.length;b++)a[b]=a[b].value;return a},window.sortOptions=function(a,b){var c=optionsToArray(a,2,1);c.sort(b),arrayToOptions(a,c)},window.compareObjTextString=function(a,b){return a.text<b.text?-1:a.text>b.text?1:0},window.compareObjValueString=function(a,b){return a.value<b.value?-1:a.value>b.value?1:0},window.matchArray=function(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)a[d]==b[e]&&(c[c.length]=a[d]);return c},window.RegExpCommon=new function(){this.EMAIL_ADDRESS=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,this.IP_HOST=a.util.patterns.commonRegExp.IP_HOST,this.IP_MASK=a.util.patterns.commonRegExp.IP_MASK,this.IP_RANGE=a.util.patterns.commonRegExp.IP_RANGE,this.IP_RANGE_SPACES=a.util.patterns.commonRegExp.IP_RANGE_SPACES,this.IP_RANGE2=a.util.patterns.commonRegExp.IP_RANGE2,this.IP_WILDCARD=a.util.patterns.commonRegExp.IP_WILDCARD,this.MAC_ADDRESS=a.util.patterns.commonRegExp.MAC_ADDRESS,this.IP_SUBNET=a.util.patterns.commonRegExp.IP_SUBNET,this.SUBNET=a.util.patterns.commonRegExp.SUBNET,this.IP6_HOST=a.util.patterns.commonRegExp.IP6_HOST,this.IP6_HOST_NOT0=a.util.patterns.commonRegExp.IP6_HOST_NOT0,this.IP6_SUBNET=a.util.patterns.commonRegExp.IP6_SUBNET,this.MULTICAST_IP_HOST=a.util.patterns.commonRegExp.MULTICAST_IP_HOST,this.MULTICAST_IP_RANGE=a.util.patterns.commonRegExp.MULTICAST_IP_RANGE,this.INTEGER=/^-?[0-9]+$/,this.HEX_INTEGER=/^[0-9A-Fa-f]+$/,this.NAME=/^[^<>#()"']+$/,this.NAME_NODOLLAR=a.util.patterns.commonRegExp.NAME_NODOLLAR,this.XSS=a.util.patterns.commonRegExp.XSS,this.RANGE_INT=/^[0-9]*-[0-9]+$|^([0-9]+-?)$/,this.TIME=/^(([0-1]?[0-9]|[2][0-3]):([0-5]?[0-9]):([0-5]?[0-9]))?$/,this.DATE=/^([0-9]{4}-([0]?[0-9]|[1][0-2])-([0-2]?[0-9]|3[0-1]))?$/,this.MD5=/^[0-9a-fA-F]{32}$/,this.GUID=/^(([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})|(\s*\*\s*)|\s*)$/,this.FQDN=/^([a-zA-Z0-9\-]{1,63}\.?)+$/,this.DOMAIN_NAME=a.util.patterns.commonRegExp.DOMAIN_NAME,this.FQDN_WILDCARD=/^([a-zA-Z0-9\-\*\?]{1,63}\.?)+$/},window.matchFieldExp=function(a,b){for(var c=0;c<b.length;c++)if(b[c].test(a))return c;return-1},window.alert_focus=function(a,b){return window.alert(b),a.focus&&a.focus(),a.select&&a.select(),!1},window.getRadioValue=function(a){var b;if(!a.length&&a.checked)return a.value;
for(b=0;b<a.length;b++)if(a[b].checked)return a[b].value?a[b].value:b;return null},window.initForm=function(){$("textarea[expand]").textarea();try{$(":input:visible:enabled:first").focus()}catch(a){}},window.insertOption=function(a,b,c,d){var e;if(c){for(e=0;e<a.length;e++)if(c(b,a.options[e])<0){for(var f=a.length;f>e;f--)a.options[f]=new Option(a.options[f-1].text,a.options[f-1].value,a.options[f-1].defaultSelected,a.options[f-1].selected);break}}else e=a.length;a.options[e]=b,d&&(a[e].selected=!0)},window.popup_generic_i=function(a,b,c,d,e,f){f||(f=window.parent?window.parent.top:window.top);var g=((window.innerWidth?window.innerWidth:document.body.offsetWidth)-c)/2,h=((window.innerHeight?window.innerHeight:document.body.offsetHeight)-d)/2;if(f){var i=f.innerWidth?f.innerWidth:f.document.body.offsetWidth,j=f.innerHeight?f.innerHeight:f.document.body.offsetHeight;g=(i-c)/2,h=(j-d)/2;var k=f.document.documentElement,l=k.clientWidth?k.clientWidth:k.offsetWidth,m=k.clientHeight?k.clientHeight:k.offsetHeight;g=(l-c)/2,h=(m-d)/2+50}g<0&&(g=0),h<0&&(h=0);var n=window.open(a,b,e+",width="+c+",height="+d+",top="+h+",left="+g+",screenX="+g+",screenY="+h);return n?(n.resizeTo(c,d),n.moveTo(g,h),n.focus(),n):null},window.popup=function(a,b,c,d){return popup_generic_i(a,b,c,d,"dependent=yes,scrollbars=yes,resizable=no")},window.obj_del=function(a,b,c){var d=c.parentNode.parentNode,e="";return d&&"TR"==d.tagName&&d.set_class&&(d.onmouseout=null,e=d.className,d.set_class("over")),confirm(a)?void $.submitPOST(b):void(d&&"TR"==d.tagName&&d.set_class&&(d.onmouseout=tt_mout,d.set_class(e)))},window.obj_del_child=function(a,b,c,d,e,f){confirm(a)&&CMDB.delete_child(b,c,d,e,f).then(function(){window.location.reload()})},window.clear_all=function(a,b){window.confirm(a)&&(document.location=b)},window.serializeArray=function(a){if(!a)return"";for(var b=[],c=0;c<a.length;c++){var d=a[c];"object"==typeof d&&d.length?b.push(encodeURIComponent(serializeArray(d))):b.push(encodeURIComponent(d))}return b.join("&")+"&"},window.deserializeArray=function(a){var b,c=a.split("&");c.length-=1;for(var d=0;d<c.length;d++)if(b=decodeURIComponent(c[d]),b.indexOf("&")<0){if(c[d]=b,b.indexOf("=")>=0){var e=b.split("=");c[e[0]]=e[1]}}else c[d]=deserializeArray(b);return c},window.dlg_close=function(b,c){a.log.warn('Using deprecated "dlg_close"'),b=b||$("#redir").val(),a.util.location.go_back(b,c)},window.appendFormField=function(a,b,c){var d;d=document.createElement("input"),d.type="hidden",d.name=b,d.value=c,a.appendChild(d)},window.get_xmlhttp=function(){var a=null;try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=null}}return a||"undefined"==typeof XMLHttpRequest||(a=new XMLHttpRequest),a},window.setFilterDisplay=function(a,b){if(!b)return a;a||(a=[]);for(var c=0;c<a.length;c++)if(a[c][0]==b.fieldName)return a[c]=b.toArray(),a;return a[a.length]=b.toArray(),a},window.removeFilterDisplay=function(a,b){a||(a=[]);for(var c=0;c<a.length;c++)if(a[c][0]==b){a.splice(c,1);break}return a},window.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c]))},window.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&(a.detachEvent("on"+b,a[b+c]),a[b+c]=null,a["e"+b+c]=null)},window.buttonHideAllDropdown=function(a){var b=1,c=a.target?a.target:a.srcElement,d=null;try{d="options_button"==c.className?c.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("ul")[0]:null}catch(a){d=null}for(var e=document.getElementsByTagName("ul"),f=0;f<e.length;f++)e[f]==d?""===d.style.display&&(b=0):"dropdown"==e[f].className&&(e[f].style.display="none");b&&removeEvent(document,"click",buttonHideAllDropdown)},window.Request={},window.Request.send=function(b,c,d,e,f){var g=get_xmlhttp(),h=function(){4==g.readyState&&(200==g.status?"POST"==c?d&&(d(g),d=null):d&&(d(g,e),d=null):"undefined"==typeof g||"undefined"==typeof g.status?d&&(d=null):404==g.status&&(alert("Request URL was not found."),d&&(d(g),d=null)))};return window.do_request=function(){"POST"==c?(g.open("POST",b,!0),f&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.setRequestHeader("X-CSRFTOKEN",a.util.persist.getCsrfToken()),g.onreadystatechange=h,g.send(e)):(g.open("GET",b,!0),g.onreadystatechange=h,g.send(null))},do_request(),g},window.Request.sendRawPOST=function(a,b,c){Request.send(a,"POST",c,b,!1)},window.Request.sendPOST=function(a,b,c){Request.send(a,"POST",c,b,!0)},window.Request.sendGET=function(a,b,c){return Request.send(a,"GET",b,c)},window.get_last_child_of_type=function(a,b){var c,d;try{d=a.childNodes.length}catch(a){return null}for(c=d-1;c>=0;c--)if(a.childNodes[c].nodeName==b)return a.childNodes[c];return null},window.tbl_realign_columns=function(a,b){function c(){return $("tr.heading",a).each(function(a){e=$(e).add(this.cells),d=$(d).add(b.rows[a].cells)}),e.length}var d=[],e=[];c()&&d.length==e.length&&($(a).width($(b).width()).css("min-width",($("#main_window")[0]||$("body")[0]).clientWidth),$(e).each(function(a){var b=d[a].offsetWidth;$("div:first",this).width(b),$(this).width($(this).attr("defWidth")?"":b)}))},window.relocate_tbl_hdr=function(a,b){function c(){var b=a&&a.rows[0];return $(b.cells).each(function(){var a=$(this).attr("rowspan");a>d&&(d=a)}),b}var d=1;if(c()){$(b).addClass($(a).attr("class")),$(b).attr("cellspacing",$(a).attr("cellspacing")),$(b).attr("cellpadding",0),$(a).attr("cellpadding",0);for(var e=0;e<d;e++)$(a.rows[e]).clone().appendTo(b).children().each(function(){$(this).html("<div class=tbh_spacer height=1 width=1>"+$(this).html()+"</div>")});tbl_realign_columns(b,a),$(window).resize(function(){tbl_realign_columns(b,a)}),$(document).click(function(){tbl_realign_columns(b,a)}),$(window).scroll(function(){$("#hrdtc").css("left",-$(this).scrollLeft())})}},window.tbl_realign_tbl_columns=function(a,b){function c(){return $("tr.heading",a).each(function(a){e=$(e).add(this.cells),d=$(d).add(b.rows[a].cells)}),e.length}var d=[],e=[];c()&&d.length==e.length&&($(e).each(function(a){var b=this.offsetWidth;if($("div:first",this).width(b),$(this).attr("defWidth")){var c=parseInt($(this).attr("defWidth"),10);$(d[a]).width(b<=c?c:"")}else $(d[a]).width(b)}),$(a).width($(b).width()))},window.relocate_tbl_hdr2=function(a,b){function c(){var b,c=$("thead",a);return $("th,td",c).each(function(){b=$(this),d=b,e.push([b,b.width()])}),$(d).attr("defWidth",$(d).width()).css("min-width","30px"),$(e).each(function(){this[1]<2||this[0].width(this[1])}),c}var d,e=[];c()&&($(a).addClass("oneline").css("table-layout","fixed"),$(b).addClass($(a).attr("class")).css("table-layout",$(a).css("table-layout")).attr("cellspacing",$(a).attr("cellspacing")).attr("cellpadding",$(a).attr("cellpadding")),$(b).width($(a).width()).css("min-width",($("#main_window")[0]||$("body")[0]).clientWidth),$("thead",a).clone().appendTo(b),$("th,td",$("thead",b)).each(function(c){if(!(e[c][1]<2)){var f=this;$(this).wrapInner($("<div class=tbh_spacer></div>")),$("div:first",this).width(e[c][1]).resizable({minWidth:30,maxWidth:600,handles:"e",alsoResize:this,start:function(a,c){$(b).width(""),$(d).width("")},resize:function(a,b){},stop:function(c,e){$(this).height(""),$(f).height(""),f==d&&$(d).attr("defWidth",$(d).width()),tbl_realign_tbl_columns(b,a),tbl_save_column_widths(b),$("#hrdtc").css("margin-left","-"+$("#main_window").scrollLeft()+"px"),qlist_realign_floating_header(),qlist_realign_floating_footer()}}),d=this}}),$(window).scroll(function(){$("#hrdtc").css("left",-$(this).scrollLeft())}),$(window).resize(function(){tbl_realign_columns(b,a)}))},window.tbl_save_column_widths=function(a){var b,c,d,e,f,g=[],h=logdisplay_opts.type;for(b=0;b<a.rows[0].cells.length;b++){for(d=a.rows[0].cells[b],e=$.trim($(d).text()),f="",c=0;c<filter_columns.length;c++)if(filter_columns[c][1]==e){f=filter_columns[c][0];break}f&&g.push({name:f,value:$(d).width()})}setCookie("log/display/size"+h,$.param(g))},window.getParentProperty=function(a,b,c){for(var d,e=[];a&&a.style;)d=a[b],c.test(d)&&e.push(a),a=a.parentNode;return e},window.setPaging=function(a,b,c,d,e,f,g){var h=0;c<=0&&(c=Math.pow(2,32)-1);var i,j=Math.ceil(b/c),k=Math.ceil(a/c);j<=0&&(j=1),this.gotoUrl=function(){g.location.replace(this.getAttribute("url"))},this.gotoPage=function(a){a||(a=window.event),a||(a=parent.action.window.event);var b=a.which?a.which:a.keyCode;if(13==b){var f=parseInt(this.value,10);return isNaN(f)||f<1||f>j?alert(this.getAttribute("err_page_current")):(h=(f-1)*c+1,g.location.replace(setQueryValue(d,e,h))),!1}},f||(f=document),g||(g=document),d||(d=g.location.toString()),i=f.getElementById("page_first"),i&&(k<=1?(i.className="list_button_disabled",i.onclick=null):(h=1,i.className="list_button",i.setAttribute("url",setQueryValue(d,e,h)),i.onclick=this.gotoUrl)),i=f.getElementById("page_prev"),i&&(k<=1?(i.className="list_button_disabled",i.onclick=null):(h=(k-2)*c+1,i.className="list_button",i.setAttribute("url",setQueryValue(d,e,h)),i.onclick=this.gotoUrl)),i=f.getElementById("page_current"),i&&(i.value=k,i.disabled=j<=1,i.onkeypress=this.gotoPage),i=f.getElementById("page_total"),i&&(i.innerHTML=j),i=f.getElementById("page_next"),i&&(k>=j?(i.className="list_button_disabled",i.onclick=null):(h=k*c+1,i.className="list_button",i.setAttribute("url",setQueryValue(d,e,h)),i.onclick=this.gotoUrl)),i=f.getElementById("page_last"),i&&(k>=j?(i.className="list_button_disabled",i.onclick=null):(h=(j-1)*c+1,i.className="list_button",i.setAttribute("url",setQueryValue(d,e,h)),i.onclick=this.gotoUrl))},window.getQueryValue=function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+b+"=([^&#]*)",d=new RegExp(c),e=d.exec(a);return null==e?"":decodeURIComponent(e[1].replace(/\+/g," "))},window.removeQueryValue=function(a,b){var c=new RegExp("(&|\\?)("+b+")[^&]*(&|$)"),d=a.replace(c,"$1");return d};var b=window.getInternetExplorerVersion=function(){var a=-1,b=/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.*rv:(11)\.0/,c=b.exec(navigator.userAgent);return null!=c&&(a=parseFloat(c[c[1]?1:2])),a};!function(a){if(a>-1){for(var b=" ie"+a;a<=11;)b+=" ie-le"+a,++a;document.documentElement.className+=b}}(b()),window.uncache_url=function(a){var b=new Date,c=b.getTime();return a+(a.indexOf("?")<0?"?":"&")+"time="+c},window.addObj=function(a,b,c){jQuery("#"+a+(c+1)).show(),jQuery("#"+b+c).hide(),jQuery("#"+b+(c+1)).show()},window.delObj=function(a,b,c){jQuery("#"+a+c).hide(),jQuery("#"+b+(c-1)).show(),jQuery("#"+b+c).hide()},window.loadAction=function(a,b,c){var d,e;for(d=c;d>=0;d--)if(e=$("#"+a+d),e.length>0&&e.is(":visible")){$("#"+b+d).show();break}},String.prototype.getBytes=function(){return encodeURIComponent(this).replace(/%../g,"x").length},String.prototype.getBytesCRLF=function(a){var b=this.replace(/\n/g,"xx");return a?b.length:b.replace(/%../g,"x").length},window.util={wildcard2Regex:function(a){var b=util.wildcard2Regex._replace;return b||(b=util.wildcard2Regex._replace={"?":".","*":".*"},$.each("\\^$.[]|(){}+/".split(""),function(a,c){b[c]="\\"+c})),a=a.replace(/[?*\\^$.[]|(){}+]/g,function(a){return b[a]||a})}},"undefined"==typeof document||"classList"in document.createElement("a")||!function(a){"use strict";if(null!=(a.HTMLElement&&a.Element)){var b="classList",c="prototype",d=(a.HTMLElement||a.Element)[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.className),c=b?b.split(/\s+/):[],d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.className=this.toString()}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",i(this,a)!==-1},k.add=function(a){a+="",i(this,a)===-1&&(this.push(a),this._updateClassName())},k.remove=function(a){a+="";var b=i(this,a);b!==-1&&(this.splice(b,1),this._updateClassName())},k.toggle=function(a){a+="",i(this,a)===-1?this.add(a):this.remove(a)},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){a.number===-2146823252&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self),window.getLocalDate=a.util.datetime.getLocalDate,window.escapeHTML=a.util.dom.escapeHTML,window.convertNumberToUnits=a.util.formatters.metric_bytes,window.ConvertBitsToUnits=a.util.formatters.metric_bits_per_second,window.setCookie=a.util.persist.setCookie,window.getCookie=a.util.persist.getCookie,window.hasCookie=a.util.persist.hasCookie,window.removeCookie=a.util.persist.removeCookie,window.setQueryValue=a.util.uri.setQueryValue}),fweb_define("jquery.util",["jquery","fweb","jquery.util_core","legacy.util"],null,function(a,b){window.$j=a;$j.fn.reverse=[].reverse,$j.fn.check=function(a){return"undefined"==typeof a&&(a=!0),this.each(function(){"undefined"!=typeof this.checked&&(this.checked=a)})},$j.fn.uncheck=function(){return this.check(!1)},$j.fn.enable=function(a){return"undefined"==typeof a&&(a=!0),this.each(function(){"undefined"!=typeof this.disabled&&(this.disabled=!a)})},$j.fn.disable=function(){return this.enable(!1)},$j.fn.sortElements=function(){var a=[].sort;return function(b){return a.call(this,b).each(function(){this.parentNode.appendChild(this)})}}(),$j.deserializeArray=function(a){var b,c,d,e,f=[];if("undefined"==typeof a||""===a)return null;for(c=a.split("&"),e=c.length,d=0;d<e;d++)0!==c[d].length&&(b=c[d].split("="),f.push({key:b[0],value:b.length>=2?decodeURIComponent(b[1]):""}));return f},$j.deserialize=function(a,b,c){if("undefined"==typeof a)return"";"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=a.length);for(var d=[],e=b+c;b<e;b++){var f=$j("<input />").attr({type:"hidden",name:a[b].key,value:a[b].value});d.push(f)}return d},$j.submitPOST=function(a){if("undefined"==typeof a||""===a)return!1;var c=/^\/p\//.test(a),d=c?b.util.persist.getPythonCsrfToken():b.util.persist.getCsrfToken(),e=c?"csrfmiddlewaretoken":"CSRF_TOKEN";a=setQueryValue(a,e,d);var f=a.indexOf("?"),g="",h="";f>=0?(g=a.substring(0,f),h=a.substring(f+1)):g=a;var i=document.createDocumentFragment(),j=$j("<form id='__post_submit'  method='post' action='"+g+"'></form>");if(i.appendChild(j[0]),""!==h)for(var k=$j.deserializeArray(h),l=k.length,m=0;m<l;m+=1e3){var n=$j.deserialize(k,m,l-m>1e3?1e3:l-m);j.append(n)}return document.body.appendChild(i),j.submit(),!0},$j.waitModalPrompt=function(a,c){if(window.confirm(a?a:qed_strtbl.wait_confirm)){var d="<div style='padding:25px;'><img src='/"+b.CONFIG_GUI_NO+'/images/loading.gif\'><span style="font-size:14px"> '+(c?c:qed_strtbl.wait_msg)+"</span></div>";return b.dialog(d)}return!1},$j.fn.updateImage=function(a){$j(this).css("position","absolute").each(function(){var b=$j(this),c=b.parent().width(),d=b.parent().height(),e=a||b.attr("url")||b.attr("src");e=setQueryValue(e,"w",c),e=setQueryValue(e,"h",d),e=setQueryValue(e,"q",Math.random()),b.attr("src",e);var f=b.attr("refresh");f&&(clearTimeout(b.data("timer")),b.data("timer",setTimeout(function(){b.updateImage()},1e3*f)))})},$j.internationalizeLanguageEntries=function(){$j(document).internationalizeLanguageEntries()},$j.fn.internationalizeLanguageEntries=function(){var a=$j.getInfo,b="lang_key";return this.each(function(c){$j("["+b+"]",c).each(function(){var c=$j(this),d=c.attr(b),e=a(d);e||(e="#"+d),c.is(":input")?c.val(e):c.html(e)}),$j("[help_lang_key]",c).each(function(){var b=$j(this),c=a(b.attr("help_lang_key"));b.attr("title",c)})})},$j.fn.walk=function(a,b){0!==this.length&&this.each(function(c){return!(!b&&a.call(this,c,this)===!1)&&($j(this).children().walk(a,b),b?a.call(this,c,this):void 0)})},$j.fn.walkTextNodes=function(a){var b,c=this;return this.each(function(d){return b=3===this.nodeType?a.call(this,d,c,this):$j(this).contents().walkTextNodes(a)}),b},$j.fn.walkTextChunks=function(a){var b,c="";return this.each(function(){if(3===this.nodeType)c+=this.nodeValue;else{if(""!==c&&(b=a(c),c="",b===!1))return!1;b=$j(this).contents().walkTextChunks(a)}return b}),b!==!1&&a(c)},$j.fn.autoHeight=function(a){function b(){e=d.outerHeight(!0)-d.height(),f=0,d.siblings(":visible").each(function(){jQuery(this).position().top<f&&(f=jQuery(this).position().top),f+=jQuery(this).outerHeight(!0)})}function c(){b(),d.show().height("");var a=d.parent().height()-e-f;a>0?(d.parent().css("overflow-y","hidden"),d.height(a)):d.hide()}var d=jQuery(this);if(!d.length||!d.is(":visible"))return d;var e=0,f=0;return b(),jQuery(a||window).resize(c),c(),d},$j.isSubset=function(a,b,c){for(var d=0;d<a.length;++d){var e=a[d];if(c&&(e=$j.trim(e)),$j.inArray(e,b)!=-1)return!0}return!1},$j.pad=function(a,b){for(var c=a.toString();c.length<(b||2);)c="0"+c;return c},$j.sortCompareText=function(a,b){return a.toLowerCase()>b.toLowerCase()||-(a!=b)},$j.makeObject=function(a,b){var c=a&&{};return $j(a).each(function(a,d){c[(b||function(){return this}).call(this,a,d)]=this}),c},$j.alert=function(a,c){b.log.warn('Using deprecated "$.alert"'),b.util.slide.alert(a,c)},$j.confirm=function(a,c){b.log.warn('Using deprecated "$.confirm"');var d=a.message||a,e=a.css_class,f=b.util.slide.confirm(d,e,{okButtonLabel:a.ok_text,cancelButtonLabel:a.cancel_text});return"function"==typeof c&&f.then(c),f},$j.modal=function(a){b.log.warn('Using deprecated "$.modal"');var c=new Sliderin({content:a});c.open()},$j.format_date_friendly=function(a,b){null==b&&(b=new Date);var c=Math.floor((b-a+1)/1e3),d=c<0?a.toLocaleString():a.toLocaleDateString();return weekdays=[$j.getInfo("sun"),$j.getInfo("mon"),$j.getInfo("tues"),$j.getInfo("wed"),$j.getInfo("thur"),$j.getInfo("fri"),$j.getInfo("sat")],c<0||(c<2?d=$j.getInfo("second_ago"):c<60?d=String(c)+" "+$j.getInfo("seconds_ago"):c<120?d=$j.getInfo("minute_ago"):c<3600?d=String(Math.floor(c/60))+" "+$j.getInfo("minutes_ago"):c<7200?d=$j.getInfo("hour_ago"):c<18e3?d=String(Math.floor(c/3600))+" "+$j.getInfo("hours_ago"):c<172800&&(a.getDay()+1)%7==b.getDay()?d=$j.getInfo("yesterday"):c<604800&&(d=weekdays[a.getDay()])),d}}),fweb_define("fweb.cmdbClone",["jquery","fweb","cmdb","notify"],"fweb.cmdbClone",function(a,b,c,d){"use strict";var e=function(b){var d,e,f,g,h,i,j={mkey:null,nkey:null,path:null,name:null,qType:-1,maxLength:35},k=!1;return a.extend(j,b),j.mkey_type&&"integer"===j.mkey_type?(k=!0,j.title=a.getInfo("clone"),d=j.message||a.getInfo("Are you sure you want to clone this object?"),e=!0,f='value="0"'):(g=a.validator.format(a.getInfo("Clone of"),j.mkey).slice(0,j.maxLength),d=j.message||a.getInfo("clone_msg"),f='type="text" value="'+g+'" maxlength="'+j.maxLength+'"'),h=a('<section><div class="info-message">'+d+'</div><div class="error-message hidden"></div></section>').append('<section class="'+(e?"hidden":"")+'"><div class="field"><label for="clone-name">'+a.getInfo("Name")+'</label><div><input id="clone-name"'+f+"/></div></div></section>"),i=new Sliderin({content:h,title:j.title||a.getInfo("clone")+' "'+j.mkey+'"',buttons:!0,okButtonClick:function(){var b=a("#clone-name",h).val();if(b){if(j.mkey===b)return void a(".error-message",h).html(a.getInfo("err_duplicate_value")).removeClass("hidden");c.clone(j.path,j.name,j.mkey,b,{type:j.qType}).then(function(a){i.done(k?a.mkey:b)},function(b){a(".error-message",h).html(a.getInfo(b.error||b.http_status)).removeClass("hidden")})}else a(".error-message",h).html(a.getInfo("err_name")).removeClass("hidden")}}),i.open(),i.promise};return e.wfProfile=function(e,f,g){function h(b,e,f,g){var h=a.getInfo("Failed to create new webfilter profile {0}: {1}",[e,b]);f&&c.delete("webfilter","content",f),g&&c.delete("webfilter","urlfilter",g),e&&(c.delete("webfilter","profile",e),d.post(h,"error"))}function i(b){var d,e;return f&&(d=c.clone("webfilter","content",f,0,{},{name:b})),g&&(e=c.clone("webfilter","urlfilter",g,0,{},{name:b})),a.when(d,e,b).fail(function(c){var d;d=c&&"object"==typeof c&&c.error?a.getInfo("unable to create profile subtable ({0})",[a.getInfo(c.error)]):a.getInfo("unable to create profile subtable"),h(d,b,f,g)})}function j(b,d,e){var i,j={};return f||g?(f&&(j["bword-table"]=b[0].mkey),g&&(j["urlfilter-table"]=d[0].mkey),i=c.edit("webfilter","profile",e,{web:j}).fail(function(){h(a.getInfo("failed to store subtable IDs"),e,b.mkey,d.mkey)})):i={mkey:e},i}var k=b.cmdbClone({mkey:e,mkey_type:"string",path:"webfilter",name:"profile"});return k.then(i).then(j)},e.DNSFilterProfile=function(e,f){function g(b,e,f){var g=a.getInfo("Failed to create new dnsfilter profile {0}: {1}",[e,b]);f&&c.delete("dnsfilter","domain-filter",f),e&&(c.delete("dnsfilter","profile",e),d.post(g,"error"))}function h(b){var d;return f&&(d=c.clone("dnsfilter","domain-filter",f,0,{},{name:b})),a.when(d,b).fail(function(c){var d;d=c&&"object"==typeof c&&c.error?a.getInfo("unable to create profile subtable ({0})",[a.getInfo(c.error)]):a.getInfo("unable to create profile subtable"),g(d,b,f)})}function i(b,d){var e,h={};return f?(h["domain-filter-table"]=b[0].mkey,e=c.edit("dnsfilter","profile",d,{"domain-filter":h}).fail(function(){g(a.getInfo("failed to store subtable IDs"),d,b.mkey)})):e={mkey:d},e}var j=b.cmdbClone({mkey:e,mkey_type:"string",path:"dnsfilter",name:"profile"});return j.then(h).then(i)},e.emailFilterProfile=function(e,f){function g(b,e,f){var g=a.getInfo("Failed to create new email filter profile {0}: {1}",[e,b]);f&&c.delete("spamfilter","bwl",f),e&&(c.delete("spamfilter","profile",e),d.post(g,"error"))}function h(b){var d;return f&&(d=c.clone("spamfilter","bwl",f,0,{},{name:b})),a.when(d,b).fail(function(c){var d;d=c&&"object"==typeof c&&c.error?a.getInfo("unable to create profile subtable ({0})",[a.getInfo(c.error)]):a.getInfo("unable to create profile subtable"),g(d,b,0)})}function i(b,d){var e;return e=f?c.edit("spamfilter","profile",d,{"spam-bwl-table":b[0].mkey}).fail(function(){g(a.getInfo("failed to store subtable ID"),d,b)}):{mkey:d}}var j=b.cmdbClone({mkey:e,mkey_type:"string",path:"spamfilter",name:"profile"});return j.then(h).then(i)},e}),fweb_define("jquery.validate.methods",["jquery","fweb.util/patterns","fweb.util/ip","notify","jquery.validate"],null,function(a,b,c){"use strict";function d(b,c,d,e,f,g,h){var i=b.previousValue(c),j=c.name,k="RemoteValidating_"+e;if(this._elem_name=j,this._element=c,this._previous=i,this._validator=b,this._init_validation=f,this._rule_name=e,this._data_key=k,this._value=d,this._requestSignature=h,this._end=f&&g?Date.now()+g:null,this.nextRequest=null,i.lastRequestSignature===h&&i.old===d)return void(this.valid=i.valid);var l=a(c).data(k);f&&g&&l?(window.clearTimeout(l.validate_pending),l.validate_pending=window.setTimeout(function(){this.init()}.bind(this),g)):this.init()}function e(a){function b(a){return a.split(/ *\|\| */g)}function c(a){return a.split(/ *\&\& */g)}this._expression=b(a).map(c)}return a(function(){var f=1e3;if(a.valHooks.textarea={get:function(a){return a.value.replace(/\r?\n/g,"\r\n")}},a.validator){a.addLang("","com_info"),a.extend(a.validator.messages,{required:a.getInfo("validate_msg_required"),remote:a.getInfo("validate_msg_remote"),email:a.getInfo("validate_msg_email"),url:a.getInfo("validate_msg_url"),date:a.getInfo("validate_msg_date"),dateISO:a.getInfo("validate_msg_dateISO"),number:a.getInfo("validate_msg_number"),digits:a.getInfo("validate_msg_digits"),creditcard:a.getInfo("validate_msg_creditcard"),equalTo:a.getInfo("validate_msg_equalTo"),maxlength:a.validator.format(a.getInfo("validate_msg_maxlength")),minlength:a.validator.format(a.getInfo("validate_msg_minlength")),rangelength:a.validator.format(a.getInfo("validate_msg_rangelength")),range:a.validator.format(a.getInfo("validate_msg_range")),max:a.validator.format(a.getInfo("validate_msg_max")),min:a.validator.format(a.getInfo("validate_msg_min")),minItems:a.validator.format(a.getInfo("validate_msg_minItems"))}),a.validator.submitFlagSubmitHandler=function(a){a.submitFlag||(a.submitFlag=!0,a.submit())};var g=a.validator.prototype.check;a.validator.prototype.check=function(b){var c=g.apply(this,arguments);return a(b).triggerHandler("validated",c),c};var h=a.validator.prototype.defaultMessage;a.validator.prototype.defaultMessage=function(b){function c(c){return a(b).is(".inline-edit, .inline-display, .show-error-icon")&&(c=a('<f-icon class="fa-negate" title="'+c+'"></f-icon>'),c.ftip()),c}var d=h.apply(this,arguments);return"function"==typeof d?function(){return c(d.apply(this,arguments))}:c(d)};var i=function(b){return function(c,d,e){b.apply(this,arguments);var f=a(c).siblings().filter(".select-widget");f.length&&b.call(this,f,d,e)}};a.validator.setDefaults({ignore:':hidden:not(:visible .validate_hidden):not(".select-widget:visible + input"):not(".select-widget:visible + textarea")',errorPlacement:function(a,b){var c=b.closest(".qlist"),d=b.closest(".field");c.length?(b.is(".inline-edit, .inline-display")||(b=b.closest(".inline-edit, .inline-display")),a.insertAfter(b)):d.length?a.appendTo(d):b.hasClass("ui-spinner-input")?a.insertAfter(b.parent()):a.insertAfter(b)},highlight:i(a.validator.defaults.highlight),unhighlight:i(a.validator.defaults.unhighlight)});var j=a.validator.methods.required;a.validator.addMethod("required",function(a,b){return b.getAttribute("data-select-widget")?(a=JSON.parse(a),Array.isArray(a)?a.length:a):j.apply(this,arguments)}),jQuery.validator.addMethod("require-sources",function(b,c,d){var f=new e(d),g=a(c).omniselect("getInstance");return g&&f.requirementsMetBy(g.getSelected())},function(b){var c=new e(b);return a.getInfo("Please select a {REQUIRED_SOURCES}.",[c.toString()])}),a.validator.addMethod("minItems",function(b,c,d){return b=JSON.parse(b),a.validator.methods.minlength.call(this,b,c,d)}),a.validator.addMethod("time",function(a,b){return this.optional(b)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/i.test(a)},a.getInfo("-134")),a.validator.addMethod("datetimenosec",function(a,b){return this.optional(b)||/^[0-9]{4}-(1[0-2]|0[1-9])-([0-2][0-9]|3[0-1]) ([0-1][0-9]|2[0-4]):([0-5][0-9])$/.test(a)},"YYYY-MM-DD HH:MM"),a.validator.addMethod("emails",function(a,b){if(this.optional(b))return!0;for(var c=a.indexOf(",")>0?a.split(","):a.split(";"),d=0,e=c.length;d<e;d++){var f=c[d];if(!jQuery.validator.methods.email.call(this,f,b))return!1}return!0},a.validator.messages.email),a.validator.addMethod("MacAddressChecker",function(a){return RegExpCommon.MAC_ADDRESS.test(a)},a.getInfo("-33")),a.validator.addMethod("IP4Checker",function(b,c,d){if(this.optional(c))return!0;if(!RegExpCommon.IP_HOST.test(b))return!1;if(a.isPlainObject(d)&&d.is_unicast_ip){var e=b.split(".");if(e.length&&e[0]>223)return!1}return!0},a.getInfo("-8")),a.validator.addClassRules("IP4Checker",{IP4Checker:!0}),a.validator.addMethod("IP4SubnetmaskRequired",function(a,c){return!!this.optional(c)||b.commonRegExp.SUBNET.test(a)&&!b.commonRegExp.IP_HOST.test(a)},a.getInfo("err_mask_required")),a.validator.addMethod("Hostname",function(a,b){return this.optional(b)||RegExpCommon.IP_HOST.test(a)||RegExpCommon.FQDN.test(a)},a.getInfo("-257")),a.validator.addMethod("domain_name",function(a,b){return this.optional(b)||RegExpCommon.DOMAIN_NAME.test(a)},a.getInfo("Invalid Domain Name")),a.validator.addMethod("IP6Hostname",function(a,b){return this.optional(b)||RegExpCommon.IP6_HOST.test(a)||RegExpCommon.FQDN.test(a)},a.getInfo("-257")),a.validator.addMethod("FQDN",function(a,b){return this.optional(b)||RegExpCommon.FQDN.test(a)},a.getInfo("err_fqdn")),a.validator.addMethod("FQDN_WILDCARD",function(a,b){return this.optional(b)||RegExpCommon.FQDN_WILDCARD.test(a)&&a&&(a.indexOf("*")>-1||a.indexOf("?")>-1)},a.getInfo("err_wildcard_fqdn")),a.validator.addMethod("IP6Checker",function(a,b){return this.optional(b)||RegExpCommon.IP6_HOST.test(a)},a.getInfo("-255")),a.validator.addMethod("IP6CheckerNot0",function(a,b){return this.optional(b)||RegExpCommon.IP6_HOST_NOT0.test(a)},a.getInfo("-255")),a.validator.addMethod("IP4NetmaskChecker",function(a){return!a||RegExpCommon.IP_MASK.test(a)},a.getInfo("-9")),a.validator.addMethod("IP4SubnetChecker",function(a,b){return!!this.optional(b)||RegExpCommon.IP_SUBNET.test(a)},a.getInfo("-9")),a.validator.addMethod("IP4VipSrcFilter",function(a,b){var c=/^0\.0\.0\.0$/,d=/^0\.0\.0\.0\-(0|0\.0\.0\.0)$/,e=/^0\.0\.0\.0\/(32|0\.0\.0\.0)$/;return!!this.optional(b)||(RegExpCommon.IP_HOST.test(a)?!c.test(a):RegExpCommon.IP_SUBNET.test(a)?!e.test(a):!!RegExpCommon.IP_RANGE.test(a)&&!d.test(a))},a.getInfo("err_vip_src_filter")),a.validator.addMethod("IP6VipSrcFilter",function(b,c){return!!this.optional(c)||(RegExpCommon.IP6_HOST.test(b)||RegExpCommon.IP6_SUBNET.test(b)||a.validator.methods.IP6RangeChecker.call(this,b,c))},a.getInfo("err_vip_src_filter")),a.validator.addMethod("IP4ListChecker",function(b,c){if(this.optional(c))return!0;var d=b.split(/[,]+/),e=d.length;if(!e)return!1;for(var f={},g="",h=0;h<e;h++){if(g=a.trim(d[h]),g in f)return!1;if(f[g]="",!(RegExpCommon.IP_SUBNET.test(g)||RegExpCommon.IP_HOST.test(g)||RegExpCommon.IP_WILDCARD.test(g)||RegExpCommon.IP_RANGE.test(g)||RegExpCommon.IP_RANGE2.test(g)))return!1}return!0},a.getInfo("err_ip_mask_list"));var k=function(b,d,e){if(this.optional(d))return!0;if(b=a.trim(b),e=a.extend({any:1,multiple:0},e),!RegExpCommon.IP_SUBNET.test(b))return!1;var f=c.IpMask.parse(b),g=f.numbered();return!(e.multiple&&f.netmask[3]>=255)&&(0===g&&e.any||f.addr[0]>0&&127!==f.addr[0]&&f.addr[0]<224||f.netmask[3]>=254||g!==f.numbered(c.IpMask.NETWORK)&&g!==f.numbered(c.IpMask.BROADCAST))};a.validator.addMethod("IP4IntfChecker",function(a,b){return k.call(this,a,b)},a.getInfo("-9")),a.validator.addMethod("IP4NetList",function(a,b){for(var c,d=a.split(/[, ]/),e=0,f=d.length;e<f;e++)if(c=d[e],!k.call(this,c,b,{any:0,multiple:1}))return!1;return!0},a.getInfo("-9")),a.validator.addMethod("IntfSubnetOverlap",function(b,d,e){var f=c.IpMask.parse(b);if(!(e&&e.ipmasks&&e.overlap&&b&&0!==f.numbered()))return!0;var g=a.isFunction(e.overlap)?e.overlap():e.overlap;if(g)return!0;var h;if(a.isFunction(e.ipmasks))h=e.ipmasks();else{if(!a.isArray(e.ipmasks))return!0;h=e.ipmasks}var i,j,k,l,m=d.name,n=e.intf_name||"",o=this,p=h.length;o.settings.messages[m]||(o.settings.messages[m]={});var q=a.getInfo("-54");for(o.settings.messages[m].IntfSubnetOverlap=q,i=0;i<p;i++)for(l=h[i],k=l.ipmasks.length,j=0;j<k;j++)if(l.intf!==n&&l.ipmasks[j].overlaps(b)){var r=a.getInfo("Conflicts with other interface subnet");return o.settings.messages[m].IntfSubnetOverlap=a.validator.format(r,l.intf),!1}return!0},a.getInfo("-54"));var l=function(a){var b=c.IpMask.parse(a),d=b.numbered(c.IpMask.NETWORK),e=c.IpMask.toNumber(b.addr);return{ipmask:b,prefix:d,ip:e}},m=function(b){if(!RegExpCommon.IP_SUBNET.test(b.value))return a.getInfo("ip_subnet");var d=l(b.value);return 0===d.ip&&0===d.prefix?a.getInfo("err_ip4"):a.getInfo("err_subnet")+" "+c.IpMask.toDotted(d.prefix).join(".")+"/"+d.ipmask.netmask.join(".")};a.validator.addMethod("IP4Subnetwork",function(a,b){if(this.optional(b))return!0;if(!RegExpCommon.IP_SUBNET.test(a))return!1;var c=l(b.value);return c.ip===c.prefix},function(a,b){return m(b)}),a.validator.addMethod("StrictIP4Subnetwork",function(a,b){if(this.optional(b))return!0;if(!RegExpCommon.IP_SUBNET.test(a))return!1;var c=l(b.value);return c.ip===c.prefix&&0!==c.ip&&0!==c.prefix},function(a,b){return m(b)}),a.validator.addMethod("IP6SubnetChecker",function(a,b){return!!this.optional(b)||RegExpCommon.IP6_SUBNET.test(a)},a.getInfo("-255")),a.validator.addMethod("IP4ConflictChecker",function(b){if(!parent||!parent.wizard)return!0;if("0.0.0.0"===b)return!0;
var c=a('input[name="netmask"]').val();c||(c="255.255.255.255");var d=ipStrToNum(b);c=ipStrToNum(c);for(var e,f,g,h=parent.wizard.state.history,i=0;i<h.length;i++)if(e=h[i].data,e.ip&&e.netmask&&"0.0.0.0"!==e.ip&&"static"===e.mode&&(f=ipStrToNum(e.ip),g=ipStrToNum(e.netmask),(f&g)===(d&g)||(f&c)===(d&c)))return!1;return!0},a.getInfo("err_ip_conflict"));var n=function(a,b,c){return a=ipStrToNum(a),b=ipStrToNum(b),c=ipStrToNum(c),!(!a||!b)&&!((a&c)!==(b&c)||a>b)};a.validator.addMethod("IP4RangeChecker",function(b,c,d){var e=d||["start-ip","end-ip","netmask"],f=e[0],g=e[1],h=e[2];return!(!f||!g)&&(f=a('input[name="'+f+'"]').val(),g=a('input[name="'+g+'"]').val(),h=a('input[name="'+h+'"]').val()||"0.0.0.0",!(!f||!g)&&n(f,g,h))},a.getInfo("err_ip_range")),a.validator.addMethod("IP6RangeChecker",function(b,c){if(this.optional(c))return!0;var d=b.replace(/ /g,"");if(d=d.split("-"),d.length<2)return!1;var e=d[0],f=d[1];if(!a.validator.methods.IP6Checker.call(this,e,c)||!a.validator.methods.IP6Checker.call(this,f,c))return!1;var g=new goog.net.Ipv6Address(e).toInteger(),h=new goog.net.Ipv6Address(f).toInteger();return!g.greaterThanOrEqual(h)},a.getInfo("err_ip_range")),a.validator.addMethod("IP4PoolRange",function(a){return RegExpCommon.IP_RANGE.test(a)||RegExpCommon.IP_RANGE2.test(a)||RegExpCommon.IP_SUBNET.test(a)||RegExpCommon.IP_HOST.test(a)||RegExpCommon.IP_WILDCARD.test(a)},a.getInfo("err_ip_range")),a.validator.addMethod("XSSChecker",function(a){return RegExpCommon.XSS.test(a)},a.getInfo("err_xss")),a.validator.addMethod("IdentifierChecker",function(a){return RegExpCommon.NAME_NODOLLAR.test(a)},a.getInfo("err_char")),a.validator.addMethod("nameRequired",a.validator.methods.required,a.getInfo("err_name")),a.validator.addClassRules("js-valid-name",{IdentifierChecker:!0,nameRequired:!0}),a.validator.addMethod("minlengthWarning",function(){return a.validator.methods.minlength.apply(this,arguments)||"warning"},a.getInfo("err_pwd3")),a.validator.addClassRules("js-valid-password",{required:!0,minlengthWarning:6}),a.validator.addMethod("CommentChecker",function(a,b){return jQuery.validator.methods.maxlength.call(this,a,b,63)},a.getInfo("err_comment")),a.validator.addMethod("PortChecker",function(a,b){return a?!!RegExpCommon.INTEGER.test(a)&&!(a<1||a>65535):this.optional(b)},a.getInfo("-252")),a.validator.addMethod("PortlistChecker",function(b,c){if("string"!=typeof b)return!1;if(!b)return this.optional(c);var d=b.split(/[,\-]/);if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e].replace(/^\s+|\s+$/g,"");if(!a.validator.methods.PortChecker.call(this,f))return!1}return!0},a.getInfo("-252")),a.validator.addMethod("WeightChecker",function(a){return!!RegExpCommon.INTEGER.test(a)&&!(a<0||a>255)},a.getInfo("err_weight")),a.validator.addMethod("SpilloverThresholdChecker",function(a){return!!RegExpCommon.INTEGER.test(a)&&!(a<0||a>2097e3)},a.getInfo("err_range")+" 0-2097000"),a.validator.addMethod("DuplicateValueChecker",function(b,c,e){function g(){a.when.apply(a,h).then(function(){var a=Array.from(arguments),b=a.every(function(a){return a});i.finish(b,"err_duplicate_value")})}var h=e.map(function(c){var d=c.path,e=c.name,f=c.key,g=c.exempt,h=c.dependency,i=c.vdom,j={},k={};a.each(g||{},function(b){j[b]=a(g[b]).val()}),a.each(h||{},function(b){k[b]=a(h[b]).val()});var l={key:f,pattern:b,vdom:i};return CMDB.fetch(d,e,l).then(function(a){function b(a,b){return function(c){return String(a[c])===String(b[c])}}for(var c=a.results,d=0;d<c.length;d++){var e=Object.keys(k),f=e.length&&e.every(b(k,c[d])),g=!h||f,l=!(i&&c[d].vdom&&i!==c[d].vdom),m=Object.keys(j),n=m.length&&m.some(b(j,c[d]));if(!n&&g&&l)return!1}return!0},CMDB.notify_failure)}),i=new d(this,c,b,"DuplicateValueChecker",g,f);return void 0!==i.valid?i.valid:"pending"},a.getInfo("err_duplicate_value")),a.validator.addMethod("ValueDupChecker",function(b,c){return a(c).data("ValueDupChecker")().indexOf(b)===-1},a.getInfo("err_duplicate_value")),a.validator.addMethod("DuplicateEntryChecker",function(b,c,e){function g(){var c=e.map(function(c){var d=h+c.path+"/"+c.name+"/"+b;return a.ajax({url:d}).then(function(){return a.Deferred().resolve(!1)},function(){return a.Deferred().resolve(!0)})});a.when.apply(a,c).then(function(){var a=Array.prototype.slice.call(arguments),b=a.every(function(a){return a});j.finish(b,"-15")})}var h="/api/v2/cmdb/",i={mkeySelector:"#mkey"};if(a.extend(e,i),b===a(e.mkeySelector).val())return!0;var j=new d(this,c,b,"DuplicateEntryChecker",g,f,JSON.stringify(e));return void 0!==j.valid?j.valid:"pending"},a.getInfo("-15"));var o=/\[ *['"]?([^'",]*)['"]? *, *['"]?([^'",]*)['"]? *\]/;a.validator.addMethod("RangeChecker",function(b,c,d){if("undefined"==typeof d&&c.getAttribute("range")){var e,f,g=o.exec(c.getAttribute("range"));e=parseInt(g[1],10),f=parseInt(g[2],10),isNaN(e)||isNaN(f)||(d=[e,f])}return(!d||!d.length||d.length<2)&&(d=[0,Math.pow(2,32)-1]),a.validator.messages.RangeChecker=a.getInfo("err_range")+" "+d[0]+"-"+d[1],RegExpCommon.INTEGER.test(b)&&b>=d[0]&&b<=d[1]},a.validator.messages.RangeChecker),a.validator.addMethod("PwdEqChecker",function(b,c){var d=c.getAttribute("password");d&&(d=JSON.parse(d)),d||(d=["password","password2"]);var e=d[0],f=d[1];if(!e||!f)return!1;var g=a('input[name="'+e+'"]'),h=a('input[name="'+f+'"]');return 0===g.length&&0===h.length||g.val()===h.val()},a.getInfo("err_pwd_match"));var p=function(b,c,d){var e,f,g,h=a(c),i=h.closest("form");return("string"!==a.type(d)||d.length<=0)&&(d="input[type=password]",f=null!=(g=/^(.+)2$/.exec(h.attr("name")))?'input[name="'+g[1]+'"]':null),null!=f&&i.length>0&&(e=i.find(f)),(null==e||e.length<=0)&&(e=(i.length>0?i.find(d):a(d)).not(h).first()),a.validator.methods.equalTo.call(this,b,h,e)};a.validator.addMethod("confirm-password",p,a.getInfo("err_pwd_match")),a.validator.addMethod("confirm-password-name",function(a,b,c){return p.call(this,a,b,'input[name="'+c+'"]')},a.getInfo("err_pwd_match")),a.validator.addMethod("host_mask_list",function(b,c){if(this.optional(c))return!0;for(var d=b.split(","),e=0;e<d.length;e++){var f=a.trim(d[e]);if(!RegExpCommon.IP_SUBNET.test(f)&&!RegExpCommon.IP_HOST.test(f)&&!RegExpCommon.IP_RANGE.test(f))return!1}return!0},"192.168.1.0/24, 172.16.1.1-172.16.1.20"),a.validator.addMethod("ip_fqdn",function(b,c){if(this.optional(c))return!0;var d=RegExpCommon.IP_RANGE.test(b);if(d)return d;if(d=RegExpCommon.IP_RANGE2.test(b))return d;for(var e=b.split(/[\s,]+/),f=!1,g=!1,h=0;h<e.length;h++){var i=a.trim(e[h]),j=RegExpCommon.IP_SUBNET.test(i),k=RegExpCommon.IP_HOST.test(i),l=RegExpCommon.FQDN.test(i);if(!j&&!k&&!l)return!1;if((j||k)&&(f=!0),l&&!f&&(g=!0),f&&g)return!1}return!0},a.getInfo("err_ip_fqdn")),a.validator.addMethod("multicast_addr",function(a,b,c){if(this.optional(b))return!0;"undefined"==typeof c&&(c={});var d=/^0\.0\.0\.0$/,e=/^0\.0\.0\.0-0\.0\.0\.0$/,f=c.allow0===!0,g=c.single===!0,h=c.range===!0;return g?!(!f||!d.test(a))||RegExpCommon.MULTICAST_IP_HOST.test(a):h?!(!f||!e.test(a))||RegExpCommon.MULTICAST_IP_RANGE.test(a):f?RegExpCommon.MULTICAST_IP_HOST.test(a)||RegExpCommon.MULTICAST_IP_RANGE.test(a)||d.test(a)||e.test(a):RegExpCommon.MULTICAST_IP_HOST.test(a)||RegExpCommon.MULTICAST_IP_RANGE.test(a)},a.getInfo("err_multicast_addr")),a.validator.addMethod("ipv4_range",function(a,b){if(this.optional(b))return!0;var c=RegExpCommon.IP_RANGE.test(a)||RegExpCommon.IP_RANGE2.test(a)||RegExpCommon.IP_HOST.test(a),d=!0;if("string"==typeof a){var e=a.split("-");"0.0.0.0"!==e[0]&&e.push("0.0.0.0"),e.length>2&&(d=n(e[0],e[1],e[2]))}return c&&d},a.getInfo("err_ip_range")),a.validator.addMethod("number_list",function(b,c,d){if(this.optional(c))return!0;"undefined"==typeof d&&(d={});var e=",";"undefined"!=typeof d.separator&&(e=d.separator);var f=b.split(e);if("undefined"!=typeof d.max_values&&f.length>d.max_values)return!1;for(var g="undefined"!=typeof d.min,h="undefined"!=typeof d.max,i=0;i<f.length;i++){var j=a.trim(f[i]);if(!/^\d+$/.test(j))return!1;if(g&&j<d.min||h&&j>d.max)return!1}return!0},a.getInfo("custom")),a.validator.addMethod("number_range_list",function(b,c,d){if(this.optional(c))return!0;"undefined"==typeof d&&(d={});var e=0,f=b.split(","),g=null!=d.min,h=null!=d.max,i=function(){return g&&h&&(a.validator.messages.number_range_list=d.min+"-"+d.max),!1};if(void 0!==d.max_values&&f.length>d.max_values||void 0!==d.min_values&&f.length<d.min_values)return i();for(var j=0;j<f.length;j++){var k=a.trim(f[j]);if(!/^\d+(-\d+)?$/.test(k))return i();var l=k.split("-");e+=1;var m=parseInt(l[0],10);if(g&&m<d.min||h&&m>d.max)return i();if(2===l.length){var n=parseInt(l[1],10);if(g&&n<d.min||h&&n>d.max)return i();if(n<m)return i();e+=n-m}}return!("undefined"!=typeof d.max_total&&e>d.max_total)||i()},a.getInfo("custom")),a.validator.addMethod("hex-number",function(a,b){return this.optional(b)||/\b(0x)?[0-9a-fA-F]+\b$/.test(a)},a.getInfo("err_hex_number")),a.validator.addMethod("integer",function(a){return RegExpCommon.INTEGER.test(a)},a.getInfo("integer")),a.validator.addMethod("XML",function(b,c){var d;if(this.optional(c))return!0;try{d=a.parseXML(b)}catch(a){d=!1}return d!==!1},a.getInfo("err_invalid_xml")),jQuery.validator.addMethod("require_from_group",function(b,c,d){var e=d[1],f=a(e,c.form).filter(function(){return a(this).val()}).length>=d[0];if(!a(c).data("being_validated")){var g=a(e,c.form);g.data("being_validated",!0),g.valid(),g.data("being_validated",!1)}return f},a.getInfo("err_require_from_group")),jQuery.validator.addMethod("skip_or_fill_minimum",function(b,c,d){var e=d[0],f=d[1],g=a(f,c.form).filter(function(){return a(this).val()}).length,h=g>=e||0===g;if(!a(c).data("being_validated")){var i=a(f,c.form);i.data("being_validated",!0),i.valid(),i.data("being_validated",!1)}return h},a.getInfo("err_skip_or_fill_minimum")),jQuery.validator.addMethod("match_mask",function(b,c){for(var d=a(c).data("maskedinput_tests")||[],e=0;e<d.length;++e)if(d[e]&&!d[e].test(b.charAt(e)))return!1;return!0},a.getInfo("err_match_mask")),jQuery.validator.addMethod("intf_diff",function(b,c,d){var e=d[0],f=d[1],g=a(e).val(),h=a(f).val();return""===g||""===h||("any"===g&&"any"===h||g!==h)},a.getInfo("err_intf_diff")),jQuery.validator.addMethod("url_noscheme",function(a,b){return this.optional(b)||/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},jQuery.validator.messages.url),jQuery.validator.addMethod("SimpleUrlChecker",function(a){function b(a){var b=a.split(/^(([^:\/?#]*):\/\/)?([^\/?#]*)?([^?#]*)(\?([^#]*))?(#(.*))?/),c=/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,d=/(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?/,e=void 0!==b[2],f=void 0!==b[3],g=void 0!==b[4];return(!e||["https","http"].indexOf(b[2].toLowerCase())!==-1)&&(!f&&g?d.test(a):c.test(a))}var c="localhost"===a||RegExpCommon.IP_HOST.test(a)||RegExpCommon.IP6_HOST.test(a.slice(1,-1))&&"["===a.charAt(0)&&"]"===a.charAt(a.length-1);return c?c:b(a)},jQuery.getInfo("err_urlfilter_url")),jQuery.validator.addMethod("FGTDNSNameChecker",function(a,c){return this.optional(c)||b.commonRegExp.FGT_DNS_NAME.test(a)},jQuery.getInfo("err_domain_filter")),jQuery.validator.addMethod("regex",function(a,b){try{return this.optional(b)||new RegExp(a)}catch(a){return!1}},function(b,c){try{new RegExp(a(c).val())}catch(b){var d=b.message;return/expr/i.test(d)||(a.loadedScript=[],d=a.getInfo("-653").replace(/\.$/,"")+": "+d),d}}),jQuery.validator.addMethod("regex_match",function(a,b,c){try{var d=new RegExp(c);return this.optional(b)||d.test(a)}catch(a){return!1}},a.getInfo("-50")),jQuery.validator.addMethod("required_one",function(b,c,d){var e=a(d[0]).val(),f=a(d[1]),g=f.val(),h=""!==e&&"none"!==e,i=""!==g&&"none"!==g&&f.is(":visible");return h||i},a.getInfo("err_auth_method_required")),a.validator.bakeMethod=function(b,c,d,e){null==d&&(d=""+b+c),a.validator.addMethod(d,function(d,e){return a.validator.methods[b].call(this,d,e,c)},null!=e?e:function(c,d){return a.validator.defaultMessage.call(this,d,b)})},jQuery.validator.addMethod("smsphoneLengthChecker",function(b,c,d){var e=a(d[0]).text(),f=a(d[1]).val(),g=a(d[2]).val().replace(/_/g,""),h=15,i=e.replace("+","")+f+g;return i.length<=h},a.getInfo("sms_phone_length")),jQuery.validator.addMethod("lowest-version",function(a,b,c){function d(a){return parseInt(a,10)}for(var e,f,g=c.split(".").map(d),h=a.split(".").map(d),i=Math.min(g.length,h.length),j=0;j<i;++j){if(e=h[j],f=g[j],e>f)return!0;if(e<f)return!1}return!0},a.getInfo("Lowest supported version is {VERSION}")),jQuery.validator.addMethod("seq-version-parts",function(a,b,c){var d=parseInt(c,10),e=RegExp.prototype.test.bind(/^\d$/),f=a.split(".");return""===a||f.length===d&&f.every(e)},a.getInfo("Invalid version number. Must contain {0} numeric parts, separated by a .")),jQuery.validator.addClassRules("seq-version-parts",{"seq-version-parts":3})}}),d.prototype={valid:void 0,init:function(){var b=a(this._element),c=b.data(this._data_key);c&&c.stop(!1),b.data(this._data_key,this),this._previous.old=this._value,this._previous.lastRequestSignature=this._requestSignature,this._validator.settings.messages[this._elem_name]||(this._validator.settings.messages[this._elem_name]={}),this._validator.startRequest(this._element),this._init_validation&&this._init_validation()},stop:function(a){this._validator.stopRequest(this._element,a)},finish:function(b,c){function d(a){return!(!a.element||a.element.name!==i||a.method===k)}if(void 0!==this.valid)throw new Error("Already validated! Don't try to async re-validate the same value");var e,f,g=this._validator,h=this._element,i=this._elem_name,j=this._previous,k=this._rule_name;if(b){var l=g.errorList.slice(0),m=l.filter(d);m.length?g.showErrors():(f=g.formSubmitted,g.prepareElement(h),g.formSubmitted=f,g.successList.push(h),delete g.invalid[i],g.showErrors(),j.valid=b)}else e={},e[i]=g.defaultMessage(h,k||a.getInfo(c)),g.invalid[h.name]=!0,g.showErrors(e),j.valid=b;if(this._end){var n=Math.max(this._end-Date.now(),0);window.setTimeout(function(){var c=a(h),d=c.data(this._data_key);d!==this||this.validation_pending||(this.stop(b),c.data(this._data_key,null))}.bind(this),n)}else this.stop(b)}},e.prototype={toString:function(){function b(a){return a.map(c).join(" and ")}function c(b){return a.getInfo(b)}return this._expression.map(b).join(" or ")},requirementsMetBy:function(a){function b(a){return a.every(c)}function c(b){return a.some(function(a){return a.q_path+"."+a.q_name===b})}return this._expression.some(b)}},{RequireSources:e}}),fweb_define("legacy.checkip",null,null,function(){window.isInt=function(a){var b,c;for(b=0;b<a.length;b++)if(c=a.charAt(b),c<"0"||c>"9")return!1;return!0},window.isIP=function(a){var b,c=a.split(".");if(4!=c.length)return!1;for(var d=0;d<4;d++){if(!isInt(c[d]))return!1;if(b=parseInt(c[d],10),b<0||b>255)return!1}return"0"!=c[0]},window.ipStrToNum=function(a){for(var b=0,c=a.split("."),d=0;d<4;d++)b<<=8,b+=parseInt(c[d],10);return b}}),fweb_define("legacy.not_prototype",null,"NotPrototype",function(){var a={input:function(b){switch(b.type.toLowerCase()){case"checkbox":case"radio":return a.inputSelector(b);default:return a.textarea(b)}},inputSelector:function(a){return a.checked?a.value:null},textarea:function(a){return a.value},select:function(a){return this["select-one"==a.type?"selectOne":"selectMany"](a)},selectOne:function(a){var b=a.selectedIndex;return b>=0?this.optionValue(a.options[b]):null},selectMany:function(a){var b,c,d=a.length;if(!d)return null;for(c=0,b=[];c<d;c++){var e=a.options[c];e.selected&&b.push(this.optionValue(e))}return b},optionValue:function(a){return a.hasAttribute("value")?a.value:a.text}},b={Browser:{IE:!(!window.attachEvent||window.opera),WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1},Form:{getElements:function(b){return jQuery.map(b.getElementsByTagName("*"),function(b){if(a[b.tagName.toLowerCase()])return b})},getValue:function(b){var c=b.tagName.toLowerCase();return a[c](b)}},Event:{stop:function(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}},Position:{cumulativeOffset:function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return[c,b]},positionedOffset:function(a){var b=0,c=0;do if(b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent){if("body"==a.tagName.toLowerCase())break;var d=jQuery(a).css("position");if("relative"==d||"absolute"==d)break}while(a);return[c,b]},page:function(a){var b=0,c=0,d=a;do if(b+=d.offsetTop||0,c+=d.offsetLeft||0,d.offsetParent==document.body&&"absolute"==jQuery(d).css("position"))break;while(d=d.offsetParent);d=a;do window.opera&&"body"!=d.tagName.toLowerCase()||(b-=d.scrollTop||0,c-=d.scrollLeft||0);while(d=d.parentNode);return[c,b]},absolutize:function(a){var b=jQuery(a);if("absolute"!=b.css("position")){var c=b.position(),d=c.top,e=c.left,f=a.clientWidth,g=a.clientHeight;b.data("absolutize_original",{left:e-parseFloat(b.css("left")||0),top:d-parseFloat(b.css("top")||0),width:b.css("width"),height:b.css("height")}).css({top:d+"px",left:e+"px",width:f+"px",height:g+"px",position:"absolute"})}}},String:{toQueryParams:function(a,b){var c=a.trim().match(/([^?#]*)(#.*)?$/);return c?c[1].split(b||"&").reduce(function(a,b){if((b=b.split("="))[0]){var c=decodeURIComponent(b.shift()),d=b.length>1?b.join("="):b[0];null!=d&&(d=decodeURIComponent(d)),c in a?(a[c].constructor!=Array&&(a[c]=[a[c]]),a[c].push(d)):a[c]=d}return a},{}):{}}}};return b.Browser.WebKit&&(b.Position.cumulativeOffset=function(a){var b=0,c=0;do{if(b+=a.offsetTop||0,c+=a.offsetLeft||0,a.offsetParent==document.body&&"absolute"==Element.getStyle(a,"position"))break;a=a.offsetParent}while(a);return[c,b]}),window.Option||(window.Option=function(a,b,c,d){var e=document.createElement("option");return e.textContent=a,e.value=b,e.defaultSelected=c,e.selected=d,e}),b}),fweb_define("jquery.support",["jquery"],null,function(a){"use strict";var b=document.createElement("div"),c=function(a,c){return b.style[a]=c,b.style[a]===c},d={flexbox:["flex","-webkit-flex","-webkit-box","-ms-flexbox"].some(c.bind(null,"display")),transitionEvent:"TransitionEvent"in window};for(var e in d)e in a.support||(a.support[e]=d[e]);d.flexbox||(document.documentElement.className+=" no-flexbox")}),fweb_define("jquery.ui_dependencies",["jquery"],"jQuery.fn.ui_dependencies",function(a){"use strict";function b(b,c,d,e,f,g){function h(a){return function(b){return b.depType&a}}var i="UI_TRIGGERING_DATA_ATTR",j=["data","attr","addClass","removeClass"].reduce(function(k,l){return k[l]=a.fn[l],a.fn[l]=function(a){var k,m,n=j[l].apply(this,arguments),o="data"===l&&[i,d].indexOf(a)>-1||"addClass"===l&&a===c||j.data.call(this,i);return o?n:(j.data.call(this,i,!0),m=j.data.call(this,d),m&&(k="data"===l?2===arguments.length&&m.some(h(e)):"attr"===l?m.some(h(f)):m.some(h(g)),k=k&&this.hasClass(c),k&&this.trigger(b)),this.removeData(i),n)},k},{})}function c(a,b){return b?a?this.slideDown(b):this.slideUp(b):this.css("display",a?"":"none")}function d(){c.call(this,!0)}function e(a){return/^\/.*\/$/.test(a)?new RegExp(a.substr(1,a.length-2)):a.split(",")}function f(b,c){function d(a){return"select"===String(a.get(0).tagName).toLowerCase()?a.find("option:selected"):a}var e=b.$inputs.toArray().some(function(e,f){var g,h=a(e);if(null==b.values)g=e.checked;else if(c)g=b.values.some(function(a){return d(h).hasClass(a)});else{var i;i=b.dataAttr?String(d(h).data(b.dataAttr)):b.attr?String(d(h).attr(b.attr)):["radio","checkbox"].includes(e.type)?e.checked?e.value:null:e.value,g=b.values instanceof RegExp?b.values.test(i):a.inArray(i,b.values)>-1}return g&&b.visibility[f].test(h)});return b.negate?!e:e}function g(b){return b.map(function(b,c){var d='[type=radio][name="'+c.name+'"]';return"radio"===c.type?a(d).get():c})}function h(b,c){function d(){return"span"===String(this.parentNode.tagName).toLowerCase()}c?b.removeAttr("disabled").filter(d).removeAttr("selected").unwrap():b.attr("disabled","disabled").not(d).wrap("<span>").parent().hide(),b=b.filter(":selected:disabled"),!c&&b.length&&a.unique(b.parent()).each(function(){var b=a(this);this.selectedIndex=b.find("option").not(":disabled").first().index(),b.change()})}function i(b,c,d,f,g){function h(a,b){a=a||s,b=b||t;var c=d.replace(b,"");return d=d.replace(a,""),c}function j(a){if(this.ignore)return!0;var b="hidden"===a[0].type&&a.parent().is(":visible");return b||a.is(":visible")}function m(b){var c=a(b),d=c.data(ca);return void 0===d&&(d=!!c.closest(da).length,c.data(ca,d)),{ignore:d,test:j}}if(this.ns=function(a){return a.split(" ").map(function(a){return a+".dependencies-dep"+i.nsid++}).join(" ")},this.$elem=c,this.$scope=this.get_scope(g),this.depType=b,this.duration=f,this.selector=d,this.depType===$)this.addTo(c.not("[name]"));else{this.matches=[];var n,p,s=/^[^\s]*\s/,t=/\s.*$/,u=/^[^=]*=/,w=/=.*$/;l&this.depType&&(this.toggleClass=h());for(var x=/((?:\s*\/[^\/\\]*(?:\\.[^\/\\]*)?\/)?[^\$$]+)\$?/g,y=d;p=x.exec(y);)n={},n.selector=p[1].trim(),d=n.selector,this.matches.push(n),n.negate="!"===d.replace(t,""),n.negate&&(d=d.replace(s,"")),r&this.depType&&(n.attr=h(u,w)),q&this.depType&&(n.dataAttr=h(u,w)),k&this.depType&&(n.values=e(h())),o&this.depType&&(this.name=h()),n.$inputs=this.$scope.find(d),n.visibility=n.$inputs.toArray().map(m);v&this.depType&&this.setup_insert(),this.register_events()}}function j(){var b=this===a?a(document):this,c=b.find(ha).add(b.filter(ha));return c.each(function(c,d){var e,f,g=a(d);f=g.data("duration"),a.each(ia,function(a,c){e=g.data(a),e&&new i(c,g,e,f,b)})}),this}a.extend({ui_dependencies:j}),a.fn.ui_dependencies=j,a.fn.niceToggle=c,a.fn.niceShow=d;var k=1,l=2,m=4,n=8,o=16,p=32,q=64,r=128,s=256,t=512,u=1024,v=2048,w=4096,x=n|m,y=n|k,z=n|q|k,A=n|r|k,B=n|t|k,C=w|m,D=w|k,E=w|q|k,F=w|r|k,G=w|t|k,H=l|m,I=l|k,J=l|q|k,K=l|r|k,L=l|t|k,M=s|m,N=s|k,O=s|q|k,P=s|r|k,Q=s|t|k,R=o|m,S=u|m,T=u|k,U=v|m,V=v|k,W=v|q|k,X=v|r|k,Y=v|t|k,Z=l|p,$=o|p,_="ui_dependencies_attr_change",aa="dependency_change",ba="ui_dependencies",ca="ui_dependencies_ignore_visibility",da=".dependency_ignore_visibility",ea="change validated "+_,fa="dependency_trigger",ga="."+fa,ha=".depends",ia={"show-if-value":y,"show-if-checked":x,"show-if-data":z,"show-if-attr":A,"show-if-class":B,"hide-if-value":D,"hide-if-checked":C,"hide-if-data":E,"hide-if-attr":F,"hide-if-class":G,"class-if-value":I,"class-if-checked":H,"class-if-data":J,"class-if-class":L,"name-if-changed":$,"class-if-changed":Z,"class-if-attr":K,"enable-if-checked":M,"enable-if-value":N,"enable-if-data":O,"enable-if-attr":P,"enable-if-class":Q,"name-if-checked":R,"check-if-checked":S,"check-if-value":T,"insert-if-value":V,"insert-if-checked":U,"insert-if-data":W,"insert-if-attr":X,"insert-if-class":Y},ja=Object.keys(ia).reduce(function(a,b){return a[ia[b]]=b,a},{}),ka={};b(_,fa,ba,q,r,l),i._triggering=0,i._insert=[],i.nsid=0,i.on_change=function(b,c){var d=this,e=0,f=a(this).data(ba);if(f||a.error("No dependencies found!"),e=f.reduce(function(a,e){return e.changed(d,b,c)&&a.push(e),a},[]),0===i._triggering){var g,h=e.length;for(g=0;g<h;++g)e[g].$elem.trigger(aa,[e[g],b])}},i.prototype.register_events=function(a){a=a||!1,this.matches.forEach(function(b){var c=b.$inputs;c.length&&(c.each(function(a,b){this.changed(b)}.bind(this)),m&this.depType&&(c=g(c)),this.addTo(c),a=!0)}.bind(this)),a&&this.$elem.trigger(aa,[this,null])},i.prototype.get_scope=function(a){var b=this.$elem.parents(".dependency_scope"),c=+(this.$elem.data("dependency-ignore-scope")||0),d=a;return b.length&&b.length>c&&(d=b.eq(c)),d},i.prototype.changed=function(b,c,d){var e,g,j,k=0;if(this.depType&p)c&&c.currentTarget===b&&!i._triggering&&d!==ka&&(e=a(b),this.depType&o&&(b.name=e.data("name-if-changed"),e.removeAttr("name-if-changed")),this.depType&l&&(e.addClass(e.data("class-if-changed")),e.removeAttr("class-if-changed")),this.removeFrom(e));else{if(g=this.matches.filter(function(a){return a.$inputs.length}).every(function(a){return f(a,t&this.depType)}.bind(this)),g!==this._lastMatch&&(l&this.depType?(this.$elem.toggleClass(this.toggleClass,g),++k):n&this.depType?(this.$elem.niceToggle(g,this.duration),++k,j=this.$elem.filter("option"),j.length&&h(j,g)):w&this.depType?(this.$elem.niceToggle(!g,this.duration),++k,j=this.$elem.filter("option"),j.length&&h(j,!g)):s&this.depType?(this.$elem.enable(g),++k):o&this.depType?(this.$elem.prop("name",g?this.name:null),++k):u&this.depType?this.$elem.is(":checked")||(this.$elem.check(g),++k):v&this.depType&&this.insert(g)),c&&!this._triggering&&g!==this._lastMatch){++i._triggering,this._triggering=!0;try{this.$elem.find(ga).change()}catch(a){throw a}finally{this._triggering=!1,--i._triggering}}this._lastMatch=g}return i._triggering?0:k},i.prototype.setup_insert=function(){setTimeout(function(){var b=ja[this.depType];this.$insertionPoint=a("<!-- dependency insert point for "+b+'="'+this.selector+'"-->'),this.$elem.after(this.$insertionPoint),this.$elem.detach(),this.$nodes=this.$elem.children(),void 0===this._present?(this.insert(!0,!0),this.$elem.trigger(aa,[this,null])):this.insert(this._present,!0)}.bind(this))},i.prototype.insert=function(a,b){var c=this._present!==a;this._present=a,this.$nodes&&(c||b)&&(a?(this.$insertionPoint.after(this.$nodes),this.register_events(!0),this.$nodes.find("input, select").trigger("change",ka)):this.$nodes.detach())},i.prototype.addTo=function(b){var c=this;b.each(function(b,d){var e=a(d);e.off(c.ns(ea)).on(c.ns(ea),i.on_change);var f=e.data(ba)||[];f.push(c),e.addClass(fa).data(ba,f)})},i.prototype.removeFrom=function(a){var b,c=a.data(ba)||[];c=c.filter(function(a){return a!==this}),b=c.map(function(a){return a.ns(ea)}).join(" "),a.data(ba,c.length?c:null),0===c.length&&a.off(b).removeClass(fa)},j.ATTR_CHANGE_EVENT=_}),fweb_define("jquery.maskedinput",["jquery"],null,function(){if(function(a){function b(){var a=document.createElement("input"),b="onpaste";return a.setAttribute(b,""),"function"==typeof a[b]?"paste":"input"}var c,d=b()+".mask",e=navigator.userAgent,f=/iphone/i.test(e),g=/android/i.test(e);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(b,e){var h,i,j,k,l,m;return!b&&this.length>0?(h=a(this[0]),h.data(a.mask.dataName)()):(e=a.extend({placeholder:a.mask.placeholder,completed:null},e),i=a.mask.definitions,j=[],k=m=b.length,l=null,a.each(b.split(""),function(a,b){"?"==b?(m--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(a){for(;++a<m&&!j[a];);return a}function n(a){for(;--a>=0&&!j[a];);return a}function o(a,b){var c,d;if(!(a<0)){for(c=a,d=h(b);c<m;c++)if(j[c]){if(!(d<m&&j[c].test(w[d])))break;w[c]=w[d],w[d]=e.placeholder,d=h(d)}t(),v.caret(Math.max(l,a))}}function p(a){var b,c,d,f;for(b=a,c=e.placeholder;b<m;b++)if(j[b]){if(d=h(b),f=w[b],w[b]=c,!(d<m&&j[d].test(f)))break;c=f}}function q(a){var b,c,d,e=a.which;8===e||46===e||f&&127===e?(b=v.caret(),c=b.begin,d=b.end,d-c===0&&(c=46!==e?n(c):d=h(c-1),d=46===e?h(d):d),s(c,d),o(c,d-1),a.preventDefault()):27==e&&(v.val(x),v.caret(0,u()),a.preventDefault())}function r(b){var c,d,f,i=b.which,k=v.caret();b.ctrlKey||b.altKey||b.metaKey||i<32||i&&(k.end-k.begin!==0&&(s(k.begin,k.end),o(k.begin,k.end-1)),c=h(k.begin-1),c<m&&(d=String.fromCharCode(i),j[c].test(d)&&(p(c),w[c]=d,t(),f=h(c),g?setTimeout(a.proxy(a.fn.caret,v,f),0):v.caret(f),e.completed&&f>=m&&e.completed.call(v))),b.preventDefault())}function s(a,b){var c;for(c=a;c<b&&c<m;c++)j[c]&&(w[c]=e.placeholder)}function t(){v.val(w.join(""))}function u(a){var b,c,d=v.val(),f=-1;for(b=0,pos=0;b<m;b++)if(j[b]){for(w[b]=e.placeholder;pos++<d.length;)if(c=d.charAt(pos-1),j[b].test(c)){w[b]=c,f=b;break}if(pos>d.length)break}else w[b]===d.charAt(pos)&&b!==k&&(pos++,f=b);return a?t():f+1<k?(v.val(""),s(0,m)):(t(),v.val(v.val().substring(0,f+1))),k?b:l}var v=a(this),w=a.map(b.split(""),function(a,b){if("?"!=a)return i[a]?e.placeholder:a}),x=v.val();v.data(a.mask.dataName,function(){return a.map(w,function(a,b){return j[b]&&a!=e.placeholder?a:null}).join("")}),v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){clearTimeout(c);var a;x=v.val(),a=u(),c=setTimeout(function(){t(),a==b.length?v.caret(0,a):v.caret(a)},10)}).bind("blur.mask",function(){u(),v.val()!=x&&v.change()}).bind("keydown.mask",q).bind("keypress.mask",r).bind(d,function(){setTimeout(function(){var a=u(!0);v.caret(a),e.completed&&a==v.val().length&&e.completed.call(v)},0)}),u()}))}})}(jQuery),null==window.jQuery.fn.mask)throw new Error('Grunt Requireize: module does not define "window.jQuery.fn.mask"');return window.jQuery.fn.mask}),fweb_define("fgd_common",["jquery","fweb","legacy.util"],"fgd_common",function(a,b){"use strict";function c(c,d){var f=this,h=d[0].results.total_entries,i=c===b.BUILD.SYMBOLS.LICENSE_STATUS_LICENSED,j=a.getInfo(f.lang.info,[h,'&nbsp;<a href="#">'+a.getInfo("botnet package")+"</a>"]),k=a.getInfo(f.lang.warning);return g(e,{
info_html:"<p>"+j+"</p>",warning_html:i?"":"<p>"+k+"</p>",icon_class:i?"fa-info-circle":"fa-warning"})}var d="/api/v2/monitor/license/status",e='<f-icon class="{{ icon_class }}"></f-icon><div class="message-content">{{ info_html }}{{ warning_html }}</div>',f=null,g=b.util.dom.renderTemplate,h={PACKAGES:{DBDB:{license:"antivirus",lang:{info:"{COUNT} domains in {PACKAGE}.",warning:"Botnet package update unavailable, AntiVirus subscription not found."},url:{stat:"/api/v2/monitor/system/botnet-domains/stat",details:"/p/system/botnet/?by_domain=true"},format_fn:c},IBDB:{license:"antivirus",lang:{info:"{COUNT} IP Addresses in {PACKAGE}.",warning:"Botnet package update unavailable, AntiVirus subscription not found."},url:{stat:"/api/v2/monitor/system/botnet/stat",details:"/p/system/botnet/?by_ip=true"},format_fn:c},UWDB:{license:"web_filtering"},FFDB:{license:"web_filtering",url:{details:"/p/firewall/internet_service/"}}},default_selector:"#qlistqlist a, #qlist a",getidtable:{fromclass:function(a){for(var b=a.attr("class").split(" "),c=0;c<b.length;++c){var d=b[c],e=d.match(/id_(\d+)/);if(e)return e[1]}return-1},fromlink:function(a){return a.attr("href").replace("http://www.fortinet.com/ids/VID","")}},_query_fortiflow_database:function(b){var c=function(){var a,c,d,e;for(e=[],c=0,d=b.length;c<d;c++)a=b[c],e.push(this._gen_app_hash_key(a));return e}.call(this).join("##"),d=this._request_cache[c];return null==d&&(d=a.getJSON("/api/monitor",{path:"utm",name:"app-lookup",json:JSON.stringify({hosts:b})}),this._request_cache[c]=d),d},_request_cache:{},_gen_app_hash_key:function(a){return[a.address,a.dst_port,a.protocol].join("#")},gen_app_html:function(a,b,c,d,e){return d||(d=""),e||(e=""),a===-1?'<f-icon class="fa-cloud"></f-icon><span>'+escapeHTML(b)+"</span>":'<span class="fgd-app tooltip id_'+escapeHTML(a)+" "+d+'" data-address="'+c.address+'" data-dport="'+c.dst_port+'" data-protocol="'+c.protocol+'" ><span class="app_icon app'+escapeHTML(a)+'" ></span><label class="app_label" title="'+escapeHTML(e)+'">'+escapeHTML(b)+"</label></span>"},gen_wf_html:function(a,b){return'<span class="tooltip wf_category id_'+a+'" ><span class="wf_icon wf'+a+'" ></span><label class="wf_label" title="'+b+'">'+b+"</label></span>"},gen_wf_html_no_icon:function(a,b){return'<span class="tooltip wf_category id_'+a+'"><label class="wf_label" title="'+b+'">'+b+"</label></span>"},gen_app_cat_html:function(a){return'<span class="tooltip ac_category dont-use-id" data-cat="'+a+'"><label class="ac_label" title="'+a+'">'+a+"</label></span>"},_update_unknown_apps:function(a,b){for(var c=a.results,d=0;d<c.length;d++){var e,f=c[d];if(f&&f.apps){var g=h._gen_app_hash_key(f);if(e=b[g]){for(var i="",j=0;j<f.apps.length;j++){var k=f.apps[j];j>0&&(i+=", "),i+=h.gen_app_html(-1,k.app_name,f,"app_queried")}e.replaceWith(i).data("app-fortiflow-done",!0).data("app-tooltip-done",null)}}}},_setup_tooltips:function(b,c,d,e,f){"undefined"==typeof b&&(b=h.default_selector);var g=b;"function"==typeof b&&(g=b()),"undefined"==typeof e&&(e={});var i=[],j={},k=this;a(g).each(function(){var b=a(this);if(b.data("app-tooltip-done"))return!0;b.data("app-tooltip-done",!0),a(this).click(function(a){a.preventDefault()});var d=b.text(),g=-1;if(!(d.length<1)){if(!b.hasClass("dont-use-id")){if(k.getidtable[c]||(c="fromlink"),(g=k.getidtable[c](b))<0)return;if(0===+g){if(b.data("app-fortiflow-done"))return;var l=b.data("address"),m=b.data("dport"),n=b.data("protocol");if(l&&m&&n){var o={address:l,dst_port:m,protocol:n},p=h._gen_app_hash_key(o);p in j?j[p]=j[p].add(b):(i.push(o),j[p]=b)}return}}0===b.find("a").length&&b.wrapInner('<a href="javascript: void 0" onclick="return false;"/>');var q=document.location.protocol+"//www.fortiguard.com/",r=300,s=200;if(b.hasClass("wf_category")){if(g>=107)return;q+="wf/"+g+".html",r=400,s=225}else b.hasClass("ac_category")?(q+="ac/"+b.data("cat").replace(/\//gi,".")+".html",r=390,s=185):b.hasClass("waf_sig")?(q="/p/utm/waf/signature_details/"+b.data("sig-id")+"/",d=b.data("sig-title"),r=390,s=185):q+="fos/"+g;b.find("a").prop("href",q).qtip({content:{text:'<iframe width="'+(r+30)+'" height="'+s+'" frameBorder="0" src="'+q+'"/>',title:{text:'<div style="width: '+r+'px; overflow: hidden; text-overflow: ellipsis;">'+d+"</div>",button:!0}},hide:{event:"unfocus"},show:{event:"click",solo:!0},position:{my:"top center",at:"bottom left",adjust:e,container:f||!1,viewport:!0}})}}),i.length&&d&&h._query_fortiflow_database(i).done(function(a){h._update_unknown_apps(a,j),h._setup_tooltips(b,c,d,e,f)})},_setup_tooltips_iframe:function(a,b,c){if(window.frameElement){"undefined"==typeof a&&(a=h.default_selector);var d=window.parent.$j(window.frameElement);if(a.nodeType&&1===a.nodeType)window.parent.fgd_common._setup_tooltips(a,b);else{var e={x:d.offset().left,y:d.offset().top};window.parent.fgd_common._setup_tooltips(function(){var b=d;try{b=d.$contents()}catch(a){}return b.find(a)},b,c,e)}}},setup_tooltips:function(a,b,c,d,e){return window.parent!==top&&window.parent!==window||d?h._setup_tooltips_iframe(a,b,c):h._setup_tooltips(a,b,c,{},e)},get_license_status_for:function(b){return f||(f=a.getJSON(d)),f.then(function(a){var c=a.results;return c[b.license].status})},gen_stat_inline_message_for:function(b){return a.when(this.get_license_status_for(b),a.getJSON(b.url.stat)).then(function(a,c){return b.format_fn(a,c)}.bind(this))}};return h}),fweb_define("byod_common",["jquery","fweb.util/dom","fweb.util/icon","cmdb","select_setup_device","fweb.util/switchctrl"],"byod_common",function(a,b,c,d,e,f){"use strict";var g={default_selector:".byod_details",default_tag_selector:".object-tag",gen_icon:function(a,b,c,d){var e='<f-icon class="'+(d||"")+" "+a+'"';return c&&(e+=' title="'+c+'"'),e+="></f-icon>",b&&(e+="<span>"+b+"</span>"),e},gen_fw_icon:function(a,b,c){return this.gen_icon(a,b,c)},gen_fw_device_icon:function(a,c,d,e,f,g){c||(c="unknown");var h=this.gen_fw_device_class(c);if(d=d?b.escapeHTML(d):a,e)return h;var i=f?'data-csf-path="'+f+'"':"",j=g?' data-source="'+g+'"':"",k='<span class="byod_details" data-mac-address="'+a+'" '+i+j+">";return k+=this.gen_fw_icon(h,d,c),k+"</span>"},gen_fw_device_sort_fn:function(b,c){var d=a.isFunction(c)?c:function(a){return a[c]},e=function(a,c,e){var f=d(a),g=d(c);return f||g?e(f,g):e(a[b],c[b])};return e.kind="comp_row",e},device_class_map:c.ICON_TYPE_MAP[c.ICON_TYPE.DEVICE],forticlient_state_map:e.STATUS_MAP,gen_fw_device_class:function(a){return this.device_class_map[a]||"ftnt-device"},setup_device_tooltips:function(c,d){c=c||g.default_selector;var e=d?d.find(c):a(c);e.each(function(){var c=a(this).data("macAddress"),d=a(this).data("csfPath"),e=a(this).data("source");c&&"string"==typeof c&&c.indexOf(":")>=0&&b.setupObjectTooltip({element:this,mkey:c,datasource:e||"detectedDevices",csfPath:d,failureText:a.getInfo("No device information")})})},setup_tag_tooltips:function(c){c=c||g.default_tag_selector;var d=a(c);d.each(function(){var c=a(this).data("assetTag");c&&"string"==typeof c&&b.setupObjectTooltip({element:this,mkey:c,datasource:"system.object-tag"})})},isDevice:{Windows:function(){return/Windows NT/i.test(navigator.userAgent)},Mac:function(){return/Mac/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},WindowsPhone:function(){return/Windows Phone/i.test(navigator.userAgent)},Mobile:function(){return this.iOS()||this.Android()||this.WindowsPhone()}},isDeviceDeletable:function(a){var b=a.devices||0,c=a.q_ref||0;return c<b},getOnlineStatusKey:function(a,b){return a.state&&"unregistered"!==a.state?"registered"!==a.state?a.state:a.online?top.state.featureEnabled("gui-endpoint-control-advanced")?"on_net"in a&&!a.on_net?"registered-online-offnet":"registered-online-onnet":"registered-online":"registered-offline":a.interface&&a.last_seen<=b.offlineThreshold?"online":"offline"},combineEndpointDevice:function(b,c,d){var e=b.map(function(a){return a.mac}),f=function(a){return e.indexOf(a.mac)===-1&&a.interface&&!!a.intf_allow_fortiheartbeat},g=c.filter(f),h=function(a){return function(b,c){return b[c[a]]=c,b}},i=c.reduce(h("mac"),{}),j=[];return b.forEach(function(a){if(a.intf_allow_fortiheartbeat||["quarantined","registered"].indexOf(a.state)>-1){var b=i[a.mac]||i[a.master_mac];b&&(a.master_device_info=b),j.push(a)}}),a.isFunction(d)?j.concat(g).map(d):j.concat(g)},genDHCPSnoopingInlineMsg:function(c,d){return f.getDHCPSnoopingMap(c,d).then(function(c){var d=0;if(Object.keys(c).forEach(function(a){Object.keys(c[a]).forEach(function(b){var e=c[a][b];e&&e.untrusted&&(d+=e.untrusted)})}),d){var e=a.getInfo("{COUNT} DHCP server(s) blocked.",[d]),f=a.getInfo("Go to FortiSwitch Ports"),g='<div class="info-message"><f-icon class="fa-warning"></f-icon><div class="message-content"><span>{{msg}}</span> <a href="#">{{link}}</a></div></div>';return b.renderTemplate(g,{msg:e,link:f})}return""})},genComplianceStatInlineMsg:function(c,d){var e="/api/v2/monitor/user/device/select/?compliance_visibility=true",f="/api/v2/monitor/endpoint-control/record-list/select/",h="/api/v2/cmdb/system/global/?format=device-idle-timeout";return e=setQueryValue(e,"vdom",d),e=setQueryValue(e,"intf_name",c),f=setQueryValue(f,"vdom",d),f=setQueryValue(f,"intf_name",c),a.when(a.getJSON(e),a.getJSON(f),a.getJSON(h)).then(function(c,d,e){function f(b){var c,d=b.master_device_info||{},e=a.extend({},d,b);return"quarantined"!==b.compliance_status&&"exempt"===d.compliance_status&&(e.compliance_status=d.compliance_status),c=g.getOnlineStatusKey(e,{offlineThreshold:i}),e.intf_ec_enforce&&c.indexOf("online")!==-1||(e.compliance_status="n/a"),e}function h(a){return function(b,c){return c.compliance_status===a&&(b+=1),b}}var i=e[0].results["device-idle-timeout"],j=g.combineEndpointDevice(d[0].results,c[0].results,f),k=j.reduce(h("non-compliant"),0),l=j.reduce(h("exempt"),0),m="";if(k||l){var n="<div>{{ non_compliant_number }}&nbsp;{{ non_compliant_device_info }}</div>",o="<div>{{ exempt_number }}&nbsp;{{ exempt_device_info }}</div>",p='<div class="warning-message"><f-icon class="fa-warning"></f-icon><div class="message-content">'+(k?n:"")+(l?o:"")+'<p><a href="#">{{ action }}</a></p></div></div>';m=b.renderTemplate(p,{non_compliant_number:k,non_compliant_device_info:a.getInfo("ComplianceStat::Msg::non_compliant"),exempt_device_info:a.getInfo("ComplianceStat::Msg::exempt"),exempt_number:l,action:a.getInfo("ComplianceStat::Msg::action")})}return m},function(b){return b.msg='<div class="warning-message"><f-icon class="fa-warning"></f-icon><div class="message-content"><p>'+a.getInfo("Compliance status unavailable")+"</p></div></div>",b})},_editExemptList:function(a,b){return function(c){return c.push({id:0,devices:[{name:b}]}),d.edit("user","security-exempt-list",a,{rule:c})}},_createExemptList:function(a,b){return function(){var c=[{id:0,devices:[{name:b}]}];return d.append("user","security-exempt-list",{name:a,rule:c})}},_updateInterfaceExemptList:function(a,b,c){return function(){var e={"security-exempt-list":c};return"vap-switch"===b?d.edit("wireless-controller","vap",a,e):d.edit("system","interface",a,e)}},_getExemptListName:function(b,c){var d="/api/v2/cmdb/system/interface/",e="/api/v2/cmdb/wireless-controller/vap/",f=("vap-switch"===c?e:d)+b+"/?format=security-exempt-list";return a.getJSON(f).then(function(a){return a.results[0]["security-exempt-list"]})},_getExemptListRule:function(b){var c="/api/v2/cmdb/user/security-exempt-list/"+b;return a.getJSON(c).then(function(a){return a.results[0].rule})},_exemptDevice:function(b,c,d){return g._getExemptListName(b,c).then(function(e){var f=e||b+"-exempt-list";return g._getExemptListRule(f).then(g._editExemptList(f,d),g._createExemptList(f,d)).then(e?a.when({results:{status:"success"}}):g._updateInterfaceExemptList(b,c,f))})},exemptDeviceType:function(a,b,c){return g._exemptDevice(a,b,c)},exemptDevice:function(a,b,c){function e(){var a=c.host_name||c.mac,b={alias:a,mac:c.mac,type:c.device_type};return d.append("user","device",b)}return c.alias?g._exemptDevice(a,b,c.alias):e().then(g._exemptDevice(a,b,c.host_name||c.mac))}};return g}),fweb_define("ajax_setup",["jquery","fweb","fweb.util/persist"],null,function(a,b,c){"use strict";a.ajaxSetup({beforeSend:function(a,b){var d,e;"GET"!==b.type&&(d=/^\//.test(b.url)?b.url:window.location.pathname,e=/^\/p\//.test(d)?c.getPythonCsrfToken():c.getCsrfToken(),a.setRequestHeader("X-CSRFTOKEN",e))}}),a(document).ajaxError(function(a,c){0===c.readyState&&b.util.structure.topPostMessage({messageType:"disconnected"})})}),fweb_define("jquery.validate.rules",["jquery.validate.methods"],null,function(){"use strict";var a={firewall:{address:{name:{nameRequired:!0,XSSChecker:!0,IdentifierChecker:!0,DuplicateEntryChecker:[{path:"firewall",name:"address"},{path:"firewall",name:"addrgrp"},{path:"firewall",name:"vip"},{path:"firewall",name:"vipgrp"}]}},address6:{name:{nameRequired:!0,XSSChecker:!0,IdentifierChecker:!0,DuplicateEntryChecker:[{path:"firewall",name:"address6"},{path:"firewall",name:"addrgrp6"}]}}}};return a.firewall.addrgrp=a.firewall.address,a.firewall.addrgrp6=a.firewall.address6,a});